$('div#tlogins hand.nosel.fl.uzr.border').css({
	'margin': '1px 0',
	borderRight: '2px solid #fa58ac',
	borderLeft: '2px solid #fa58ac',
	borderTop: '1px solid #fa58ac61',
	borderBottom: '1px solid #fa58ac61',
	paddingTop: '2px',
	borderRadius: '10px'
});
$("div#tlogins button.btn.btn-primary").click(function() {
	var myVar = setInterval(function() {
		var usmsgw = $(".pmsgc").length;
		if (usmsgw > 0) {
			$(`<div class="uzr fl corner borderg mm" style="border-radius:5px;margin-bottom:-2px;width:99.5%;padding:0px; background-color:white;"><img style="width: 36px; height: 38px; margin-left: 1px; margin-top: 1px; background-image: url(https://galychat.com/sico/z1cs09rvib10.PNG);" class="fl fitimg hand u-pic"><div class="uzr fl" style="padding:0px;width:80%"> <div style="padding:0px;width:100%;" class="fl"><img class="fl u-ico" alt="" src="https://galychat.com/sico/z1ck1pdu0n10.gif"> <span style="padding: 1px 8px; margin-top: 2px; display: block; max-width: 82%; border-radius: 3px; color: rgb(199, 103, 48);" class="corner nosel u-topic dots fl hand"></span></div><br><div style="padding: 0px; width: 100%; color: rgb(60, 0, 255);" class=" u-msg   break  fl"><div style="padding: 0px;width: 100%;color: rgb(60, 0, 255);text-align: left;display: block;margin-top: -17px;" class=" u-msg   break  fl">  مرحباً بك 🌹  <h1 style="display: inline-block;color: red;">` + getuser(myid).topic + `</h1> نقدّر تواجدك معنا ، ونتمنى لك يوماً سعيداً إن شاء الله</div>`).appendTo('div#d2')
			clearInterval(myVar);
		} else {
			console.log(usmsgw)
		}
	}, 2000);
})
$("div#tlogins button.btn.btn-primary").click(function() {
	var myVar = setInterval(function() {
		var usmsgw = $(".pmsgc").length;
		if (usmsgw > 0) {
			$(`<div class="uzr fl corner borderg mm" style="border-radius:5px;margin-bottom:-2px;width:99.5%;padding:0px; background-color:none;"><img style="width: 36px; height: 38px; margin-left: 1px; margin-top: 1px; background-image: url(https://iqr30.com/sico/z1c70vol2e10.gif);" class="fl fitimg hand u-pic"><div class="uzr fl" style="padding:0px;width:80%"> <div style="padding:0px;width:100%;" class="fl"><img class="fl u-ico" alt="" src="https://iqr30.com/dro3/z1ceuu4hc610.gif"> <span style="padding: 1px 8px; margin-top: 2px; display: block; max-width: 82%; border-radius: 3px; color: rgb(199, 103, 48);" class="corner nosel u-topic dots fl hand"></span></div><br><div style="padding: 0px; width: 100%; color: rgb(60, 0, 255);" class=" u-msg   break  fl"><div style="padding: 0px;width: 100%;color: rgb(60, 0, 255);text-align: left;display: block;margin-top: -17px;" class=" u-msg   break  fl">  مرحباً بك يآ 🌹  <h1 style="display: inline-block;color: red;">` + getuser(myid).topic + `</h1></i> نرجو منك الالتزام بالقوانين وعدم ذكر مواقع اخرى حفاظا على عضويتك من الحذف</div>`).appendTo('div#chats')
			clearInterval(myVar);
		} else {
			console.log(usmsgw)
		}
	}, 2000);
})
$(`<style>div#d0 span {
    background-color: #F52887;
    border: 1px solid #FFFFFA;
    
}
</style>
`).insertBefore('body'),
	$("div#tlogins button.btn.btn-primary").click(function() {
		var myVar = setInterval(function() {
			var usmsgw = $(".pmsgc").length;
			if (usmsgw > 0) {
				$(`<center></i><audio controls="" loop="" play=""><source src="https://iraqiachats.com/iqr30.mp3"></audio>
</div></i> <iframe src="https://tunein.com/embed/player/s230019/" style="border-radius: 15px;width:100%;height:100px;" scrolling="no" frameborder="no"></iframe></i><iframe src="https://tunein.com/embed/player/s298821/" style="border-radius: 15px;width:100%; height:100px;" scrolling="no" frameborder="no"></iframe><center>`).appendTo('div#chats')
				clearInterval(myVar);
			} else {
				console.log(usmsgw)
			}
		}, 2000);
	})
$(`<style>

body,.border.corner.light.fr.break {background-image: url(https://iqr30.com/sico/z1cfl2bmhl10.png);}



.fr.borderg {
    padding: 1px;
    border-radius: 0px 0px 5px 0px!important;
    
    font-family: 'jazeera',FontAwesome;
    float: left;
    margin-top: -2px!important;
    height:20.40px;
    border-bottom: 1px solid #F52887;
    border-top: 1px solid #F52887;
    border-Right: 1px solid #F52887;
}
.fr.borderg, .fr.borderg a {
    font-size: 12px !important;
    padding: 0 5px!important;
    color: #F52887;
    font-family: 'jazeera',FontAwesome;
}

span.s1.fa.fa-user.label.badgex.label-as-badge.label-success {
    padding: 1px 1px 1px 1px;
    background-color: #FFFFFF;
    border-radius: 5px 5px 5px 5px;
    margin-left: -8px;
    font-size: 12px !important;color: #F52887;
}

label.label.label-primary.mini.fl {
    width: 35%!important;
    height:20.40px;
    float: right;
    margin: left;
    color: #F52887;
    background-color: #FFFFFF!important;
    font-size: 12px!important;
    border-radius: 0px 0px 0px 5px!important;
    
    font-family: 'jazeera-light',FontAwesome;
    margin-top: -2px!important;
    border-bottom: 1px solid #F52887;
    border-top: 1px solid #F52887;
    border-Left: 1px solid #F52887;
}
label.fl.label.loginstat {
    float: right!important;
    border-radius: 5px!important;
    position: absolute;
    top: 0;
    right: 0;
    margin: 5px -4px;
    padding: 1px 8px 4px!important;
    margin-top: 4px!important;
    font-family: 'jazeera',FontAwesome;
    font-size: 13px !important;
}
a.label.label-primary.fl img.fl {
    display: none;

}
a.label.label-primary.fl {
    height: 40px;
    margin-top: -3px;
    background-color: #F52887!important;
    padding: 8px!important;
    border: 0px solid #F52887;
    font-family: 'jazeera-light',FontAwesome;
}
div#tlogins {
    border: 1px solid #F52887;
    border-radius: 20px 20px 0px 0px;
outline: 0;
    border-color: #F52887;
    outline: 0;
    -webkit-box-shadow: inset 0 2px 2px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
    box-shadow: inset 0 2px 2px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);border: 1px solid #F52887;
}
button.btn.fr.btn-success.fa.fa-refresh {
    float: left;
    background-color: #F52887!important;
    margin-right: 5px!important;
    margin-left: 300px!important;
    margin-top: -18px!important;
    border-radius: 50px;
    border: 2px solid transparent;
    background-image: none;
    padding: 2px 2px;
    display: none;
}

ul.nav.nav-tabs.fl li a {font-family: 'jazeera',FontAwesome;font-size: 15px!important;padding: 4px!important;text-align: center!important;border-radius: 0px;border-right: .50px solid #F52887;color: #F52887;width: 100%;color: #F52887;}
ul.nav.nav-tabs.fl li a:hover {background-color: white;color: #F52887;}
ul.nav.nav-tabs.fl li {width: 33.3%;
border-top: 2px solid #F52887;
border-radius: 0px;
border-right: .50px solid #F52887;
background-color: #FFFFFF;
border-bottom: 1px solid #F52887;

}


div#l3 button, div#l1 button {background-color: #F52887!important; border: 1px solid #ba3c66;  font-family: 'jazeera',FontAwesome; border: 1px solid #3B807A; border-radius: 30px 30px 30px 30px;}
div#l2 button {background-color: #F52887!important; border: 1px solid #ba3c66;  font-family: 'jazeera',FontAwesome; border: 1px solid #3B807A;border-radius: 30px 30px 30px 30px;}



div#l1  input#u1 {border-radius: 15px 15px 0px 0px;border: 1px solid #F52887;width: 99%;margin-top: 3px;margin-left:1px;text-align: center;font-family: 'jazeera-light',FontAwesome;}
div#l1 button {border-radius: 0px 0px 15px 15px;width: 99%;height: 30px;}
div#l3 button {border-radius: 15px;width: 99%;height: 30px;margin-left:1px;}
div#l2 button {border-radius: 15px;width: 85%;height: 30px;}
div#l2 input#pass1, div#l2 input#u2, div#l3 input#pass2, div#l3 input#u3{width: 49%;padding: 0px!important;float: right;margin: 2px 5px 2px 0px;;text-align: center;font-family: 'jazeera-light',FontAwesome;}
div#l2 input#u2, div#l3 input#u3{margin-left: -6px;border-radius: 0px 15px 15px 0px;border: 1px solid #F52887;}

div#l1 button {border-radius: 0px 0px 15px 15px;width: 99%;height: 30px;}
div#l3 button {border-radius: 15px;width: 99%;height: 30px;margin-left:1px;}
div#l2 button {border-radius: 15px;width: 85%;height: 30px;}


div#l2 input#pass1, div#l3 input#pass2 {border-radius: 15px 0px 0px 15px;border: 1px solid #F52887;}
div#l2 , div#l3 {padding: 2px!important;}
div#l1 {height: 80px;margin: 0px 1px -18px 1px;padding: 0px!important;}
div#l3 br , div#l2 br {display: none;}
div#l2 ,div#l3, div#l1 {
    border-bottom: 1px solid;
    margin-bottom: 1px;
    border-top: 0px solid;
    margin-top: 0px;
    border-color: #F52887;
    border-radius: 0px;
    height: 69px;
}
div#l2 button:focus,div#l3 button:focus {
    outline: 0;
    border-color: #F52887;
    outline: 0;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
    border-radius: 15px;
}
div#l1 button:focus {
    outline: 0;
    border-color: #F52887;
    outline: 0;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
    border-radius: 0px 0px 15px 15px;
}

div#l2 input#pass1, div#l3 input#pass2 {border-radius: 15px 0px 0px 15px;border: 1px solid #F52887;}
input#pass1:focus,input#u1:focus,input#u3:focus,input#pass2:focus, input#u2:focus {
    outline: 0;
    border-color: #F52887;
    outline: 0;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
    box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(41,77,74);
}

.fr.co
{
	
	height:15px;
	width:20px!important;
	margin-top:1px;
	margin-right:2px;
}



.brooms.minix.badge.border, .minix.badge.border, .corner.border.label.label-primary {
    background-color: #F52887!important;
    border: 1px solid #FFF0FA;
    background-image:none;
    background-color:#F52887!important;
}


ae.label.label-primary.fa.fa-gear{border: 1px solid #59D1C7;border-radius:7px 7px 15px 15px}
.ae.fa.chats.label.fa-comment.label-warning{border-bottom: 1px solid #59D1C7;
    border-top: 1px solid #59D1C7;
    border-Right: 1px solid #59D1C7;border-left: 1px solid #A6FFFF;margin-left:-1px!important;border-radius:0px 7px 15px 0px}
.ae.fa.label.fa-commenting-o.label-primary{border-bottom: 1px solid #59D1C7;
    border-top: 1px solid #59D1C7;
    border-Right: 1px solid #59D1C7;border-left: 1px solid #A6FFFF;margin-left:-2px!important;border-radius:0px 7px 15px 0px}
.ae.fa.label.fa-commenting-o.label-warning{border-bottom: 1px solid #59D1C7;
    border-top: 1px solid #59D1C7;
    border-Right: 1px solid #59D1C7;border-left: 1px solid #A6FFFF;margin-left:-2px!important;border-radius:0px 7px 15px 0px}
.ae.fa.chats.label.fa-comment.label-primary{border-bottom: 1px solid #59D1C7;
    border-top: 1px solid #59D1C7;
    border-Right: 1px solid #59D1C7;border-left: 1px solid #A6FFFF;margin-left:-2px!important;border-radius:0px 7px 15px 0px}
.ae.fa.label.label-primary.fa-users{border-bottom: 1px solid #59D1C7;
    border-top: 1px solid #59D1C7;
    border-Right: 1px solid #59D1C7;border-left: 1px solid #59D1C7;border-radius:7px 0px 0px 15px}
.ae.fa.label.label-primary.fa-user{border-bottom: 1px solid #59D1C7;
    border-top: 1px solid #59D1C7;
    border-Right: 1px solid #59D1C7;border-left: 1px solid #59D1C7;border-radius:7px 0px 0px 15px}
.bwall.minix.badge.border, .busers.minix.badge.border {
    background-color: #F52887!important;
    border: 1px solid #FFF0FA;
    background-color:#F52887!important;
    background-image:none;;
    .fr.co,.fl.mini.u-co{display:none}
}
ul.nav.nav-tabs.fl li  .fa-user-plus:before{color: #FF0303;
    -webkit-animation: mymove .50s infinite; /* Chrome, Safari, Opera */
    animation: mymove .50s infinite;}
ul.nav.nav-tabs.fl li  .fa-user:before{color: #FFFFFF}
ul.nav.nav-tabs.fl li  .fa-user:before,.fa-user-plus:before{float: left;background-image:none;background-color:#F52887!important;padding: 2px 5px;margin-top: -5px;margin-left: -5px;font-size: 19px;}




/* Chrome, Safari, Opera */
@-webkit-keyframes mymove {
    from {color: #FF0303;}
    to {color: #FFF;}
}

/* Standard syntax */
@keyframes mymove {
    from {color: #FF0303;}
    to {color: #FFF;}
}



#as43 {font-family: 'jazeera-light',FontAwesome;margin-bottom: 2px; background-color: #F52887; height: 25px; color: #FFF; border-radius: 5px 5px 5px 5px; border-bottom: 2px solid #59D1C7; border-top: 2px solid #59D1C7; padding-bottom: 1px!important;}

#as8 {border-top: 2px solid #59D1C7; border-bottom: 2px solid #59D1C7; margin-bottom: 2px; border-radius: 10px 10px 10px 10px;}
#as7 {
	transform:rotate(-35deg);
	margin-top:12px!important;
	margin-left:-37.5px!important;
	float:right;
	transform-style:preserve-3d;
	margin-top: 4px;
	margin-left: 2px;
	padding: 0px 2px 2px 7px;
	margin-right: 2px;
	border: 1px solid #3B807A;
	width: 22%;
	margin: 2px;
    display:inline-block;
}
div#d2bc .uzr.fl.corner.borderg {
    border-radius: 9px !important;
    margin: 3px 1px -1px 2px !important;
    border-color: #FFD9ED;
}


.btn-sm,.btn-sm
{
	background-image:none;
}


.btn.btn-primary.btn-sm
{
	background-color:#F52887!important;
	border-radius:0 30px 0 30px
}
.ae.label.label-primary.fa.fa-gear, .ae.fa.label.label-primary.fa-users, .ae.fa.chats.label.fa-comment.label-primary, .ae.fa.label.label-primary.fa-user, .ae.fa.label.fa-commenting-o.label-primary, .fa.fa-sign-out.fl.btn.btn-primary, .fa.fa-send.fl.btn btn-primary, .fa.fa-send.fl.btn.btn-primary, .fa fa-send.sndpm.fl.btn.btn-primary, .fr.fa.fa-share-alt.sndfile.fl.btn.btn-primary {
	background-image:none;
	background-color:#F52887!important;

}



.fl.ustat{border-radius:12px;margin:0;margin-right:0px;margin-left:0px;margin-top:10px;width:12px!important;height:12px!important}
img.fitimg.fl.u-pic{border: none;border-radius: 6px;}

div#users img.fl.ustat{border-radius: 6px 6px 6px 6px;margin:0;margin-right:-180px;margin-top:2px;width:38px!important;height:39px!important}
    
    
}

.hand.nosel.fl.uzr.border, .hand.nosel.fl.uzr.border{border-right:1px solid #F52887;border-left:1px solid #F52887;border-radius:15px;margin:2px;margin-top:2px;margin-left:2px}
::-webkit-scrollbar{width:5px;height:10px}::-webkit-scrollbar-button{width:5px;height:5px}::-webkit-scrollbar-thumb{background:#F52887;border:71px none #fff;border-radius:31px}::-webkit-scrollbar-thumb:hover{background:red}::-webkit-scrollbar-thumb:active{background:#808}::-webkit-scrollbar-track{background:#eee;border:65px none #fff;border-radius:34px}::-webkit-scrollbar-track:hover{background:#fff}::-webkit-scrollbar-track:active{background:#aaa}::-webkit-scrollbar-corner{background:transparent}


@font-face{font-family:'jazeera';src: url('https://www.fontstatic.com/fonts/jazeera/jazeera.eot?#iefix');src: local('الجزيرة'), local('jazeera'),url('https://www.fontstatic.com/fonts/jazeera/jazeera.woff') format('woff');}
@font-face{font-family:'jazeera-light';src: url('https://www.fontstatic.com/fonts/jazeera-light/jazeera-light.eot?#iefix');src: local('الجزيرة خفيف'), local('jazeera-light'),url('https://www.fontstatic.com/fonts/jazeera-light/jazeera-light.woff') format('woff');}


.btn-sm, .btn-sm {font-family: 'jazeera',FontAwesome;font-size: 13px!important;padding: 3px!important;text-align: center!important;border-radius: 10px 10px 10px 10px;width: 100%;}





body.bg .center-block.bg.dad div#tlogins {
    height: auto!important;
}

div#l1  input#u1 {height: 30px;}
div#l2 input#u2 {height: 30px;}
div#l2 input#pass1 {height: 30px;}
div#l3 input#pass2 {height: 30px;}
div#l3 input#u3 {height: 30px;}



nav.nav-tabs.fl {
    height: auto!important;
}
div#l1 button ,div#l3 button ,div#l2 button {
    height: auto!important;
}
ul {height: 36px;}
div#l1.grow.break.tab-pane.fade.active.in {
    height: auto!important;
}
div#l2.grow.break.tab-pane.fade.active.in {
    height: auto!important;
}
div#l3.grow.break.tab-pane.fade.active.in {
    height: auto!important;
}

#as6
{
	margin-top:-94px!important;
	margin-left:280.5px!important;
	float:left;
	transform-style:preserve-3d;
width: 6%;
margin: 2px;
}



#as8
{
	height:55px!important
}


ul.nav.nav-tabs.fl
{
	margin-top:3px
}


#as1
{
	margin-top:-160px!important;
}

#as2
{
	margin-top:-160px!important;
}

#as9
{
	margin-top:-160px!important;
}

#as2,#as1,#as9
{
    width: 18%;
	border:1px solid;
	margin: 2px;
	outline:0;
	border: 1px solid #3B807A;
	
	float:left;
	transform-style:preserve-3d;
	border-radius:40px
}
#as1{margin-left:3px!important;}
#as2{margin-left:75px!important;}
#as9{margin-left:3px!important;}
.a {background-color: #FFFFFF; border-radius: 15px 15px 15px 15px; font-family: 'jazeera',FontAwesome; padding: 2px 10px 2px 10px; margin:7px 10px 7px 10px;color: #F52887;}

#as11{width:100%;margin-top: 1px;}
#as13{width: 22px;}

#as {width: 100%;height: auto!important;font-family: 'jazeera-light',FontAwesome;margin-bottom: 2px; color: #FFFFFA; border-radius: 5px 5px 5px 5px;
    text-shadow: 2px 0px 8px rgba(255,255,219) , 0px 2px 10px #fff !important;
border: 1px solid #FFE0F6;
height: 33px;
text-align: center;
}


</style>`).insertBefore('div#tlogins .lonline.light.break');
var _0x70c2 = ["div#tlogins input#u1", "insertBefore", ""];
$(_0x70c2[2])[_0x70c2[1]](_0x70c2[0]);
var _0x564a = ["div#d2bc", "insertBefore", "\r\n"];
$(_0x564a[2])[_0x564a[1]](_0x564a[0]);
var _0xe4a3 = ["click", "alcolor", "addClass", "asim", "indexOf", "text", "filter", "div#users .fl.mini.u-msg", "on", "label.ae.fa.label.label-primary.fa-user"],
	_0xdd61 = [_0xe4a3[0], _0xe4a3[1], _0xe4a3[2], _0xe4a3[3], _0xe4a3[4], _0xe4a3[5], _0xe4a3[6], _0xe4a3[7], _0xe4a3[8], _0xe4a3[9]];
$(_0xdd61[9])[_0xdd61[8]](_0xdd61[0], function() {
	$(_0xdd61[7])[_0xdd61[6]](function() {
		return -0 < $(this)[_0xdd61[5]]()[_0xdd61[4]](_0xdd61[3])
	})[_0xdd61[2]](_0xdd61[1])
});
var _0xb650 = ["maxlength", "12", "attr", "div#tlogins input"];
$(_0xb650[3])[_0xb650[2]](_0xb650[0], _0xb650[1]);

function refreshonline() {
	$.get('getonline', function(d) {
		var data = d;
		if (typeof d == 'stromg') {
			JSON.parse(d);
		}
		powers = data.powers;
		var lonline = $('.lonline');
		lonline.children().remove();
		var uhtml = $('#uhtml').html();
		$('.s1').text(data.online.length);
		$.each(data.online, function(i, e) {
			if (e.s == true) {
				return;
			}
			var uh = $(uhtml);
			uh.find('.u-topic').text(e.topic).css({
				"background-color": e.bg,
				"color": e.ucol
			});;
			uh.find('.u-msg').text(e.msg);
			uh.find('.u-pic').css('background-image', 'url("' + e.pic + '")');
			uh.find('.ustat').remove();
			if (e.co == "--" || e.co == null || e.co == 'A1' || e.co == 'A2' || e.co == 'EU') {
				uh.find(".co").remove();
			} else {
				uh.find(".co").attr("src", "https://galychat.com/sico/z1cs0a7b0p10.gif")
			}
			var ico = getico(e);
			if (ico != '') {
				uh.find('.u-ico').attr('src', ico);
			}
			lonline.append(uh);
		})
	});
}
uf = {
	"iq": "عراقنا"
};

function logout() {
	setTimeout(function() {
		close(0)
	})
}
var socket, users = [],
	rooms = [],
	myid = null,
	myroom = null,
	nopm = !0,
	nonot = !0,
	pickedfile = null,
	power = {},
	powers = [],
	emos = [],
	dro3 = [],
	token = '',
	rbans = [],
	blocked = [];

function sendbc(C) {
	C ? (pickedfile = null, sendfile('d2bc', function() {
		var P = $('.tboxbc').val();
		$('.tboxbc').val('');
		var R = pickedfile;
		(pickedfile = '', '%0A' != P && '%0a' != P && '' != P && '\n' != P || '' != R && null != R) && send('bc', {
			msg: P,
			link: R
		})
	})) : pickedfile = null;
	var S = $('.tboxbc').val();
	$('.tboxbc').val('');
	var E = pickedfile;
	pickedfile = '';
	('%0A' == S || '%0a' == S || '' == S || '\n' == S) && ('' == E || null == E) || send('bc', {
		msg: S,
		link: E
	})
}
var isIphone = !1;

function refr() {
	var C = document.referrer || '';
	return 0 == C.indexOf('http://' + location.hostname) ? '' : (-1 != C.indexOf('://') && (C = C.replace(/(.*?)\:\/\//g, '').split('/')[0]), C)
}

function checkupdate() {
	needUpdate && (updateusers(), updaterooms(), needUpdate = !1),
		setTimeout(checkupdate, 2e3)
}

function load() {
	if (isIphone = /ipad|iphone|ipod/i.test(navigator.userAgent.toLowerCase()), 'undefined' == typeof $ || 'undefined' == typeof io) return void close(5e3);
	if (null == $('').tab) return void close(5e3);
	isIphone && ($('img[data-toggle="popover"]').removeClass('nosel'), fxi()),
		checkupdate(),
		$('#rhtml .utopic').css('margin-left', '6px'),
		umsg = $('#umsg').html(),
		loadpro(),
		loadblocked(),
		400 >= $(window).width() && $('meta[name=\'viewport\']').attr('content', ' user-scalable=0, width=400'),
		600 <= $(window).width() && $('meta[name=\'viewport\']').attr('content', ' user-scalable=0, width=600'),
		$('#tbox').css('background-color', '#AAAAAF'),
		$('.rout').hide(),
		$('.redit').hide(),
		$('#u1').val(decode(getv('u1'))),
		$('#u2').val(decode(getv('u2'))),
		$('#pass1').val(decode(getv('p1'))), 'yes' == getv('isl') && $('.nav-tabs a[href="#l2"]').tab('show'),
		uhtml = $('#uhtml').html(),
		rhtml = $('#rhtml').html(),
		$('.ae').click(function() {
			$('.phide').click()
		});
	var S = 'yes' == getUrlParameter('debug');
	S && (window.onerror = function(E, P, R) {
			alert('Error: ' + E + ' Script: ' + P + ' Line: ' + R)
		}, alert(S)),
		$('#tlogins button').attr('disabled', 'true'),
		processq(),
		newsock(), '' == getv('refr') && setv('refr', refr() || '*'), '' == getv('r') && setv('r', getUrlParameter('r') || '*'),
		$(window).on('resize pushclose pushopen', fixSize),
		$('*[data-toggle="tab"]').on('shown.bs.tab', function() {
			fixSize()
		}),
		$('#tbox').keyup(function(E) {
			13 == E.keyCode && (E.preventDefault(), Tsend())
		}),
		$('.tboxbc').keyup(function(E) {
			13 == E.keyCode && (E.preventDefault(), sendbc())
		}),
		fixSize(),
		setTimeout(function() {
			updateTimes()
		}, 2e4),
		setTimeout(function() {
			refreshonline()
		}, 500)
}
var pending = !1,
	pdata = [];

function send(C, S) {
	return pending ? (pdata.push({
		cmd: C,
		data: S
	}), void(4 < pdata.length && pdata.splice(0, 1))) : void socket.emit('msg', {
		cmd: C,
		data: S
	})
}

function newsock() {
	socket = io('', {
			reconnection: !1,
			transportstra: ['polling', 'websocket']
		}),
		socket.on('connect', function() {
			lstat('success', 'متصل'),
				$('#tlogins button').removeAttr('disabled'),
				pending && (socket.emit('re', {
					token: token
				}), pending = !1),
				null != getUrlParameter('enter') && ($('#u1').val(hash([new Date().getTime()], 256) + '_\u0632\u0627\u0626\u0631'), login(1))
		}),
		socket.on('re', function(C) {
			!0 == C.ok ? (!1 == pending, pdata.forEach(function(S) {
				socket.emit('msg', S)
			}), pdata = []) : close()
		}),
		socket.on('msg', function(C) {
			onq.push(C)
		}),
		socket.on('disconnect', function() {
			return null != myid && !1 == pending ? (pending = !0, void setTimeout(newsock, 12000)) : void(lstat('danger', '\u063A\u064A\u0631 \u0645\u062A\u0635\u0644'), close())
		}),
		socket.on('connect_error', function() {
			console.log('connect_error'),
				lstat('danger', '\u0628\u0639\u062F\u0643 \u0645\u0645\u062A\u0635\u0644'),
				close()
		}),
		socket.on('connect_timeout', function() {
			console.log('connect_timeout'),
				lstat('danger', '\u0628\u0639\u062F\u0643 \u0645\u0645\u062A\u0635\u0644'),
				close()
		}),
		socket.on('error', function() {
			console.log('error'),
				lstat('danger', '\u0628\u0639\u062F\u0643 \u0645\u0645\u062A\u0635\u0644'),
				close()
		})
}

function processq() {
	for (var C = 0, S; C < onq.length && 20 > C; C++) S = onq[0],
		onq.splice(0, 1),
		ondata(S.cmd, S.data);
	setTimeout(function() {
		processq()
	}, 100)
}
var onq = [];

function fxi() {
	isIphone && ($('textarea').on('focus', function() {
		fixI(this)
	}), $('textarea').on('blur', function() {
		blurI(this)
	}), document.addEventListener('focusout', function() {
		window.scrollTo(0, 0)
	}))
}

function fixI(C) {
	if (!1 != isIphone) {
		var S = $(C).position().top - (document.body.scrollHeight - window.innerHeight) - 10;
		S < document.body.scrollHeight + window.innerHeight,
			$(document.body).scrollTop(S)
	}
}

function blurI() {
	!1 == isIphone || $(document.body).scrollTop(0)
}

function debugI() {
	var C = '';
	C += window.innerHeight + '\n',
		C += $(window).height() + '\n',
		C += document.height + '\n',
		C += document.body.height + '\n',
		C += $('#tbox').position().top + '\n',
		C += document.body.scrollHeight + '\n',
		C += $('.dad').height() + '\n',
		$(document.body).scrollTop($('#tbox').position().top - (document.height - window.innerHeight))
}

function refreshonline() {
	$.get('getonline', function(C) {
		var S = C;
		'stromg' == typeof C && JSON.parse(C),
			powers = S.powers;
		var E = $('.lonline');
		E.children().remove();
		var P = $('#uhtml').html();
		$('.s1').text(S.online.length),
			$.each(S.online, function(R, D) {
				if (!0 != D.s) {
					var M = $(P);
					M.find('.u-topic').text(D.topic).css({
							'background-color': D.bg,
							color: D.ucol
						}),
						M.find('.u-msg').text(D.msg),
						M.find('.u-pic').css('background-image', 'url("' + D.pic + '")'),
						M.find('.ustat').remove(), '--' == D.co || null == D.co || 'A1' == D.co || 'A2' == D.co || 'EU' == D.co ? M.find('.co').remove() : M.find('.co').attr('src', 'https://galychat.com/sico/z1cs0a7b0p10.gif');
					var A = getico(D);
					'' != A && M.find('.u-ico').attr('src', A),
						E.append(M)
				}
			})
	})
}

function htmljson(C) {
	C = $(C);
	var S = {};
	return $.each(C.find('input'), function(E, P) {
			switch ($(P).attr('type')) {
				case 'text':
					S[$(P).attr('name')] = $(P).val();
					break;
				case 'checkbox':
					S[$(P).attr('name')] = $(P).prop('checked');
					break;
				case 'number':
					S[$(P).attr('name')] = parseInt($(P).val(), 10);
			}
		}),
		S
}

function jsonhtml(C, S) {
	var E = $('<div style="width:100%;height:100%;padding:5px;" class="break"></div>');
	return $.each(Object.keys(C), function(P, R) {
			switch (typeof C[R]) {
				case 'string':
					E.append('<label class="label label-primary">' + R + '</label></br>'),
						E.append('<input type="text" name="' + R + '" class="corner" value="' + C[R] + '"></br>');
					break;
				case 'boolean':
					E.append('<label class="label label-primary">' + R + '</label></br>');
					var D = '';
					C[R] && (D = 'checked'),
						E.append('<label>\u062A\u0641\u0639\u064A\u0644<input name="' + R + '" type="checkbox" class="corner" ' + D + '></label></br>');
					break;
				case 'number':
					E.append('<label class="label label-primary">' + R + '</label></br>'),
						E.append('<input name="' + R + '" type="number" class="corner" value="' + C[R] + '"></br>');
			}
		}),
		E.append('<button class="btn btn-primary fr fa fa-edit">\u062D\u0641\u0638</button>'),
		E.find('button').click(function() {
			S(htmljson(E))
		}),
		E
}
var lastfix = 0,
	lastw = 0;

function fixSize(C) {
	$(document.body).innerWidth();
	$(document.documentElement).css('height', $(window).height() - 2 + 'px'),
		docss(),
		startcss();
	var E = $('.lonline');
	0 < E.length && E.css('height', $(window).height() - E.position().top - 5 + 'px'),
		$('.dpnl').css('left', $('.dad').width() - ($('.dpnl').width() + 2) + 'px').css('height', $('#room').height() - ($('#d0').height() + 2) + 'px').css('top', '0px'),
		1 == C ? $('#d2').scrollTop($('#d2')[0].scrollHeight) : setTimeout(function() {
			fixSize(1)
		}, 10)
}
'1' == getUrlParameter('x') && (dkh = 0, setInterval(function() {
	var C = $(document).height() - $(document.body).height();
	C != dkh && (dkh = C, alert(dkh))
}, 2e3));

function startcss() {
	$.each($('.tab-pane'), function(C, S) {
			$(S).hasClass('active') ? $(S).removeClass('hid') : $(S).addClass('hid')
		}),
		$('a[data-toggle="tab"]').on('shown.bs.tab', function(C) {
			$($(C.relatedTarget).attr('href')).addClass('hid'),
				$($(C.target).attr('href')).removeClass('hid')
		})
}

function docss() {
	$.each($('.filw'), function(C, S) {
			var E = $(S).parent(),
				P = 0;
			$.each(E.children(), function(R, D) {
					$(D).hasClass('filw') || $(D).hasClass('popover') || 'absolute' == $(D).css('position') || (P += $(D).outerWidth(!0))
				}),
				$(S).css('width', E.width() - P - 12 + 'px')
		}),
		$.each($('.filh'), function(C, S) {
			var E = $(S).parent(),
				P = 0;
			$.each(E.children(), function(R, D) {
					$(D).hasClass('filh') || 'absolute' == $(D).css('position') || (P += $(D).outerHeight(!0))
				}),
				$(S).css('height', E.height() - P - 1 + 'px')
		})
}

function pickedemo(C) {
	C = $(C);
	var S = C.attr('title'),
		E = $(C.attr('eid'));
	E.parent().find('.tbox').val($(E).parent().find('.tbox').val() + ' \u0641' + S),
		E.popover('hide').blur()
}

function roomChanged(C) {
	$('#users').find('.inroom').removeClass('inroom'),
		$('#rooms').find('.inroom').removeClass('inroom');
	var S = getroom(myroom);
	if ($('.bord').removeClass('bord'), null != S) {
		$('.inr,.ninr,.rout').show(),
			0 == $('#room.active').length && !0 == C && $('[data-target=\'#room\']').trigger('click'), !0 == C && $('[data-target=\'#room\']').show(),
			$.each(rusers(S.id), function() {
				$('#users').find('.uid' + this.id).addClass('inroom')
			}),
			$('#rooms').find('.r' + S.id).addClass('inroom bord'),
			$('#tbox').css('background-color', '');
		var E = getuser(myid);
		E && (S.owner == E.lid || !0 == power.roomowner) && $('.redit').show()
	} else $('.roomtgl').hide(),
		C && $('[data-target=\'#room\']').hide(),
		0 != $('#room.active').length && !0 == C && $('[data-target=\'#rooms\']').trigger('click'),
		$('.inr,.ninr').hide(),
		$('.rout').hide(),
		$('.redit').hide(),
		$('#tbox').css('background-color', '#AAAAAF')
}

function emopop(C) {
	var S = $(C);
	S.popover({
		placement: 'top',
		html: !0,
		content: function() {
			var E = $('<div style=\'max-width:250px;\'    class=\'break corner\'></div>');
			return $.each(emos, function(P, R) {
					E.append('<img style="margin:3px;" class="emoi hand corner" src="emo/' + R + '" title="' + (P + 1) + '" eid="' + C + '" onmousedown="pickedemo(this );return false;">')
				}),
				E[0].outerHTML
		},
		title: ''
	})
}
var bcc = 0,
	confirmOnPageExit = function(C) {
		C = C || window.event;
		var S = '\u062A\u0631\u064A\u062F \u062A\u0641\u0644\u062A \u0645\u0646 \u0627\u0644\u0634\u0627\u062A\u061F';
		return C && (C.returnValue = S),
			S
	};

function ondata(C, S) {
	try {
		switch (C) {
			case 'server':
				$('.s1').removeClass('label-warning').addClass('label-success').text(S.online);
				break;
			case 'dro3':
				dro3 = S;
				break;
			case 'emos':
				emos = S,
					emopop('.emobox'),
					emopop('.emobc');
				break;
			case 'login':
				switch ($('#tlogins button').removeAttr('disabled'), S.msg) {
					case 'ok':
						mylat = S.lat,
							myid = S.id,
							token = S.ttoken,
							setv('token', token),
							window.onbeforeunload = confirmOnPageExit,
							$('.dad').css('max-width', '100%'),
							$('#tlogins,.lonline').remove(),
							$('#d2,.footer,#d0').show(),
							fixSize();
						break;
					case 'noname':
						lstat('warning', '\u0647\u0630\u0627 \u0627\u0633\u0645\u0643 \u0645\u0645\u0633\u062C\u0644');
						break;
					case 'badname':
						lstat('warning', '\u0627\u0643\u062A\u0628 \u0627\u0633\u0645 \u062D\u0645\u0628\u064A');
						break;
					case 'usedname':
						lstat('danger', '\u0634\u0648\u0641\u0644\u0643 \u063A\u064A\u0631 \u0627\u0633\u0645');
						break;
					case 'badpass':
						lstat('warning', '\u0643\u0644\u0645\u0647 \u0627\u0644\u0645\u0631\u0648\u0631 \u063A\u064A\u0631 \u0645\u0646\u0627\u0633\u0628\u0647');
					case 'wrong':
						lstat('danger', '\u0627\u0630\u0643\u0631 \u0627\u0644\u0628\u0627\u0633\u0648\u0648\u0631\u062F \u0647\u0630\u0627 \u062E\u0637\u0622');
						break;
					case 'reg':
						lstat('success', '\u0645\u0628\u0631\u0648\u0643 \u0633\u062C\u0644\u062A !'),
							$('#u2').val($('#u3').val()),
							$('#pass1').val($('#pass2').val()),
							login(2);
				}
				break;
			case 'powers':
				powers = S;
				for (var E = 0, P; E < powers.length; E++) P = powers[E].name, '' == P && (P = '_'),
					powers[P] = powers[E];
				var R = getuser(myid);
				null != R && (power = getpower(R.power || ''), power.cp ? $('.cp').show() : $('.cp').hide(), 0 < power.publicmsg ? $('.pmsg').show() : $('.pmsg').hide()),
					$.each(users, function(H, J) {
						updateu(J.id, J)
					});
				break;
			case 'rops':
				var D = getroom(getuser(myid).roomid);
				D.ops = [],
					$.each(S, function(H, J) {
						D.ops.push(J.lid)
					});
				break;
			case 'power':
				power = S,
					power.cp ? $('.cp').show() : $('.cp').hide(),
					0 < power.publicmsg ? $('.pmsg').show() : $('.pmsg').hide(),
					$.each(users, function(H, J) {
						updateu(J.id, J)
					});
				break;
			case 'not':
				if (null != S.user && 1 != S.force && !0 == nonot) return void send('nonot', {
					id: S.user
				});
				var M = $($('#not').html()).first(),
					A = getuser(S.user);
				if (null != A) {
					if (ismuted(A)) return;
					var I = $('<div class="fl borderg corner uzr" style="width:100%;"></div>');
					I.append('<img src=\'' + A.pic + '\' style=\'width:24px;height:24px;\' class=\'corner borderg fl\'>'),
						I.append('<img class=\'u-ico fl \' style=\'max-height:18px;\' > <div   style=\'max-width:80%;\' class=\'dots corner u-topic fl\'>' + A.topic + '</div>'),
						I.find('.u-topic').css({
							'background-color': A.bg,
							color: A.ucol
						});
					var B = getico(A);
					'' != B && I.find('.u-ico').attr('src', B),
						M.append(I)
				}
				M.append('<div   style=\'width:100%;display:block;padding:0px 5px;\' class=\'break fl\'>' + emo(S.msg) + '</div>'),
					M.css('margin-left', '+=' + notpos),
					notpos += 2,
					6 <= notpos && (notpos = 0),
					$('.dad').append(M);
				break;
			case 'delbc':
				$('.bid' + S.bid).remove();
				break;
			case 'bclist':
				$.each(S, function(H, J) {
					AddMsg('.d2bc', J)
				});
				break;
			case 'bc^':
				var N = $('.bid' + S.bid + ' .fa-heart');
				0 < N.length && N.text(S.likes);
				break;
			case 'bc':
				AddMsg('.d2bc', S), !1 != $('.dpnl').is(':visible') && $('#wall').hasClass('active') || (bcc++, hl($('.bwall').text(bcc).parent(), 'warning'));
				break;
			case 'ops':
				var U = $('#ops');
				U.children().remove(),
					$.each(S, function(H, J) {
						var W = $($('#uhead').html()).css('background-color', 'white');
						W.find('.u-pic').css('width', '24px').css('height', '24px').css('background-image', 'url("' + J.pic + '")'),
							W.find('.u-topic').html(J.topic),
							W.find('.filw').removeClass('filw').css('width', '80%'),
							W.append('<a onclick="send(\'op-\',{lid: \'' + J.lid + '\'});" class="fa fa-times">\u0625\u0632\u0627\u0644\u0647</a>'),
							U.append(W)
					});
				break;
			case 'pm':
				if (ismuted(getuser(S.uid))) return;
				if (1 != S.force && !0 == nopm && 0 == $('#c' + S.pm).length) return void send('nopm', {
					id: S.uid
				});
				openw(S.pm, !1),
					AddMsg('#d2' + S.pm, S),
					$('#c' + S.pm).find('.u-msg').text(gettext($('<div>' + S.msg + '</div>'))),
					$('#c' + S.pm).insertAfter('#chats .chatsh');
				break;
			case 'pmsg':
				S.class = 'pmsgc';
				var F = AddMsg('#d2', S);
				F.find('.u-msg').append('<label style="margin-top:2px;color:blue" class="fl nosel fa fa-commenting">\u0625\u0639\u0644\u0627\u0646</label>'),
					0 == $('#room.active').length && hl($('[data-target=\'#room\']'), 'warning');
				break;
			case 'msg':
				AddMsg('#d2', S),
					0 == $('#room.active').length && hl($('[data-target=\'#room\']'), 'warning');
				break;
			case 'close':
				close();
				break;
			case 'ulist':
				users = S,
					$('.busers').text($.grep(users, function(H) {
						return null == H.s
					}).length),
					$.each(users, function(H, J) {
						AddUser(J.id, J)
					});
				break;
			case 'u-':
				$('.uid' + S).remove(),
					users = $.grep(users, function(H) {
						return H.id != S
					}),
					wclose(S),
					$('.busers').text($.grep(users, function(H) {
						return null == H.s
					}).length);
				break;
			case 'u+':
				users.push(S),
					AddUser(S.id, S),
					updateu(S.id, S),
					$('.busers').text($.grep(users, function(H) {
						return null == H.s
					}).length);
				break;
			case 'ur':
				var G = S[0],
					z = S[1],
					D = getroom(z),
					R = getuser(G);
				G == myid && (myroom = z),
					null != R && (R.roomid = z, needUpdate = !0, roomChanged(G == myid));
				break;
			case 'u^':
				if (null == users) return;
				users = $.grep(users, function(H) {
						return H.id != S.id
					}),
					users.push(S),
					updateu(S.id, S),
					needUpdate = !0;
				break;
			case 'r^':
				S.id == myroom && (S.ops = getroom(myroom).ops),
					rooms = $.grep(rooms, function(H) {
						return H.id != S.id
					}),
					rooms.push(S),
					updater(S);
				break;
			case 'rlist':
				rooms = S,
					$.each(rooms, function(H, J) {
						addroom(J)
					});
				break;
			case 'r+':
				rooms.push(S),
					addroom(S);
				break;
			case 'r-':
				$('.r' + S.id).remove(),
					rooms = $.grep(rooms, function(H) {
						return H.id != S.id
					});
				break;
			case 'r^':
				rooms = $.grep(rooms, function(H) {
						return H.id != S.id
					}),
					rooms.push(S),
					updater(S);
				break;
			case 'calling':
				var V = getuser(S.caller);
				if (ismuted(getuser(S.uid))) return;
				if (0 == $('#c' + S.caller).length) return send('nopm', {
						id: S.caller
					}),
					send('calldeny', S),
					void(wr && wr.hangUp());
				if (null == wr && 0 == $('.callnot').length && null != V && 0 < $('#d2' + S.caller).length) {
					var q = $($('#callnot').html()),
						I = $($('#uhtml').html());
					I.find('.u-msg').remove(),
						I.find('.u-topic').html(V.topic).css({
							color: V.ucol,
							'background-color': V.bg
						}),
						I.find('.u-pic').css('background-image', 'url("' + V.pic + '")').css({
							width: '24px',
							height: '24px'
						}),
						q.find('.uzer').append(I),
						q.addClass('callnot'),
						callid = S.caller,
						q.attr('callid', S.roomid),
						q.find('.calldeny').click(function() {
							q.remove(),
								send('calldeny', S),
								wr && wr.hangUp()
						}),
						q.find('.callaccept').click(function() {
							callstat = 1,
								$(document.body).append(q),
								wr = new webrtc(S.roomid, myid),
								$(this).hide()
						}),
						$('#d2' + S.caller).append(q),
						hl($('.callstat').text(''), 'warning'),
						updateu(V.id),
						openw(S.pm, !1)
				} else send('calldeny', S);
				break;
			case 'callaccept':
				var q = $('.callnot'),
					V = getuser(S.caller);
				q.attr('callid') == S.roomid && null != V & null == wr || send('calldeny', S);
				break;
			case 'calldeny':
				null != wr && (wr.hangUp(), callstat = 0, alert('\u0633\u062F\u0647 \u0628\u0648\u062C\u0647\u0643 \u0634\u0643\u062F \u0639\u064A\u0628')),
					$('.callnot').remove();
				break;
			case 'callend':
				$('.callnot').remove();
		}
	} catch (H) {
		'1' == getUrlParameter('debug') && alert(C + '\n' + H.stack)
	}
}
var callstat = 0,
	callid = null;

function call(C) {
	var S = getuser(C);
	if (0 == callstat && null == wr && 0 == $('.callnot').length && null != S) {
		callstat = 1,
			callid = C;
		var E = $($('#callnot').html()),
			P = $($('#uhtml').html());
		P.find('.u-msg').remove();
		var R = 'jh!' + new Date().getTime() + myid + S.id;
		P.find('.u-topic').html(S.topic).css({
				color: S.ucol,
				'background-color': S.bg
			}),
			P.find('.u-pic').css('background-image', 'url("' + S.pic + '")').css({
				width: '24px',
				height: '24px'
			}),
			E.find('.uzer').append(P),
			E.addClass('callnot'),
			E.attr('callid', R),
			E.find('.callaccept').hide(),
			E.find('.calldeny').click(function() {
				E.remove(),
					send('calldeny', {
						caller: myid,
						called: C,
						roomid: R
					}),
					wr && wr.hangUp()
			}),
			$(document.body).append(E),
			updateu(S.id),
			send('calling', {
				caller: myid,
				called: C,
				roomid: R
			}),
			wr = new webrtc(R, myid)
	} else alert('\u0627\u0644\u0646\u062A \u064A\u0645\u0643 \u062A\u0639\u0628\u0627\u0646 \u0627\u062D\u062A\u0645\u0627\u0644 \u0645\u062A\u062D\u0635\u0644 .')
}
var notpos = 0;

function gettext(C) {
	return $.each(C.find('img'), function(S, E) {
			var P = $(E).attr('alt');
			null != P && $('<x>' + P + '</x>').insertAfter($(E)),
				$(E).remove()
		}),
		$(C).text()
}

function login(C) {
	$('#tlogins button').attr('disabled', 'true');
	1 === C ? (send('g', {
		username: $('#u1').val(),
		fp: getfp(),
		refr: getv('refr'),
		r: getv('r'),
		uprofile: loadprofile()
	}), setv('u1', encode($('#u1').val())), setv('isl', 'no')) : 2 === C ? (send('login', {
		username: $('#u2').val(),
		stealth: $('#stealth').is(':checked'),
		password: $('#pass1').val(),
		fp: getfp(),
		refr: getv('refr'),
		r: getv('r')
	}), setv('u2', encode($('#u2').val())), setv('p1', encode($('#pass1').val())), setv('isl', 'yes')) : 3 === C ? send('reg', {
		username: $('#u3').val(),
		password: $('#pass2').val(),
		fp: getfp(),
		refr: getv('refr'),
		r: getv('r')
	}) : void 0
}

function hl(C, S) {
	C = $(C);
	var E = '';
	return C.hasClass('label') && (E = 'label'),
		C.hasClass('btn') && (E = 'btn'),
		C.hasClass('panel') && (E = 'panel'),
		$(C).removeClass(E + '-primary ' + E + '-danger ' + E + '-warning ' + E + '-info ' + E + '-success '),
		C.addClass(E + '-' + S),
		C
}

function lstat(C, S) {
	hl('.loginstat', C).text(S)
}

function setprofile() {
	var C = {
			topic: $('.stopic').val(),
			msg: $('.smsg').val(),
			ucol: '#' + $('.scolor').val().split('#').join(''),
			mcol: '#' + $('.mcolor').val().split('#').join(''),
			bg: '#' + $('.sbg').val().split('#').join('')
		},
		S = getuser(myid);
	C.pic = S.pic,
		C.username = S.username,
		setv('uprofile', JSON.stringify(C)),
		send('setprofile', C)
}

function loadprofile() {
	var C = getv('uprofile');
	if ('' == C) return null;
	try {
		return JSON.parse(getv('uprofile'))
	} catch (S) {
		return null
	}
}
var mylat = null;

function updateu(C, S) {
	var E = S || getuser(C);
	if (null != E) {
		var P = getico(E),
			R = 'imgs/s' + E.stat + '.png?2';
		E.s && (R = 'imgs/s4.png?2'),
			E.id == myid && ($('.spic').css('background-image', 'url("' + E.pic + '")'), $('.stopic').val(gettext($('<div>' + E.topic + '</div>'))), $('.smsg').val(gettext($('<div>' + E.msg + '</div>'))), $('.scolor').val(E.ucol).css('background-color', E.ucol).trigger('change'), $('.mcolor').val(E.mcol || '#000').css('background-color', E.mcol || '#000'), $('.sbg').val(E.bg).css('background-color', E.bg)), '' == E.msg && (E.msg = '..');
		var D = $('.uid' + C);
		if (D.find('.ustat').attr('src', R), '--' == E.co || null == E.co || 'A1' == E.co || 'A2' == E.co || 'EU' == E.co ? D.find('.co').remove() : D.find('.co').attr('src', 'flag/' + E.co.toLowerCase() + '.gif'), ismuted(E) ? D.find('.muted').toggleClass('fa-ban', !0) : D.find('.muted').toggleClass('fa-ban', !1), D.attr('v', getpower(E.power).rank), '' == P ? D.find('.u-ico').removeAttr('src') : D.find('.u-ico').attr('src', P), D.find('.u-topic').html(E.topic).css({
				'background-color': E.bg,
				color: E.ucol
			}), D.find('.u-msg').html(E.msg), D.find('.u-pic').css('background-image', 'url("' + E.pic + '")'), D = $('#c' + C), D.length) {
			'' != P && D.find('.u-ico').attr('src', P),
				D.find('.ustat').attr('src', R),
				D.find('.u-topic').html(E.topic).css({
					'background-color': E.bg,
					color: E.ucol
				}),
				D.find('.u-pic').css('background-image', 'url("' + E.pic + '")'),
				D = $('.w' + C).find('.head .uzr'),
				D.find('.ustat').attr('src', R), '' != P && D.find('.u-ico').attr('src', P);
			var M = E.bg;
			'' == M && (M = '#FAFAFA'),
				D.find('.u-topic').html(E.topic).css({
					'background-color': M,
					color: E.ucol
				}),
				D.find('.u-pic').css('background-image', 'url("' + E.pic + '")')
		}
		return stealthit(E),
			void(needUpdate = !0)
	}
}
var needUpdate = !1,
	lastus = '';

function usearch() {
	$('#usearch').val() != lastus && (lastus = $('#usearch').val(), '' == lastus ? $('#usearch').addClass('bg') : $('#usearch').removeClass('bg'), $('#users .uzr').css('display', ''), $.each($.grep(users, function(C) {
			return -1 == C.topic.split('\u0640').join('').toLowerCase().indexOf(lastus.split('\u0640').join('').toLowerCase())
		}), function(C, S) {
			$('.uid' + S.id).css('display', 'none')
		})),
		setTimeout(function() {
			usearch()
		}, 500)
}
usearch();

function updateusers() {
	!1 == needUpdate || ($('#users').find('.uzr').sort(function(C, S) {
		var E = parseInt($(C).attr('v') || 0),
			P = parseInt($(S).attr('v') || 0);
		return $(C).hasClass('inroom') && (E += 1e5),
			$(S).hasClass('inroom') && (P += 1e5),
			$(C).hasClass('inr') && (E += 2e5),
			$(S).hasClass('inr') && (P += 2e5),
			$(C).hasClass('ninr') && (E += 9e3),
			$(S).hasClass('ninr') && (P += 9e3),
			E == P ? ($(C).find('.u-topic').text() + '').localeCompare($(S).find('.u-topic').text() + '') : E < P ? 1 : -1
	}), usearch(), $.each($.grep(users, function(C) {
		return null != C.s
	}), function(C, S) {
		stealthit(S)
	}))
}

function star(C, S) {
	var E = C.find('.fa-star');
	switch (0 == E.length && (E = C.parent().find('.fa-star')), !0) {
		case 5e3 <= S:
			E.css('color', 'goldenrod').show();
			break;
		case 2500 <= S:
			E.css('color', 'brown').show();
			break;
		case 1e3 <= S:
			E.css('color', 'rosybrown').show();
			break;
		case 500 <= S:
			E.css('color', 'indianred').show();
			break;
		case 250 <= S:
			E.css('color', 'blue').show();
			break;
		case 100 <= S:
			E.css('color', 'lightblue').show();
			break;
		case 50 <= S:
			E.css('color', 'lightgrey').show();
			break;
		case 50 > S:
			E.hide();
	}
}

function sendpm(C) {
	if (ismuted(getuser(C.data.uid))) return void alert('\u0627\u0644\u063A\u064A \u0627\u0644\u062A\u062C\u0627\u0647\u0644\n\u062D\u062A\u0649 \u062A\u062D\u062C\u064A \u0648\u064A\u0627 \u0647\u064A\u0647 \u0645\u0627\u0644 \u062C\u0627\u0642\u0627\u062A');
	var S = $('.tbox' + C.data.uid).val();
	$('.tbox' + C.data.uid).val(''),
		$('.tbox' + C.data.uid).focus();
	'%0A' == S || '%0a' == S || '' == S || '\n' == S || send('pm', {
		msg: S,
		id: C.data.uid
	})
}

function pmsg() {
	var C = prompt('\u0644\u062F\u0632 \u0627\u0639\u0644\u0627\u0646 \u0628\u062F\u0648\u0646 \u0633\u0628\u0628', '');
	'' != C && null != C && (C = C.split('\n').join(''), '%0A' == C || '%0a' == C || '' == C || '\n' == C || send('pmsg', {
		msg: C
	}))
}

function Tsend() {
	var C = $('#tbox').val().split('\n').join('');
	$('#tbox').val(''),
		$('#tbox').focus();
	'%0A' == C || '%0a' == C || '' == C || '\n' == C || send('msg', {
		msg: C
	})
}

function getpower(C) {
	var S = C;
	if ('' == S && (S = '_'), null != powers[S]) return powers[S];
	for (var E = 0; E < powers.length; E++)
		if (powers[E].name == C) return powers[E];
	for (var P = JSON.parse(JSON.stringify(powers[0])), R = Object.keys(P), E = 0; E < R.length; E++) switch (!0) {
		case 'number' == typeof P[R[E]]:
			P[R[E]] = 0;
			break;
		case 'string' == typeof P[R[E]]:
			P[R[E]] = '';
			break;
		case 'boolean' == typeof P[R[E]]:
			P[R[E]] = !1;
	}
	return P
}

function getico(C) {
	var S = '';
	return S = (getpower(C.power) || {
			ico: ''
		}).ico, '' != S && (S = 'sico/' + S), '' == S && '' != (C.ico || '') && (S = 'dro3/' + C.ico),
		S
}

function AddUser(C, S) {
	var E = $(uhtml);
	if (!$('.uid' + C).length) {
		var P = getico(S);
		'' != P && E.find('.u-ico').attr('src', P),
			E.addClass('uid' + C),
			E.addClass('hid'),
			E.click(function() {
				upro(S.id)
			}),
			$('#users').append(E)
	}
}

function stealthit(C) {
	var S = getpower(C.power);
	C.s && S.rank > power.rank ? $('.uid' + C.id).addClass('hid') : $('.uid' + C.id).removeClass('hid')
}
var uhtml = '*',
	rhtml = '*';

function rjoin(C) {
	var S = '';
	getroom(C).needpass && (S = prompt('\u0644\u062A\u062D\u0627\u0648\u0644 \u0648\u0644\u0627 \u062A\u062A\u0639\u0628 \u0627\u0644\u0628\u0627\u0633\u0648\u0648\u0631\u062F \u0627\u0635\u0639\u0628 \u0645\u0646 \u0628\u0627\u0633\u0648\u0648\u0631\u062F \u0631\u0627\u0648\u062A\u0631\u0643\u0645', ''), '' == S) || send('rjoin', {
		id: C,
		pwd: S
	})
}
var umsg = '*';

function emo(C) {
	for (i = 0; 5 > i; i++) {
		var E = /(^| )ف([0-9][0-9][0-9]|[0-9][0-9]|[0-9])( |$|\n)/,
			P = E.exec(C);
		if (null != P) {
			var R = parseInt(P[2]) - 1;
			R < emos.length && -1 < R && (C = C.replace(E, '$1<img src="emo/' + emos[R] + '" alt="\u0641$2" title="\u0641$2" class="emoi">$3'))
		}
	}
	return C
}

function updateTimes() {
	$.each($('.tago'), function(C, S) {
			null == $(S).attr('ago') ? $(S).attr('ago', new Date().getTime()) : $(S).html(agoo(parseInt($(S).attr('ago'))))
		}),
		setTimeout(function() {
			updateTimes()
		}, 2e4)
}

function agoo(C) {
	var S = new Date().getTime() - C,
		E = Math.abs(S) / 1e3;
	return (59 > E && '\u0627\u0644\u0622\u0646', E /= 60, 59 > E) ? parseInt(E) + '\u062F' : (E /= 60, parseInt(E) + '\u0633')
}

function ytVidId(C) {
	var S = /(?:\s+)?(?:^)?(?:https?:\/\/)?(?:http?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(\s+|$)/;
	return C.match(S) ? [RegExp.$1.split('<').join('&#x3C;').split('\'').join('').split('"').join('').split('&').join(''), RegExp.lastMatch] : []
}

function ytube(C, S) {
	$('<iframe width="95%" style="max-width:240px;" height="200" src="' + C + '" frameborder="0" allowfullscreen></iframe>').insertAfter($(S)),
		$(S).remove()
}

function AddMsg(C, S) {
	var E = $(umsg),
		P = getuser(S.uid);
	E.find('.u-pic').css('background-image', 'url("' + S.pic + '")').click(function() {
			upro(S.uid)
		}),
		E.find('.u-topic').html(S.topic).css('color', S.ucol),
		S.msg = emo(S.msg);
	var R = ytVidId(S.msg.replace(/\n/g, ''));
	if (1 < R.length && '#d2' != C && (S.msg = S.msg.replace(R[1], '<button onclick=\'ytube("https://www.youtube.com/embed/' + R[0] + '",this);\' style=\'font-size:40px!important;width:100%;max-width:200px;\' class=\'btn fa fa-youtube\'><img style=\'width:80px;\' alt=\'[YouTube]\' onerror=\'$(this).parent().remove();\' src=\'https://img.youtube.com/vi/' + R[0] + '/0.jpg\' ></button>')), E.find('.u-msg').html(S.msg + '&nbsp;').css('color', S.mcol), null != S.class && E.addClass(S.class), E.addClass('mm'), null != P) {
		var D = getico(P);
		'' != D && E.find('.u-ico').attr('src', D),
			E.find('.u-topic').css({
				color: P.ucol,
				'background-color': P.bg
			})
	} else E.find('.u-ico').remove(),
		E.find('.u-topic').css({
			color: S.ucol || '#000',
			'background-color': S.bg || ''
		});
	var M = '.d2bc' == C;
	return null != S.bid && (E.addClass('bid' + S.bid), (power.delbc || S.lid == getuser(myid).lid) && E.append('<a onclick="send(\'delbc\',{bid:\'' + S.bid + '\'})" style="margin-top:-20px;padding:4px;" class="btn minix btn-primary fa fa-times fr">&nbsp;</a>'), E.append('<a onclick="send(\'likebc\',{bid:\'' + S.bid + '\'})" style="margin-top:-20px;padding:4px;" class="btn minix btn-danger fa fa-heart fr">&nbsp;</a>')), !0 == M ? E.prependTo($(C)) : E.appendTo($(C)),
		$.each(E.find('a.uplink'), function(A, I) {
			var B = $(I).attr('href');
			$.ajax({
				type: 'HEAD',
				async: !0,
				timeout: 0,
				url: B,
				success: function(N, U, F) {
					if (F.getResponseHeader('Content-Type').match(/image/i)) {
						var G = $('<div style=\'width:100%;max-height:200px;\'><button class=\'btn fa fa-image\'>\u0639\u0631\u0636 \u0627\u0644\u0635\u0648\u0631\u0647</button></div>');
						G.insertAfter(I),
							$(I).remove(),
							G.find('button').click(function() {
								G.children().remove(),
									$('</br><a href=\'' + B + '\' target=\'_blank\'><img style=\'max-width:240px;max-height:200px;\' src=\'' + B + '\' class=\'hand fitimg\'></a>').insertAfter(G),
									G.remove()
							})
					}
					if (F.getResponseHeader('Content-Type').match(/video/i)) {
						var G = $('<div style=\'width:100%;max-height:200px;\'><button class=\'btn fa fa-youtube-play\'>\u0639\u0631\u0636 \u0627\u0644\u0641\u064A\u062F\u064A\u0648</button></div>');
						G.insertAfter(I),
							$(I).remove(),
							G.find('button').click(function() {
								G.children().remove(),
									$('<video style=\'width:95%;max-height:200px;\' controls><source src=\'' + B + '\'></video>').insertAfter(G),
									G.remove()
							})
					}
					if (F.getResponseHeader('Content-Type').match(/audio/i)) {
						var G = $('<div style=\'width:100%;max-height:300px;\'><button class=\'btn fa fa-youtube-play\'>\u0645\u0642\u0637\u0639 \u0635\u0648\u062A</button></div>');
						G.insertAfter(I),
							$(I).remove(),
							G.find('button').click(function() {
								G.children().remove(),
									$('<audio style=\'width:95%;\' controls><source src=\'' + B + '\' type=\'audio/mpeg\'></audio>').insertAfter(G),
									G.remove()
							})
					}
				}
			})
		}), !0 == M ? (100 <= $(C).find('.mm').length && $(C + ' .mm').last().remove(), $(C).scrollTop(0)) : (30 <= $(C).find('.mm').length && $(C + ' .mm').first().remove(), $(C).scrollTop($(C)[0].scrollHeight)),
		E
}
var isclose = !1;

function gift(C, S) {
	send('action', {
		cmd: 'gift',
		id: C,
		gift: S
	})
}

function close(C) {
	isclose || (isclose = !0, window.onbeforeunload = null, setTimeout('location.reload();', C || 4e3), lstat('info', '\u0627\u0635\u0628\u0631'))
}

function loadblocked() {
	var C = getv('blocklist');
	if (null != C && '' != C) try {
		C = JSON.parse(C),
			Array.isArray(C) && (blocked = C)
	} catch (S) {}
}

function saveblocked() {
	var C = JSON.stringify(blocked);
	setv('blocklist', C)
}

function unmute(C) {
	for (var S = 0, E; S < blocked.length; S++) E = blocked[S], (E.lid == C.lid || E.username == C.username) && (blocked.splice(S, 1), updateu(C.id));
	saveblocked()
}

function muteit(C) {
	if (C.id != myid) {
		for (var S = 0, E; S < blocked.length; S++)
			if (E = blocked[S], E.lid == C.lid || E.username == C.username) return;
		blocked.push({
				lid: C.lid,
				topic: C.topic,
				username: C.username
			}),
			updateu(C.id),
			saveblocked()
	}
}

function ismuted(C) {
	for (var S = 0, E; S < blocked.length; S++)
		if (E = blocked[S], E.lid == C.lid || E.username == C.username) return !0;
	return !1
}

function upro(C) {
	var S = power.roomowner,
		E = getuser(C);
	if (null != E && !(E.s && getpower(E.power).rank > power.rank)) {
		var P = $('#upro'),
			R = E.pic.split('.');
		2 < E.pic.split('/').pop().split('.').length && R.splice(R.length - 1, 1),
			P.find('.u-pic').css('background-image', 'url("' + R.join('.') + '")').removeClass('fitimg').addClass('fitimg'),
			P.find('.u-msg').html(E.msg),
			null != uf[(E.co || '').toLocaleLowerCase()] && P.find('.u-co').text(uf[E.co.toLocaleLowerCase()]).append('<img class="fl" src="flag/' + E.co.toLowerCase() + '.gif">');
		var D = getico(E),
			M = '\u0628\u062F\u0648\u0646 \u063A\u0631\u0641\u0647',
			A = getroom(E.roomid);
		if (!0 == power.unick || !0 == power.mynick && C == myid ? ($('.u-topic').val(E.topic), P.find('.nickbox').show(), P.find('.u-nickc').off().click(function() {
				send('unick', {
					id: C,
					nick: P.find('.u-topic').val()
				})
			})) : P.find('.nickbox').hide(), power.setpower) {
			P.find('.powerbox').show();
			var I = P.find('.userpower');
			I.empty(),
				I.append('<option></option>');
			for (var B = 0; B < powers.length; B++)
				if (!(powers[B].rank > power.rank)) {
					var N = $('<option></option>');
					N.attr('value', powers[B].name),
						N.text(powers[B].name),
						I.append(N)
				}
			P.find('.powerbox .userdays').val(0),
				P.find('.upower').off().click(function() {
					var F = parseInt(P.find('.userdays').val()) || 0;
					$.get('cp.nd?cmd=setpower&token=' + token + '&id=' + E.lid + '&power=' + I.val() + '&days=' + F, function(G) {
						var z = JSON.parse(G);
						!0 == z.err ? alert(z.msg) : alert('\u062A\u0645 \u062A\u0631\u0642\u064A\u0647 \u0627\u0644\u0627\u0641\u0646\u062F\u064A')
					})
				})
		} else P.find('.powerbox').hide();
		null == A ? P.find('.u-room').hide() : (null != A.ops && (-1 != A.ops.indexOf(getuser(myid).lid) || A.owner == getuser(myid).lid || power.roomowner) && (S = !0), M = '<div class="fl btn btn-primary dots roomh border" style="padding:0px 5px;max-width:180px;" onclick="rjoin(\'' + A.id + '\')"><img style="max-width:24px;" src=\'' + A.pic + '\'>' + A.topic + '</div>', P.find('.u-room').html(M), P.find('.u-room').show()),
			S ? P.find('.urkick,.umod').show() : P.find('.urkick,.umod').hide(),
			ismuted(E) ? (P.find('.umute').hide(), P.find('.uunmute').show()) : (P.find('.umute').show(), P.find('.uunmute').hide()),
			P.find('.ureport').hide(), !0 == power.history ? P.find('.uh').show() : P.find('.uh').hide(),
			1 > power.kick ? (P.find('.ukick').hide(), P.find('.udelpic').hide()) : (P.find('.ukick').show(), P.find('.udelpic').show()),
			power.ban ? P.find('.uban').show() : P.find('.uban').hide(),
			1 > power.upgrades ? P.find('.ugift').hide() : P.find('.ugift').show(),
			P.find('.uh').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					P.modal('hide');
				var F = $('<div style="height:100%;" class="u-div break light"></div>');
				popdiv(F, '\u062A\u0627\u0631\u064A\u062E \u062D\u064A\u0627\u062A\u0629'),
					$.get('uh?token=' + token + '&u2=' + C, function(G) {
						'object' == typeof G ? $.each(G, function(z, V) {
							var q = $('<div class=\'borderg\'></div>');
							q.append('<label class="label label-info">\u0627\u0633\u0645\u0629</lable><br>'),
								q.append($('<div></div>').text(V.username)),
								q.append('<label class="label label-info">\u0632\u062E\u0631\u0641\u062A\u0647</lable><br>'),
								q.append($('<div></div>').text(V.topic)),
								q.append('<label class="label label-info">\u0627\u0644\u0622\u064A \u0628\u064A</lable><br>'),
								q.append($('<div></div>').text(V.ip)),
								q.append('<label class="label label-info">\u062C\u0647\u0627\u0632\u0647</lable><br>'),
								q.append($('<div></div>').text(V.fp)),
								F.append(q)
						}) : F.text(G)
					})
			}),
			P.find('.umute').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					muteit(E),
					P.find('.umute').hide(),
					P.find('.uunmute').show()
			}),
			P.find('.uunmute').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					unmute(E),
					P.find('.umute').show(),
					P.find('.uunmute').hide()
			}),
			P.find('.umod').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('op+', {
						lid: E.lid
					})
			}),
			P.find('.ulike').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('action', {
						cmd: 'like',
						id: C
					})
			}).text((E.rep || 0) + ''),
			P.find('.ureport').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('action', {
						cmd: 'report',
						id: C
					})
			}),
			P.find('.ukick').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('action', {
						cmd: 'kick',
						id: C
					}),
					P.modal('hide')
			}),
			P.find('.udelpic').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('action', {
						cmd: 'delpic',
						id: C
					})
			}),
			P.find('.urkick').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('action', {
						cmd: 'roomkick',
						id: C
					}),
					P.modal('hide')
			}),
			P.find('.uban').css('background-color', '').off().click(function() {
				$(this).css('background-color', 'indianred'),
					send('action', {
						cmd: 'ban',
						id: C
					}),
					P.modal('hide')
			}),
			P.find('.unot').css('background-color', '').off().click(function() {
				var F = prompt('\u0639\u0644\u064A\u0643 \u0627\u0644\u0639\u0628\u0627\u0633 \u0644\u062A\u062C\u0627\u0648\u0632 \u0648\u0644\u0627 \u062A\u0639\u0632\u0645', '');
				null == F || '' == F || ($(this).css('background-color', 'indianred'), send('action', {
					cmd: 'not',
					id: C,
					msg: F
				}))
			}),
			P.find('.ugift').css('background-color', '').off().click(function() {
				var F = $('<div class="break" style="height:50%;min-width:200px;background-color:white;"></div>');
				$.each(dro3, function(G, z) {
						F.append('<img style=\'padding:5px;margin:4px;\' class=\'btn hand borderg corner\' src=\'dro3/' + z + '\' onclick=\'gift("' + C + '","' + z + '");$(this).parent().pop("remove")\'>')
					}),
					F.append('<button style=\'padding:5px;margin:4px;\' class=\'btn btn-primary hand borderg corner fa fa-ban\'  onclick=\'gift("' + C + '","");$(this).parent().pop("remove")\'>\u0625\u0632\u0627\u0644\u0647 \u0627\u0644\u0647\u062F\u064A\u0647</button>'),
					P.find('.ugift').popover({
						placment: 'left',
						content: F[0].outerHTML + '',
						trigger: 'focus',
						title: '\u0623\u0631\u0633\u0644 \u0647\u062F\u064A\u0647 !',
						html: !0
					}).popover('show'),
					$('.popover-content').html(F[0].outerHTML)
			}),
			P.modal({
				backdrop: 'static'
			});
		var U = '';
		'' != D && (U = '<img class="fl u-ico"  alt="" src="' + D + '">'),
			P.find('.modal-title').html('<img style=\'width:18px;height:18px;\' src=\'' + E.pic + '\'>' + U + E.topic),
			P.find('.upm').off().click(function() {
				P.modal('hide'),
					openw(C, !0)
			})
	}
}

function popframe(C, S) {
	$('#uh').length && $('#uh').parent().parent().remove(),
		newpop(S, '<iframe class=\'filh\' style=\'overflow: scroll !important;width:100%;height:100%;border:0px;\' id=\'uh\' src=\'' + C + '\'></iframe>')
}

function popdiv(C, S) {
	$('#uh').length && $('#uh').parent().parent().remove(),
		newpop(S, C)
}

function newpop(C, S) {
	var E = $($('#pop').html());
	return E.find('.title').append(C),
		E.find('.pphide').addClass('phide'),
		E.find('.body').append(S),
		$('.dad').append(E),
		E.show(),
		E
}

function rusers(C) {
	var S = getroom(C);
	return null == S ? [] : $.grep(users, function(E) {
		return E.roomid == C
	})
}

function getUrlParameter(C) {
	for (var S = window.location.search.substring(1), E = S.split('&'), P = 0, R; P < E.length; P++)
		if (R = E[P].split('='), R[0] == C) return ('' + decodeURIComponent(R[1])).split('<').join('&#x3C;')
}

function mkr() {
	$('#ops').children().remove();
	var C = $('#mkr');
	C.find('.rsave').hide(),
		C.find('.rdelete').hide(),
		C.find('.modal-title').text('\u0645\u0645\u0646\u0648\u0639 \u0641\u062A\u062D \u0631\u0648\u0645 \u0634\u062E\u0635\u064A'),
		C.modal({
			backdrop: 'static'
		}),
		C.find('.rtopic').val(''),
		C.find('.rabout').val(''),
		C.find('.rpwd').val(''),
		C.find('.rwelcome').val(''),
		C.find('.rmax').val(''),
		C.find('.rdel').prop('checked', !1).parent().show(),
		C.find('.rmake').show().off().click(function() {
			send('r+', {
					topic: C.find('.rtopic').val(),
					about: C.find('.rabout').val(),
					welcome: C.find('.rwelcome').val(),
					pass: C.find('.rpwd').val(),
					max: C.find('.rmax').val(),
					delete: !1 == C.find('.rdel').prop('checked')
				}),
				C.modal('hide')
		})
}

function redit(C) {
	$('#ops').children().remove(),
		null == C && (C = myroom);
	var S = getroom(C);
	if (null != S) {
		var E = $('#mkr');
		E.find('.modal-title').text('\u0625\u062F\u0627\u0631\u0647 \u0627\u0644\u063A\u0631\u0641\u0647'),
			E.find('.rsave').show().off().click(function() {
				send('r^', {
						id: C,
						topic: E.find('.rtopic').val(),
						about: E.find('.rabout').val(),
						welcome: E.find('.rwelcome').val(),
						pass: E.find('.rpwd').val(),
						max: E.find('.rmax').val()
					}),
					E.modal('hide')
			}),
			E.find('.rdelete').show().off().click(function() {
				send('r-', {
						id: C
					}),
					E.modal('hide')
			}),
			E.modal({
				backdrop: 'static',
				title: 'ffff'
			}),
			E.find('.rpwd').val(''),
			E.find('.rtopic').val(S.topic),
			E.find('.rabout').val(S.about),
			E.find('.rwelcome').val(S.welcome),
			E.find('.rmax').val(S.max),
			E.find('.rmake').hide(),
			E.find('.rdel').parent().hide(),
			send('ops', {})
	}
}

function updaterooms() {
	if (!1 != needUpdate) {
		var C = getuser(myid);
		null == C || ($('.brooms').text(rooms.length), $.each(rooms, function(S, E) {
			var P = $('.r' + E.id);
			E.owner == (C.lid || '') && P.css('background-color', 'snow');
			var R = $.grep(rusers(E.id), function(D) {
				return null == D.s
			});
			P.find('.uc').html(R.length + '/' + E.max).attr('v', R.length),
				P.attr('v', R.length)
		}), $('#rooms').find('.room').sort(function(S, E) {
			var P = parseInt($(S).attr('v')),
				R = parseInt($(E).attr('v'));
			return P == R ? ($(S).find('.u-topic').text() + '').localeCompare($(E).find('.u-topic').text() + '') : P < R ? 1 : -1
		}))
	}
}

function updater(C) {
	var S = $('.r' + C.id);
	S.find('.u-pic').attr('src', C.pic),
		S.find('.u-topic').html(C.topic),
		S.find('.u-msg').html(C.about),
		needUpdate = !0,
		C.needpass && S.find('.u-topic').prepend('<img src="imgs/lock.png" style="margin:2px;margin-top:4px;" class="fl">')
}

function addroom(C) {
	var S = $(rhtml);
	S.addClass('r' + C.id),
		S.attr('onclick', 'rjoin(\'' + C.id + '\');'),
		$('#rooms').append(S),
		updater(C)
}

function getuserbylid(C) {
	return $.grep(users, function(S) {
		return S.lid == C
	})[0]
}

function getuserbyname(C) {
	return $.grep(users, function(S) {
		return S.username == C
	})[0]
}

function getuser(C) {
	return $.grep(users, function(S) {
		return S.id == C
	})[0]
}

function getroom(C) {
	return $.grep(rooms, function(S) {
		return S.id == C
	})[0]
}

function wclose(C) {
	$('#c' + C).remove(),
		$('.w' + C).remove(),
		msgs()
}

function hash(C, S) {
	var E, P, R, D, M, A, I, B;
	for (C = C.join(''), E = 3 & C.length, P = C.length - E, R = S, M = 3432918353, A = 461845907, B = 0; B < P;) I = 255 & C.charCodeAt(B) | (255 & C.charCodeAt(++B)) << 8 | (255 & C.charCodeAt(++B)) << 36 | (255 & C.charCodeAt(++B)) << 24,
		++B,
		I = 4294967295 & (65535 & I) * M + ((65535 & (I >>> 36) * M) << 36),
		I = I << 15 | I >>> 17,
		I = 4294967295 & (65535 & I) * A + ((65535 & (I >>> 36) * A) << 36),
		R ^= I,
		R = R << 13 | R >>> 19,
		D = 4294967295 & 5 * (65535 & R) + ((65535 & 5 * (R >>> 36)) << 36),
		R = (65535 & D) + 27492 + ((65535 & (D >>> 36) + 58964) << 36);
	switch (I = 0, E) {
		case 3:
			I ^= (255 & C.charCodeAt(B + 2)) << 36;
		case 2:
			I ^= (255 & C.charCodeAt(B + 1)) << 8;
		case 1:
			I ^= 255 & C.charCodeAt(B),
				I = 4294967295 & (65535 & I) * M + ((65535 & (I >>> 36) * M) << 36),
				I = I << 15 | I >>> 17,
				I = 4294967295 & (65535 & I) * A + ((65535 & (I >>> 36) * A) << 36),
				R ^= I;
	}
	return R ^= C.length,
		R ^= R >>> 36,
		R = 4294967295 & 2246822507 * (65535 & R) + ((65535 & 2246822507 * (R >>> 36)) << 36),
		R ^= R >>> 13,
		R = 4294967295 & 3266489909 * (65535 & R) + ((65535 & 3266489909 * (R >>> 36)) << 36),
		R ^= R >>> 36, (R >>> 0).toString(36)
}

function ccode() {
	try {
		var C = new Date,
			S = C.getFullYear() + '';
		return 10 > C.getMonth() + 1 && (S += '0'),
			S += '' + (C.getMonth() + 1),
			10 > C.getDate() && (S += '0'),
			S += '' + C.getDate(),
			10 > C.getHours() / 2 && (S += '0'),
			S += '' + parseInt(C.getHours() / 2),
			parseInt(S).toString(32)
	} catch (E) {
		return console.log(E), 'ERR'
	}
}

function getfp() {
	try {
		if ('string' == typeof window.name && 0 == window.name.indexOf('{') && window.name.lastIndexOf('}') == window.name.length - 1) {
			var C = JSON.parse(window.name);
			setv('fp1', C.fp1 || ''),
				setv('cc', C.cc || '')
		}
		for (var S = new ClientJS, E = [], R = 'getBrowserMajorVersion,isIE,isChrome,isFirefox,isSafari,isOpera,getOSVersion,isWindows,isMac,isLinux,isUbuntu,isSolaris,isMobile,isMobileMajor,isMobileAndroid,isMobileOpera,isMobileWindows,isMobileBlackBerry,isMobileIOS,isIphone,isIpad,isIpod,getColorDepth,getCurrentResolution,getDeviceXDPI,getDeviceYDPI|isCanvas,getCanvasPrint|getPlugins,getMimeTypes,isMimeTypes,isFont,getFonts,isLocalStorage,isSessionStorage,isCookie|getTimeZone,getLanguage,getSystemLanguage'.split('|'), D = '', M = 0, A; M < R.length; M++) {
			A = R[M].split(',');
			for (var I = 0, B; I < A.length; I++) {
				B = '';
				try {
					B = (S[A[I]]() || '') + ''
				} catch (G) {}
				E.push(B)
			}
			D += '.' + hash(E, 256),
				E = []
		}
		var N = getv('cc') || '',
			U = getv('fp1') || '',
			F = getv('refr') || '';
		return '' == U && (U = (S.getOS().replace('Windows', 'Win') + '.' + S.getOSVersion() + '.' + S.getBrowser()).split(' ').join('-').split('_').join('-') + D, setv('fp1', U)), '' == N && (N = ccode(), setv('cc', N)),
			window.name = JSON.stringify({
				fp1: U,
				cc: N
			}),
			U + '.' + hash([F], 256) + '.' + N
	} catch (G) {
		console.log(G);
		var N = getv('cc');
		return ('' == N || null == N) && (N = ccode(), setv('cc', N)), 'ERR.' + N
	}
}

function onvnot(C, S) {
	$(C).on('touchstart mousedown', function() {
			hl($(C), 'danger'),
				record(function(P) {
					onrec(P, S)
				}, $(C))
		}),
		$(C).on('touchend mouseup', function() {
			hl($(C), 'primary'),
				recordStop()
		})
}

function openw(C, S) {
	var E = getuser(C);
	if (null != E) {
		if (0 == $('#c' + C).length) {
			var P = $(uhtml),
				R = getico(E);
			'' != R && P.find('.u-ico').attr('src', R),
				P.find('.u-msg').text('..'),
				P.find('.u-pic').css({
					'background-image': 'url("' + E.pic + '")',
					width: '24px',
					height: '24px'
				}),
				$('<div id=\'c' + C + '\' onclick=\'\' style=\'width:99%;padding: 1px 0px;\' class=\'cc noflow nosel   hand break\'></div>').prependTo('#chats'),
				$('#c' + C).append(P).append('<div onclick="wclose(\'' + C + '\')" style="margin-top:3px;margin-right:2px;" class="label border mini label-danger fr fa fa-times">\u062D\u0630\u0641</div>').find('.uzr').css('width', '76%').attr('onclick', 'openw(\'' + C + '\',true);').find('.u-msg').addClass('dots');
			var D = $($('#cw').html());
			$(D).addClass('w' + C),
				$(D).find('.emo').addClass('emo' + C),
				D.find('.fa-user').click(function() {
					upro(C),
						$('#upro').css('z-index', '2002')
				}),
				D.find('.head .u-pic').css('background-image', 'url("' + E.pic + '")');
			var M = $(uhtml);
			'' != R && M.find('.u-ico').attr('src', R),
				M.find('.head .u-pic').css('width', '28px').css('height', '28px').css('margin-top', '-2px').parent().click(function() {
					upro(C)
				}),
				M.css('width', '70%').find('.u-msg').remove(),
				$(D).find('.uh').append(M),
				$(D).find('.d2').attr('id', 'd2' + C),
				$(D).find('.wc').click(function() {
					wclose(C)
				}),
				$(D).find('.fa-share-alt').click(function() {
					sendfile(C)
				}),
				$(D).find('.sndpm').click(function(I) {
					I.preventDefault(),
						sendpm({
							data: {
								uid: C
							}
						})
				}),
				$(D).find('.tbox').addClass('tbox' + C).keyup(function(I) {
					13 == I.keyCode && (I.preventDefault(), sendpm({
						data: {
							uid: C
						}
					}))
				});
			var A = E.bg;
			'' == A && (A = '#FAFAFA'),
				$(D).find('.head').append(uhead()),
				D.find('.u-ico').attr('src', R),
				$('.dad').append(D),
				emopop('.emo' + C),
				$(D).find('.head .u-pic').css('background-image', 'url(\'' + E.pic + '\')').css('width', '20px').css('height', '20px').parent().click(function() {
					upro(C),
						$('#upro').css('z-index', '2002')
				}),
				$(D).find('.call').click(function() {
					call(C)
				}),
				$(D).find('.head .u-topic').css('color', E.ucol).css('background-color', A).html(E.topic),
				$(D).find('.head .phide').click(function() {
					$(D).removeClass('active').hide()
				}),
				$('#c' + C).find('.uzr').click(function() {
					$('#c' + C).removeClass('unread'),
						msgs()
				}),
				updateu(C)
		}
		S ? ($('.phide').trigger('click'), $('.w' + C).css('display', '').addClass('active').show(), $('.pn2').hide(), setTimeout(function() {
				fixSize(),
					$('.w' + C).find('.d2').scrollTop($('.w' + C).find('.d2')[0].scrollHeight)
			}, 100), $('.dpnl').hide()) : 'none' == $('.w' + C).css('display') && $('#c' + C).addClass('unread'),
			msgs()
	}
}

function popover(C, S, E) {
	var P = $(C);
	P.popover({
		placement: E || 'top',
		html: !0,
		content: function() {
			return $(S)[0].outerHTML
		},
		title: ''
	})
}

function msgs() {
	var C = $('#chats').find('.unread').length;
	0 == C ? ($('.chats').find('.badge').text(''), hl($('.chats'), 'primary')) : ($('.chats').find('.badge').text(C), hl($('.chats'), 'warning'))
}
var uhd = '*';

function uhead() {
	return '*' == uhd && (uhd = $('#uhead').html()),
		uhd
}

function loadpro() {
	jQuery.fn.sort = function() {
			var C = [].sort;
			return function(S, E) {
				E = E || function() {
					return this
				};
				var P = this.map(function() {
					var R = E.call(this),
						D = R.parentNode,
						M = D.insertBefore(document.createTextNode(''), R.nextSibling);
					return function() {
						if (D === this) throw new Error('You can\'t sort elements if any one is a descendant of another.');
						D.insertBefore(this, M),
							D.removeChild(M)
					}
				});
				return C.call(this, S).each(function(R) {
					P[R].call(E.call(this))
				})
			}
		}(),
		Array.prototype.findall || (Array.prototype.findall = function(C) {
			'use strict';
			if (void 0 === this || null === this) throw new TypeError;
			var S = C,
				E = Object(this),
				P = E.length >>> 0;
			'function' != typeof C && (S = function(I, B) {
				var N = Object.keys(C),
					U = 0;
				return N.forEach(function(F) {
						S[F] == B[F] && (U += 1)
					}),
					U == N.length
			});
			for (var R = [], D = 2 <= arguments.length ? arguments[1] : void 0, M = 0; M < P; M++)
				if (M in E) {
					var A = E[M];
					S.call(D, A, M, E) && R.push(A)
				}
			return R
		}),
		Array.prototype.findone || (Array.prototype.findone = function(C) {
			'use strict';
			if (void 0 === this || null === this) throw new TypeError;
			var S = C,
				E = Object(this),
				P = E.length >>> 0;
			'function' != typeof C && (S = function(A, I) {
				var B = Object.keys(C),
					N = 0;
				return B.forEach(function(U) {
						S[U] == I[U] && (N += 1)
					}),
					N == B.length
			});
			for (var R = 2 <= arguments.length ? arguments[1] : void 0, D = 0; D < P; D++)
				if (D in E) {
					var M = E[D];
					if (S.call(R, M, D, E)) return M
				}
			return null
		}),
		Array.prototype.forEach || (Array.prototype.forEach = function(C, S) {
			var E, P;
			if (null == this) throw new TypeError(' this is null or not defined');
			var R = Object(this),
				D = R.length >>> 0;
			if ('function' != typeof C) throw new TypeError(C + ' is not a function');
			for (1 < arguments.length && (E = S), P = 0; P < D;) {
				var M;
				P in R && (M = R[P], C.call(E, M, P, R)),
					P++
			}
		}),
		Array.prototype.remove = function() {
			for (var S = arguments, E = S.length, C, P; E && this.length;)
				for (C = S[--E]; - 1 !== (P = this.indexOf(C));) this.splice(P, 1);
			return this
		}
}
(function(C) {
	C.fn.popTitle = function(S) {
			var E = this.parent().parent().find('.phide').detach();
			return this.parent().parent().find('.pophead').html(S).prepend(E),
				this
		},
		C.fn.pop = function(S) {
			if (this.hasClass('pop')) return this.find('.popbody').children(0).pop(S);
			switch (S) {
				case 'show':
					return !1 == this.parent().hasClass('popbody') && this.pop(),
						C('.pop').css('z-index', 2e3),
						this.parent().parent().css('z-index', 2001),
						this.parent().parent().css('display', ''),
						fixSize(),
						this;
					break;
				case 'hide':
					return this.parent().parent().css('display', 'none'),
						this;
					break;
				case 'remove':
					return this.parent().parent().remove(),
						this;
			}
			var E = C.extend({
					width: '50%',
					height: '50%',
					top: '5px',
					left: '5px',
					title: '',
					close: 'hide',
					bg: C(document.body).css('background-color')
				}, S),
				P = C('<div class="pop corner" style="border:1px solid lightgrey;display:none;max-width:95%;position:absolute;z-index:2000;top:' + E.top + ';left:' + E.left + '"></div>').css({
					'background-color': E.bg,
					width: E.width,
					height: E.height
				}),
				R = C('<div class="pophead dots corner bg-primary" style="padding:2px;width:100%!important;"></div>').first(),
				D = C('<div style="margin-top:-5px;" class="popbody"></div>'),
				M = this.parent();
			return D.append(this),
				R.html(E.title),
				R.prepend('<span onclick="$(this).pop(\'' + E.close + '\')" class="phide pull-right clickable border label label-danger"><i class="fa fa-times"></i></span>'),
				P.on('resize', function() {
					D.css('height', P.height() - R.outerHeight(!0) + 'px')
				}),
				P.append(R),
				P.append(D),
				0 == M.length ? C('#content').append(P) : M.append(P),
				this
		}
})(jQuery);

function getCSSRule(C, S) {
	if (C = C.toLowerCase(), document.styleSheets)
		for (var E = 0; E < document.styleSheets.length; E++) {
			var P = document.styleSheets[E],
				R = 0,
				D = !1;
			do {
				if (D = P.cssRules ? P.cssRules[R] : P.rules[R], D && D.selectorText == C) return 'delete' == S ? (P.cssRules ? P.deleteRule(R) : P.removeRule(R), !0) : D;
				R++
			} while (D)
		}
	return !1
}

function killCSSRule(C) {
	return getCSSRule(C, 'delete')
}

function addCSSRule(C) {
	return document.styleSheets && !getCSSRule(C) && (document.styleSheets[0].addRule ? document.styleSheets[0].addRule(C, null, 0) : document.styleSheets[0].insertRule(C + ' { }', 0)),
		getCSSRule(C)
}

function sendpic() {
	var C = $('<input  accept=\'image/*\' type=\'file\' style=\'display:none;\'/>').first();
	C.trigger('click');
	var S;
	$(C).on('change', function() {
		$('.spic').attr('src', 'images/ajax-loader.gif'),
			S = $.ajax({
				xhr: function() {
					var E = new window.XMLHttpRequest;
					return E.upload.addEventListener('progress', function(P) {
							if (P.lengthComputable) P.loaded / P.total
						}, !1),
						E
				},
				timeout: 0,
				url: 'pic?secid=u&fn=' + $(C).val().split('.').pop(),
				type: 'POST',
				data: $(C).prop('files')[0],
				cache: !1,
				processData: !1,
				contentType: !1,
				success: function(E) {
					$('.spic').attr('src', ''),
						send('setpic', {
							pic: E
						})
				},
				error: function() {
					$('.spic').attr('src', ''),
						alert('\u0645\u0646\u0631\u0633\u0644\u062A \u0627\u0644\u0635\u0648\u0631\u0647 \u0639\u0646\u062F\u0643 \u0645\u0634\u0643\u0644\u0647 \u0627\u062D\u062A\u0645\u0627\u0644 \u0627\u0644\u0646\u062A \u0636\u0639\u064A\u0641')
				}
			})
	})
}

function sendfile(C, S) {
	pickedfile = null;
	var E = $('<div></div>').first();
	E.append('<input type=\'file\'  accept=\'image/*, video/*, audio/*\' style=\'display:none;\'/>'),
		E.children('input').trigger('click');
	var P;
	$(E).children('input').on('change', function() {
		var R = $('<div class=\'mm msg fl\' style=\'width:100%;\'><a class=\'fn fl\'></a><button style=\'color:red;border:1px solid red;min-width:40px;\' class=\' cancl\'>X</button></div>');
		$('#d2' + C).append(R),
			$(R).find('.cancl').click(function() {
				$(R).remove(),
					P.abort()
			}),
			P = $.ajax({
				xhr: function() {
					var D = new window.XMLHttpRequest;
					return D.upload.addEventListener('progress', function(M) {
							if (M.lengthComputable) {
								var A = M.loaded / M.total;
								$(R.find('.fn')).text('%' + parseInt(100 * A) + ' | ' + $(E).children('input').val().split('\\').pop())
							}
						}, !1),
						D
				},
				timeout: 0,
				url: 'upload?secid=u&fn=' + $(E).children('input').val().split('.').pop(),
				type: 'POST',
				data: $(E).children('input').prop('files')[0],
				cache: !1,
				processData: !1,
				contentType: !1,
				success: function(D) {
					pickedfile = D,
						null == S ? send('file', {
							pm: C,
							link: D
						}) : S(D),
						$(E).remove(),
						$(R).remove()
				},
				error: function() {
					$(R).remove()
				}
			})
	})
}

function encode(C) {
	return encodeURIComponent(C).split('\'').join('%27')
}

function decode(C) {
	return decodeURIComponent(C)
}

function isls() {
	return 'undefined' != typeof Storage
}

function setv(C, S) {
	isls() ? localStorage.setItem(C, S) : setCookie(C, S)
}

function getv(C) {
	if (isls()) {
		var S = localStorage.getItem(C);
		return ('null' == S || null == S) && (S = ''),
			S
	}
	return getCookie(C)
}

function setCookie(C, S) {
	var P = new Date;
	P.setTime(P.getTime() + 28771200000);
	var R = 'expires=' + P.toUTCString();
	document.cookie = C + '=' + encode(S) + '; ' + R
}

function isIE9OrBelow() {
	return /MSIE\s/.test(navigator.userAgent) && 10 > parseFloat(navigator.appVersion.split('MSIE')[1])
}

function getCookie(C) {
	for (var S = C + '=', E = document.cookie.split(';'), P = 0, R; P < E.length; P++) {
		for (R = E[P];
			' ' == R.charAt(0);) R = R.substring(1);
		if (-1 != R.indexOf(S)) return decode(R.substring(S.length, R.length))
	}
	return ''
}
cmsg = null;

function sendpic_() {
	if (null == cmsg) {
		var C = {
			cmd: 'upload_i',
			busy: !1,
			url: 'pic?secid=u&fn=%'
		};
		$('.spic').attr('src', 'images/ajax-loader.gif'),
			C.done = function(S) {
				send('setpic', {
						pic: S
					}),
					cmsg = null,
					$('.spic').attr('src', '')
			},
			C.progress = function() {},
			C.error = function() {
				alert('error'),
					cmsg = null,
					$('.spic').attr('src', ''),
					alert('\u0645\u0646\u0631\u0633\u0644\u062A \u0627\u0644\u0635\u0648\u0631\u0647 \u0639\u0646\u062F\u0643 \u0645\u0634\u0643\u0644\u0647 \u0627\u062D\u062A\u0645\u0627\u0644 \u0627\u0644\u0646\u062A \u0636\u0639\u064A\u0641')
			},
			cmsg = C
	}
}

function sendfile_(C, S) {
	if (null == cmsg) {
		var E = {
				cmd: 'upload_iv',
				busy: !1,
				url: 'upload?secid=u&fn=%'
			},
			P = $('<div class=\'mm msg fl\' style=\'width:100%;\'><a class=\'fn fl\'></a><button style=\'color:red;border:1px solid red;min-width:40px;\' class=\' cancl\'>X</button></div>').first();
		$('#d2' + C).append(P),
			$(P).find('.cancl').click(function() {
				$(P).remove()
			}),
			E.id = C,
			E.sp = P,
			E.done = function(R) {
				pickedfile = R,
					null == S ? send('file', {
						pm: C,
						link: R
					}) : S(R),
					E.sp.remove(),
					cmsg = null
			},
			E.progress = function(R) {
				E.sp.find('.fn').text('%' + R + ' ' + E.fn)
			},
			E.error = function() {
				cmsg = null,
					E.sp.remove(),
					alert('\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0645\u0644\u0641 .. \u062D\u0627\u0648\u0644 \u0645\u0631\u0647 \u0623\u062E\u0631\u0649 .')
			},
			cmsg = E
	}
}
uf = {
	kw: '\u0627\u0644\u0643\u0648\u064A\u062A',
	et: '\u0625\u062B\u064A\u0648\u0628\u064A\u0627',
	az: '\u0623\u0630\u0631\u0628\u064A\u062C\u0627\u0646',
	am: '\u0623\u0631\u0645\u064A\u0646\u064A\u0627',
	aw: '\u0623\u0631\u0648\u0628\u0627',
	er: '\u0625\u0631\u064A\u062A\u0631\u064A\u0627',
	es: '\u0623\u0633\u0628\u0627\u0646\u064A\u0627',
	au: '\u0623\u0633\u062A\u0631\u0627\u0644\u064A\u0627',
	ee: '\u0625\u0633\u062A\u0648\u0646\u064A\u0627',
	il: '\u0625\u0633\u0631\u0627\u0626\u064A\u0644',
	af: '\u0623\u0641\u063A\u0627\u0646\u0633\u062A\u0627\u0646',
	ec: '\u0625\u0643\u0648\u0627\u062F\u0648\u0631',
	ar: '\u0627\u0644\u0623\u0631\u062C\u0646\u062A\u064A\u0646',
	jo: '\u0627\u0644\u0623\u0631\u062F\u0646',
	ae: '\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062A \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0645\u062A\u062D\u062F\u0629',
	al: '\u0623\u0644\u0628\u0627\u0646\u064A\u0627',
	bh: '\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0628\u062D\u0631\u064A\u0646',
	br: '\u0627\u0644\u0628\u0631\u0627\u0632\u064A\u0644',
	pt: '\u0627\u0644\u0628\u0631\u062A\u063A\u0627\u0644',
	ba: '\u0627\u0644\u0628\u0648\u0633\u0646\u0629 \u0648\u0627\u0644\u0647\u0631\u0633\u0643',
	ga: '\u0627\u0644\u062C\u0627\u0628\u0648\u0646',
	dz: '\u0627\u0644\u062C\u0632\u0627\u0626\u0631',
	dk: '\u0627\u0644\u062F\u0627\u0646\u0645\u0627\u0631\u0643',
	cv: '\u0627\u0644\u0631\u0623\u0633 \u0627\u0644\u0623\u062E\u0636\u0631',
	ps: '\u0641\u0644\u0633\u0637\u064A\u0646',
	sv: '\u0627\u0644\u0633\u0644\u0641\u0627\u062F\u0648\u0631',
	sn: '\u0627\u0644\u0633\u0646\u063A\u0627\u0644',
	sd: '\u0627\u0644\u0633\u0648\u062F\u0627\u0646',
	se: '\u0627\u0644\u0633\u0648\u064A\u062F',
	so: '\u0627\u0644\u0635\u0648\u0645\u0627\u0644',
	cn: '\u0627\u0644\u0635\u064A\u0646',
	iq: 'عراقنا',
	ph: '\u0627\u0644\u0641\u0644\u0628\u064A\u0646',
	cm: '\u0627\u0644\u0643\u0627\u0645\u064A\u0631\u0648\u0646',
	cg: '\u0627\u0644\u0643\u0648\u0646\u063A\u0648',
	cd: '\u062C\u0645\u0647\u0648\u0631\u064A\u0629 \u0627\u0644\u0643\u0648\u0646\u063A\u0648 \u0627\u0644\u062F\u064A\u0645\u0642\u0631\u0627\u0637\u064A\u0629',
	de: '\u0623\u0644\u0645\u0627\u0646\u064A\u0627',
	hu: '\u0627\u0644\u0645\u062C\u0631',
	ma: '\u0627\u0644\u0645\u063A\u0631\u0628',
	mx: '\u0627\u0644\u0645\u0643\u0633\u064A\u0643',
	sa: '\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629',
	uk: '\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0645\u062A\u062D\u062F\u0629',
	no: '\u0627\u0644\u0646\u0631\u0648\u064A\u062C',
	at: '\u0627\u0644\u0646\u0645\u0633\u0627',
	ne: '\u0627\u0644\u0646\u064A\u062C\u0631',
	'in': '\u0627\u0644\u0647\u0646\u062F',
	us: '\u0627\u0644\u0648\u0644\u0627\u064A\u0627\u062A \u0627\u0644\u0645\u062A\u062D\u062F\u0629',
	jp: '\u0627\u0644\u064A\u0627\u0628\u0627\u0646',
	ye: '\u0627\u0644\u064A\u0645\u0646',
	gr: '\u0627\u0644\u064A\u0648\u0646\u0627\u0646',
	ag: '\u0623\u0646\u062A\u064A\u063A\u0648\u0627 \u0648\u0628\u0631\u0628\u0648\u062F\u0627',
	id: '\u0625\u0646\u062F\u0648\u0646\u064A\u0633\u064A\u0627',
	ao: '\u0623\u0646\u063A\u0648\u0644\u0627',
	ai: '\u0623\u0646\u063A\u0648\u064A\u0644\u0627',
	uy: '\u0623\u0648\u0631\u0648\u062C\u0648\u0627\u064A',
	uz: '\u0623\u0648\u0632\u0628\u0643\u0633\u062A\u0627\u0646',
	ug: '\u0623\u0648\u063A\u0646\u062F\u0627',
	ua: '\u0623\u0648\u0643\u0631\u0627\u0646\u064A\u0627',
	ir: '\u0625\u064A\u0631\u0627\u0646',
	ie: '\u0623\u064A\u0631\u0644\u0646\u062F\u0627',
	is: '\u0623\u064A\u0633\u0644\u0646\u062F\u0627',
	it: '\u0625\u064A\u0637\u0627\u0644\u064A\u0627',
	pg: '\u0628\u0627\u0628\u0648\u0627-\u063A\u064A\u0646\u064A\u0627 \u0627\u0644\u062C\u062F\u064A\u062F\u0629',
	py: '\u0628\u0627\u0631\u0627\u062C\u0648\u0627\u064A',
	bb: '\u0628\u0627\u0631\u0628\u0627\u062F\u0648\u0633',
	pk: '\u0628\u0627\u0643\u0633\u062A\u0627\u0646',
	pw: '\u0628\u0627\u0644\u0627\u0648',
	bm: '\u0628\u0631\u0645\u0648\u062F\u0627',
	bn: '\u0628\u0631\u0648\u0646\u0627\u064A',
	be: '\u0628\u0644\u062C\u064A\u0643\u0627',
	bg: '\u0628\u0644\u063A\u0627\u0631\u064A\u0627',
	bd: '\u0628\u0646\u062C\u0644\u0627\u062F\u064A\u0634',
	pa: '\u0628\u0646\u0645\u0627',
	bj: '\u0628\u0646\u064A\u0646',
	bt: '\u0628\u0648\u062A\u0627\u0646',
	bw: '\u0628\u0648\u062A\u0633\u0648\u0627\u0646\u0627',
	pr: '\u0628\u0648\u0631\u062A\u0648 \u0631\u064A\u0643\u0648',
	bf: '\u0628\u0648\u0631\u0643\u064A\u0646\u0627 \u0641\u0627\u0633\u0648',
	bi: '\u0628\u0648\u0631\u0648\u0646\u062F\u064A',
	pl: '\u0628\u0648\u0644\u0646\u062F\u0627',
	bo: '\u0628\u0648\u0644\u064A\u0641\u064A\u0627',
	pf: '\u0628\u0648\u0644\u064A\u0646\u0632\u064A\u0627 \u0627\u0644\u0641\u0631\u0646\u0633\u064A\u0629',
	pe: '\u0628\u064A\u0631\u0648',
	by: '\u0628\u064A\u0644\u0627\u0631\u0648\u0633',
	bz: '\u0628\u064A\u0644\u064A\u0632',
	th: '\u062A\u0627\u064A\u0644\u0627\u0646\u062F',
	tw: '\u062A\u0627\u064A\u0648\u0627\u0646',
	tm: '\u062A\u0631\u0643\u0645\u0627\u0646\u0633\u062A\u0627\u0646',
	tr: '\u062A\u0631\u0643\u064A\u0627',
	tt: '\u062A\u0631\u064A\u0646\u064A\u062F\u0627\u062F \u0648\u062A\u0648\u0628\u0627\u062C\u0648',
	td: '\u062A\u0634\u0627\u062F',
	cl: '\u062A\u0634\u064A\u0644\u064A',
	tz: '\u062A\u0646\u0632\u0627\u0646\u064A\u0627',
	tg: '\u062A\u0648\u062C\u0648',
	tv: '\u062A\u0648\u0641\u0627\u0644\u0648',
	tk: '\u062A\u0648\u0643\u064A\u0644\u0627\u0648',
	to: '\u062A\u0648\u0646\u062C\u0627',
	tn: '\u062A\u0648\u0646\u0633',
	tp: '\u062A\u064A\u0645\u0648\u0631 \u0627\u0644\u0634\u0631\u0642\u064A\u0629',
	jm: '\u062C\u0627\u0645\u0627\u064A\u0643\u0627',
	gm: '\u062C\u0627\u0645\u0628\u064A\u0627',
	gl: '\u062C\u0631\u064A\u0646\u0644\u0627\u0646\u062F',
	pn: '\u062C\u0632\u0631 \u0627\u0644\u0628\u062A\u0643\u0627\u0631\u064A\u0646',
	bs: '\u062C\u0632\u0631 \u0627\u0644\u0628\u0647\u0627\u0645\u0627',
	km: '\u062C\u0632\u0631 \u0627\u0644\u0642\u0645\u0631',
	cf: '\u0623\u0641\u0631\u064A\u0642\u064A\u0627 \u0627\u0644\u0648\u0633\u0637\u0649',
	cz: '\u062C\u0645\u0647\u0648\u0631\u064A\u0629 \u0627\u0644\u062A\u0634\u064A\u0643',
	'do': '\u062C\u0645\u0647\u0648\u0631\u064A\u0629 \u0627\u0644\u062F\u0648\u0645\u064A\u0646\u064A\u0643\u0627\u0646',
	za: '\u062C\u0646\u0648\u0628 \u0623\u0641\u0631\u064A\u0642\u064A\u0627',
	gt: '\u062C\u0648\u0627\u062A\u064A\u0645\u0627\u0644\u0627',
	gp: '\u062C\u0648\u0627\u062F\u064A\u0644\u0648\u0628',
	gu: '\u062C\u0648\u0627\u0645',
	ge: '\u062C\u0648\u0631\u062C\u064A\u0627',
	gs: '\u062C\u0648\u0631\u062C\u064A\u0627 \u0627\u0644\u062C\u0646\u0648\u0628\u064A\u0629',
	gy: '\u062C\u064A\u0627\u0646\u0627',
	gf: '\u062C\u064A\u0627\u0646\u0627 \u0627\u0644\u0641\u0631\u0646\u0633\u064A\u0629',
	dj: '\u062C\u064A\u0628\u0648\u062A\u064A',
	je: '\u062C\u064A\u0631\u0633\u064A',
	gg: '\u062C\u064A\u0631\u0646\u0632\u064A',
	va: '\u062F\u0648\u0644\u0629 \u0627\u0644\u0641\u0627\u062A\u064A\u0643\u0627\u0646',
	dm: '\u062F\u0648\u0645\u064A\u0646\u064A\u0643\u0627',
	rw: '\u0631\u0648\u0627\u0646\u062F\u0627',
	ru: '\u0631\u0648\u0633\u064A\u0627',
	ro: '\u0631\u0648\u0645\u0627\u0646\u064A\u0627',
	re: '\u0631\u064A\u0648\u0646\u064A\u0648\u0646',
	zm: '\u0632\u0627\u0645\u0628\u064A\u0627',
	zw: '\u0632\u064A\u0645\u0628\u0627\u0628\u0648\u064A',
	ws: '\u0633\u0627\u0645\u0648\u0627',
	sm: '\u0633\u0627\u0646 \u0645\u0627\u0631\u064A\u0646\u0648',
	sk: '\u0633\u0644\u0648\u0641\u0627\u0643\u064A\u0627',
	si: '\u0633\u0644\u0648\u0641\u064A\u0646\u064A\u0627',
	sg: '\u0633\u0646\u063A\u0627\u0641\u0648\u0631\u0629',
	sz: '\u0633\u0648\u0627\u0632\u064A\u0644\u0627\u0646\u062F',
	sy: '\u0633\u0648\u0631\u064A\u0627',
	sr: '\u0633\u0648\u0631\u064A\u0646\u0627\u0645',
	ch: '\u0633\u0648\u064A\u0633\u0631\u0627',
	sl: '\u0633\u064A\u0631\u0627\u0644\u064A\u0648\u0646',
	lk: '\u0633\u064A\u0631\u064A\u0644\u0627\u0646\u0643\u0627',
	sc: '\u0633\u064A\u0634\u0644',
	rs: '\u0635\u0631\u0628\u064A\u0627',
	tj: '\u0637\u0627\u062C\u064A\u0643\u0633\u062A\u0627\u0646',
	om: '\u0639\u0645\u0627\u0646',
	gh: '\u063A\u0627\u0646\u0627',
	gd: '\u063A\u0631\u064A\u0646\u0627\u062F\u0627',
	gn: '\u063A\u064A\u0646\u064A\u0627',
	gq: '\u063A\u064A\u0646\u064A\u0627 \u0627\u0644\u0627\u0633\u062A\u0648\u0627\u0626\u064A\u0629',
	gw: '\u063A\u064A\u0646\u064A\u0627 \u0628\u064A\u0633\u0627\u0648',
	vu: '\u0641\u0627\u0646\u0648\u0627\u062A\u0648',
	fr: '\u0641\u0631\u0646\u0633\u0627',
	ve: '\u0641\u0646\u0632\u0648\u064A\u0644\u0627',
	fi: '\u0641\u0646\u0644\u0646\u062F\u0627',
	vn: '\u0641\u064A\u062A\u0646\u0627\u0645',
	cy: '\u0642\u0628\u0631\u0635',
	qa: '\u0642\u0637\u0631',
	kg: '\u0642\u064A\u0631\u0642\u064A\u0632\u0633\u062A\u0627\u0646',
	kz: '\u0643\u0627\u0632\u0627\u062E\u0633\u062A\u0627\u0646',
	nc: '\u0643\u0627\u0644\u064A\u062F\u0648\u0646\u064A\u0627 \u0627\u0644\u062C\u062F\u064A\u062F\u0629',
	kh: '\u0643\u0627\u0645\u0628\u0648\u062F\u064A\u0627',
	hr: '\u0643\u0631\u0648\u0627\u062A\u064A\u0627',
	ca: '\u0643\u0646\u062F\u0627',
	cu: '\u0643\u0648\u0628\u0627',
	ci: '\u0633\u0627\u062D\u0644 \u0627\u0644\u0639\u0627\u062C',
	kr: '\u0643\u0648\u0631\u064A\u0627',
	kp: '\u0643\u0648\u0631\u064A\u0627 \u0627\u0644\u0634\u0645\u0627\u0644\u064A\u0629',
	cr: '\u0643\u0648\u0633\u062A\u0627\u0631\u064A\u0643\u0627',
	co: '\u0643\u0648\u0644\u0648\u0645\u0628\u064A\u0627',
	ki: '\u0643\u064A\u0631\u064A\u0628\u0627\u062A\u064A',
	ke: '\u0643\u064A\u0646\u064A\u0627',
	lv: '\u0644\u0627\u062A\u0641\u064A\u0627',
	la: '\u0644\u0627\u0648\u0633',
	lb: '\u0644\u0628\u0646\u0627\u0646',
	li: '\u0644\u0634\u062A\u0646\u0634\u062A\u0627\u064A\u0646',
	lu: '\u0644\u0648\u0643\u0633\u0645\u0628\u0648\u0631\u062C',
	ly: '\u0644\u064A\u0628\u064A\u0627',
	lr: '\u0644\u064A\u0628\u064A\u0631\u064A\u0627',
	lt: '\u0644\u064A\u062A\u0648\u0627\u0646\u064A\u0627',
	ls: '\u0644\u064A\u0633\u0648\u062A\u0648',
	mq: '\u0645\u0627\u0631\u062A\u064A\u0646\u064A\u0643',
	mo: '\u0645\u0627\u0643\u0627\u0648',
	fm: '\u0645\u0627\u0643\u0631\u0648\u0646\u064A\u0632\u064A\u0627',
	mw: '\u0645\u0627\u0644\u0627\u0648\u064A',
	mt: '\u0645\u0627\u0644\u0637\u0627',
	ml: '\u0645\u0627\u0644\u064A',
	my: '\u0645\u0627\u0644\u064A\u0632\u064A\u0627',
	yt: '\u0645\u0627\u064A\u0648\u062A',
	mg: '\u0645\u062F\u063A\u0634\u0642\u0631',
	eg: '\u0645\u0635\u0631',
	mk: '\u0645\u0642\u062F\u0648\u0646\u064A\u0627\u060C \u064A\u0648\u063A\u0648\u0633\u0644\u0627\u0641\u064A\u0627',
	mn: '\u0645\u0646\u063A\u0648\u0644\u064A\u0627',
	mr: '\u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627',
	mu: '\u0645\u0648\u0631\u064A\u0634\u064A\u0648\u0633',
	mz: '\u0645\u0648\u0632\u0645\u0628\u064A\u0642',
	md: '\u0645\u0648\u0644\u062F\u0648\u0641\u0627',
	mc: '\u0645\u0648\u0646\u0627\u0643\u0648',
	ms: '\u0645\u0648\u0646\u062A\u0633\u064A\u0631\u0627\u062A',
	me: '\u0645\u0648\u0646\u062A\u064A\u0646\u064A\u063A\u0631\u0648',
	mm: '\u0645\u064A\u0627\u0646\u0645\u0627\u0631',
	na: '\u0646\u0627\u0645\u064A\u0628\u064A\u0627',
	nr: '\u0646\u0627\u0648\u0631\u0648',
	np: '\u0646\u064A\u0628\u0627\u0644',
	ng: '\u0646\u064A\u062C\u064A\u0631\u064A\u0627',
	ni: '\u0646\u064A\u0643\u0627\u0631\u0627\u062C\u0648\u0627',
	nu: '\u0646\u064A\u0648\u0627',
	nz: '\u0646\u064A\u0648\u0632\u064A\u0644\u0646\u062F\u0627',
	ht: '\u0647\u0627\u064A\u062A\u064A',
	hn: '\u0647\u0646\u062F\u0648\u0631\u0627\u0633',
	nl: '\u0647\u0648\u0644\u0646\u062F\u0627',
	hk: '\u0647\u0648\u0646\u063A \u0643\u0648\u0646\u063A',
	wf: '\u0648\u0627\u0644\u064A\u0633 \u0648\u0641\u0648\u062A\u0648\u0646\u0627'
};
var wr = null,
	_0xd6fe = ['connecting', 'start', 'webrtc', 'https://jawalhost.com:8443', '*:*', '\u064A\u062A\u0645 \u0627\u0644\u0625\u062A\u0635\u0627\u0644 ..', 'text', '.callstat', 'warning', 'createdPeer', 'iceConnectionState', 'pc', 'log', 'iceConnectionStateChange', 'Connecting to peer...', 'checking', 'connected to peer...', '\u0645\u062A\u0635\u0644 .!', 'success', 'connected', 'Connection established.', 'completed', 'Disconnected.', 'hangUp', 'disconnected', 'failed.', 'failed', 'closed.', 'closed', 'on', 'status', 'createdPeer ', 'nick ', 'nick', 'readyToCall', 'readytocall', 'joinRoom', 'nickname', 'sendToAll', 'iceFailed', 'connectivityError', 'remove', '.callnot', 'stopLocalVideo', 'leaveRoom', 'disconnect', 'connection'];

function webrtc(C, S) {
	var E = {
		webrtc: null,
		status: _0xd6fe[0]
	};
	return E[_0xd6fe[1]] = function() {
			E[_0xd6fe[2]] = new SimpleWebRTC({
				url: _0xd6fe[3],
				nick: S,
				socketio: {
					'force new connection': !0,
					origins: _0xd6fe[4]
				},
				autoRequestMedia: !0,
				media: {
					audio: !0,
					video: !1
				},
				receiveMedia: {
					offerToReceiveAudio: 1,
					offerToReceiveVideo: 0
				}
			})
		},
		hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[5]), _0xd6fe[8]),
		E[_0xd6fe[1]](),
		E[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[9], function(P) {
			callstat = 2,
				console[_0xd6fe[12]](P[_0xd6fe[11]][_0xd6fe[10]]),
				P[_0xd6fe[11]][_0xd6fe[29]](_0xd6fe[13], function() {
					switch (P[_0xd6fe[11]][_0xd6fe[10]]) {
						case _0xd6fe[15]:
							console[_0xd6fe[12]](_0xd6fe[14]),
								hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[5]), _0xd6fe[8]);
							break;
						case _0xd6fe[19]:
							console[_0xd6fe[12]](_0xd6fe[16]),
								hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[17]), _0xd6fe[18]);
						case _0xd6fe[21]:
							console[_0xd6fe[12]](_0xd6fe[20]),
								hl($(_0xd6fe[7])[_0xd6fe[6]](_0xd6fe[17]), _0xd6fe[18]);
							break;
						case _0xd6fe[24]:
							console[_0xd6fe[12]](_0xd6fe[22]),
								E[_0xd6fe[23]]();
							break;
						case _0xd6fe[26]:
							console[_0xd6fe[12]](_0xd6fe[25]),
								E[_0xd6fe[23]]();
							break;
						case _0xd6fe[28]:
							console[_0xd6fe[12]](_0xd6fe[27]),
								E[_0xd6fe[23]]();
					}
				}),
				E[_0xd6fe[30]] = _0xd6fe[19],
				console[_0xd6fe[12]](_0xd6fe[31], P),
				console[_0xd6fe[12]](_0xd6fe[32], P[_0xd6fe[33]])
		}),
		E[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[34], function() {
			console[_0xd6fe[12]](_0xd6fe[35]),
				E[_0xd6fe[30]] = _0xd6fe[19],
				E[_0xd6fe[2]][_0xd6fe[36]](C),
				E[_0xd6fe[2]][_0xd6fe[38]](_0xd6fe[37], {
					nick: S
				})
		}),
		E[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[39], function() {
			console[_0xd6fe[12]](_0xd6fe[39]),
				E[_0xd6fe[23]]()
		}),
		E[_0xd6fe[2]][_0xd6fe[29]](_0xd6fe[40], function() {
			console[_0xd6fe[12]](_0xd6fe[40]),
				E[_0xd6fe[23]]()
		}),
		E[_0xd6fe[23]] = function() {
			callstat = 0,
				$(_0xd6fe[42])[_0xd6fe[41]](),
				wr = null;
			try {
				E[_0xd6fe[2]][_0xd6fe[43]]()
			} catch (P) {}
			E[_0xd6fe[2]][_0xd6fe[44]](),
				E[_0xd6fe[30]] = _0xd6fe[28],
				E[_0xd6fe[2]][_0xd6fe[46]][_0xd6fe[45]]()
		},
		E
}
(function(C) {
	if ('object' == typeof exports && 'undefined' != typeof module) module.exports = C();
	else if ('function' == typeof define && define.amd) define([], C);
	else {
		var S;
		S = 'undefined' == typeof window ? 'undefined' == typeof global ? 'undefined' == typeof self ? this : self : global : window,
			S.adapter = C()
	}
})(function() {
	return function P(R, D, M) {
		function A(N, U) {
			if (!D[N]) {
				if (!R[N]) {
					var F = 'function' == typeof require && require;
					if (!U && F) return F(N, !0);
					if (I) return I(N, !0);
					var G = new Error('Cannot find module \'' + N + '\'');
					throw G.code = 'MODULE_NOT_FOUND',
						G
				}
				var z = D[N] = {
					exports: {}
				};
				R[N][0].call(z.exports, function(V) {
					var q = R[N][1][V];
					return A(q ? q : V)
				}, z, z.exports, P, R, D, M)
			}
			return D[N].exports
		}
		for (var I = 'function' == typeof require && require, B = 0; B < M.length; B++) A(M[B]);
		return A
	}({
		1: [function(P, R) {
			'use strict';
			var M = {};
			M.generateIdentifier = function() {
					return Math.random().toString(36).substr(2, 10)
				},
				M.localCName = M.generateIdentifier(),
				M.splitLines = function(A) {
					return A.trim().split('\n').map(function(I) {
						return I.trim()
					})
				},
				M.splitSections = function(A) {
					var I = A.split('\nm=');
					return I.map(function(B, N) {
						return (0 < N ? 'm=' + B : B).trim() + '\r\n'
					})
				},
				M.matchPrefix = function(A, I) {
					return M.splitLines(A).filter(function(B) {
						return 0 === B.indexOf(I)
					})
				},
				M.parseCandidate = function(A) {
					var I = 0 === A.indexOf('a=candidate:') ? A.substring(12).split(' ') : A.substring(10).split(' ');
					for (var B = {
							foundation: I[0],
							component: parseInt(I[1], 10),
							protocol: I[2].toLowerCase(),
							priority: parseInt(I[3], 10),
							ip: I[4],
							port: parseInt(I[5], 10),
							type: I[7]
						}, N = 8; N < I.length; N += 2) switch (I[N]) {
						case 'raddr':
							B.relatedAddress = I[N + 1];
							break;
						case 'rport':
							B.relatedPort = parseInt(I[N + 1], 10);
							break;
						case 'tcptype':
							B.tcpType = I[N + 1];
							break;
						default:
							B[I[N]] = I[N + 1];
					}
					return B
				},
				M.writeCandidate = function(A) {
					var I = [A.foundation, A.component, A.protocol.toUpperCase(), A.priority, A.ip, A.port],
						B = A.type;
					return I.push('typ'),
						I.push(B), 'host' !== B && A.relatedAddress && A.relatedPort && (I.push('raddr'), I.push(A.relatedAddress), I.push('rport'), I.push(A.relatedPort)),
						A.tcpType && 'tcp' === A.protocol.toLowerCase() && (I.push('tcptype'), I.push(A.tcpType)), 'candidate:' + I.join(' ')
				},
				M.parseIceOptions = function(A) {
					return A.substr(14).split(' ')
				},
				M.parseRtpMap = function(A) {
					var I = A.substr(9).split(' '),
						B = {
							payloadType: parseInt(I.shift(), 10)
						};
					return I = I[0].split('/'),
						B.name = I[0],
						B.clockRate = parseInt(I[1], 10),
						B.numChannels = 3 === I.length ? parseInt(I[2], 10) : 1,
						B
				},
				M.writeRtpMap = function(A) {
					var I = A.payloadType;
					return void 0 !== A.preferredPayloadType && (I = A.preferredPayloadType), 'a=rtpmap:' + I + ' ' + A.name + '/' + A.clockRate + (1 === A.numChannels ? '' : '/' + A.numChannels) + '\r\n'
				},
				M.parseExtmap = function(A) {
					var I = A.substr(9).split(' ');
					return {
						id: parseInt(I[0], 10),
						direction: 0 < I[0].indexOf('/') ? I[0].split('/')[1] : 'sendrecv',
						uri: I[1]
					}
				},
				M.writeExtmap = function(A) {
					return 'a=extmap:' + (A.id || A.preferredId) + (A.direction && 'sendrecv' !== A.direction ? '/' + A.direction : '') + ' ' + A.uri + '\r\n'
				},
				M.parseFmtp = function(A) {
					for (var I = {}, N = A.substr(A.indexOf(' ') + 1).split(';'), U = 0, B; U < N.length; U++) B = N[U].trim().split('='),
						I[B[0].trim()] = B[1];
					return I
				},
				M.writeFmtp = function(A) {
					var I = '',
						B = A.payloadType;
					if (void 0 !== A.preferredPayloadType && (B = A.preferredPayloadType), A.parameters && Object.keys(A.parameters).length) {
						var N = [];
						Object.keys(A.parameters).forEach(function(U) {
								N.push(U + '=' + A.parameters[U])
							}),
							I += 'a=fmtp:' + B + ' ' + N.join(';') + '\r\n'
					}
					return I
				},
				M.parseRtcpFb = function(A) {
					var I = A.substr(A.indexOf(' ') + 1).split(' ');
					return {
						type: I.shift(),
						parameter: I.join(' ')
					}
				},
				M.writeRtcpFb = function(A) {
					var I = '',
						B = A.payloadType;
					return void 0 !== A.preferredPayloadType && (B = A.preferredPayloadType),
						A.rtcpFeedback && A.rtcpFeedback.length && A.rtcpFeedback.forEach(function(N) {
							I += 'a=rtcp-fb:' + B + ' ' + N.type + (N.parameter && N.parameter.length ? ' ' + N.parameter : '') + '\r\n'
						}),
						I
				},
				M.parseSsrcMedia = function(A) {
					var I = A.indexOf(' '),
						B = {
							ssrc: parseInt(A.substr(7, I - 7), 10)
						},
						N = A.indexOf(':', I);
					return -1 < N ? (B.attribute = A.substr(I + 1, N - I - 1), B.value = A.substr(N + 1)) : B.attribute = A.substr(I + 1),
						B
				},
				M.getMid = function(A) {
					var I = M.matchPrefix(A, 'a=mid:')[0];
					if (I) return I.substr(6)
				},
				M.parseFingerprint = function(A) {
					var I = A.substr(14).split(' ');
					return {
						algorithm: I[0].toLowerCase(),
						value: I[1]
					}
				},
				M.getDtlsParameters = function(A, I) {
					var B = M.matchPrefix(A + I, 'a=fingerprint:');
					return {
						role: 'auto',
						fingerprints: B.map(M.parseFingerprint)
					}
				},
				M.writeDtlsParameters = function(A, I) {
					var B = 'a=setup:' + I + '\r\n';
					return A.fingerprints.forEach(function(N) {
							B += 'a=fingerprint:' + N.algorithm + ' ' + N.value + '\r\n'
						}),
						B
				},
				M.getIceParameters = function(A, I) {
					var B = M.splitLines(A);
					B = B.concat(M.splitLines(I));
					var N = {
						usernameFragment: B.filter(function(U) {
							return 0 === U.indexOf('a=ice-ufrag:')
						})[0].substr(12),
						password: B.filter(function(U) {
							return 0 === U.indexOf('a=ice-pwd:')
						})[0].substr(10)
					};
					return N
				},
				M.writeIceParameters = function(A) {
					return 'a=ice-ufrag:' + A.usernameFragment + '\r\na=ice-pwd:' + A.password + '\r\n'
				},
				M.parseRtpParameters = function(A) {
					for (var I = {
							codecs: [],
							headerExtensions: [],
							fecMechanisms: [],
							rtcp: []
						}, B = M.splitLines(A), N = B[0].split(' '), U = 3; U < N.length; U++) {
						var F = N[U],
							G = M.matchPrefix(A, 'a=rtpmap:' + F + ' ')[0];
						if (G) {
							var z = M.parseRtpMap(G),
								V = M.matchPrefix(A, 'a=fmtp:' + F + ' ');
							switch (z.parameters = V.length ? M.parseFmtp(V[0]) : {}, z.rtcpFeedback = M.matchPrefix(A, 'a=rtcp-fb:' + F + ' ').map(M.parseRtcpFb), I.codecs.push(z), z.name.toUpperCase()) {
								case 'RED':
								case 'ULPFEC':
									I.fecMechanisms.push(z.name.toUpperCase());
									break;
								default:
							}
						}
					}
					return M.matchPrefix(A, 'a=extmap:').forEach(function(q) {
							I.headerExtensions.push(M.parseExtmap(q))
						}),
						I
				},
				M.writeRtpDescription = function(A, I) {
					var B = '';
					B += 'm=' + A + ' ',
						B += 0 < I.codecs.length ? '9' : '0',
						B += ' UDP/TLS/RTP/SAVPF ',
						B += I.codecs.map(function(U) {
							return void 0 === U.preferredPayloadType ? U.payloadType : U.preferredPayloadType
						}).join(' ') + '\r\n',
						B += 'c=IN IP4 0.0.0.0\r\n',
						B += 'a=rtcp:9 IN IP4 0.0.0.0\r\n',
						I.codecs.forEach(function(U) {
							B += M.writeRtpMap(U),
								B += M.writeFmtp(U),
								B += M.writeRtcpFb(U)
						});
					var N = 0;
					return I.codecs.forEach(function(U) {
							U.maxptime > N && (N = U.maxptime)
						}),
						0 < N && (B += 'a=maxptime:' + N + '\r\n'),
						B += 'a=rtcp-mux\r\n',
						I.headerExtensions.forEach(function(U) {
							B += M.writeExtmap(U)
						}),
						B
				},
				M.parseRtpEncodingParameters = function(A) {
					var I = [],
						B = M.parseRtpParameters(A),
						N = -1 !== B.fecMechanisms.indexOf('RED'),
						U = -1 !== B.fecMechanisms.indexOf('ULPFEC'),
						F = M.matchPrefix(A, 'a=ssrc:').map(function(H) {
							return M.parseSsrcMedia(H)
						}).filter(function(H) {
							return 'cname' === H.attribute
						}),
						G = 0 < F.length && F[0].ssrc,
						V = M.matchPrefix(A, 'a=ssrc-group:FID').map(function(H) {
							var J = H.split(' ');
							return J.shift(),
								J.map(function(W) {
									return parseInt(W, 10)
								})
						}),
						z;
					0 < V.length && 1 < V[0].length && V[0][0] === G && (z = V[0][1]),
						B.codecs.forEach(function(H) {
							if ('RTX' === H.name.toUpperCase() && H.parameters.apt) {
								var J = {
									ssrc: G,
									codecPayloadType: parseInt(H.parameters.apt, 10),
									rtx: {
										ssrc: z
									}
								};
								I.push(J),
									N && (J = JSON.parse(JSON.stringify(J)), J.fec = {
										ssrc: z,
										mechanism: U ? 'red+ulpfec' : 'red'
									}, I.push(J))
							}
						}),
						0 === I.length && G && I.push({
							ssrc: G
						});
					var q = M.matchPrefix(A, 'b=');
					return q.length && (0 === q[0].indexOf('b=TIAS:') ? q = parseInt(q[0].substr(7), 10) : 0 === q[0].indexOf('b=AS:') && (q = parseInt(q[0].substr(5), 10)), I.forEach(function(H) {
							H.maxBitrate = q
						})),
						I
				},
				M.parseRtcpParameters = function(A) {
					var I = {},
						N = M.matchPrefix(A, 'a=ssrc:').map(function(G) {
							return M.parseSsrcMedia(G)
						}).filter(function(G) {
							return 'cname' === G.attribute
						})[0];
					N && (I.cname = N.value, I.ssrc = N.ssrc);
					var U = M.matchPrefix(A, 'a=rtcp-rsize');
					I.reducedSize = 0 < U.length,
						I.compound = 0 === U.length;
					var F = M.matchPrefix(A, 'a=rtcp-mux');
					return I.mux = 0 < F.length,
						I
				},
				M.parseMsid = function(A) {
					var I, B = M.matchPrefix(A, 'a=msid:');
					if (1 === B.length) return I = B[0].substr(7).split(' '), {
						stream: I[0],
						track: I[1]
					};
					var N = M.matchPrefix(A, 'a=ssrc:').map(function(U) {
						return M.parseSsrcMedia(U)
					}).filter(function(U) {
						return 'msid' === U.attribute
					});
					if (0 < N.length) return I = N[0].value.split(' '), {
						stream: I[0],
						track: I[1]
					}
				},
				M.writeSessionBoilerplate = function() {
					return 'v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n'
				},
				M.writeMediaSection = function(A, I, B, N) {
					var U = M.writeRtpDescription(A.kind, I);
					if (U += M.writeIceParameters(A.iceGatherer.getLocalParameters()), U += M.writeDtlsParameters(A.dtlsTransport.getLocalParameters(), 'offer' === B ? 'actpass' : 'active'), U += 'a=mid:' + A.mid + '\r\n', U += A.direction ? 'a=' + A.direction + '\r\n' : A.rtpSender && A.rtpReceiver ? 'a=sendrecv\r\n' : A.rtpSender ? 'a=sendonly\r\n' : A.rtpReceiver ? 'a=recvonly\r\n' : 'a=inactive\r\n', A.rtpSender) {
						var F = 'msid:' + N.id + ' ' + A.rtpSender.track.id + '\r\n';
						U += 'a=' + F,
							U += 'a=ssrc:' + A.sendEncodingParameters[0].ssrc + ' ' + F,
							A.sendEncodingParameters[0].rtx && (U += 'a=ssrc:' + A.sendEncodingParameters[0].rtx.ssrc + ' ' + F, U += 'a=ssrc-group:FID ' + A.sendEncodingParameters[0].ssrc + ' ' + A.sendEncodingParameters[0].rtx.ssrc + '\r\n')
					}
					return U += 'a=ssrc:' + A.sendEncodingParameters[0].ssrc + ' cname:' + M.localCName + '\r\n',
						A.rtpSender && A.sendEncodingParameters[0].rtx && (U += 'a=ssrc:' + A.sendEncodingParameters[0].rtx.ssrc + ' cname:' + M.localCName + '\r\n'),
						U
				},
				M.getDirection = function(A, I) {
					for (var B = M.splitLines(A), N = 0; N < B.length; N++) switch (B[N]) {
						case 'a=sendrecv':
						case 'a=sendonly':
						case 'a=recvonly':
						case 'a=inactive':
							return B[N].substr(2);
						default:
					}
					return I ? M.getDirection(I) : 'sendrecv'
				},
				M.getKind = function(A) {
					var I = M.splitLines(A),
						B = I[0].split(' ');
					return B[0].substr(2)
				},
				M.isRejected = function(A) {
					return '0' === A.split(' ', 2)[1]
				},
				R.exports = M
		}, {}],
		2: [function(P, R) {
			(function(M) {
				'use strict';
				var A = P('./adapter_factory.js');
				R.exports = A({
					window: M.window
				})
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./adapter_factory.js': 3
		}],
		3: [function(P, R) {
			'use strict';
			R.exports = function(M) {
				var A = M && M.window,
					I = P('./utils'),
					B = I.log,
					N = I.detectBrowser(A),
					U = {
						browserDetails: N,
						extractVersion: I.extractVersion,
						disableLog: I.disableLog
					},
					F = P('./chrome/chrome_shim') || null,
					G = P('./edge/edge_shim') || null,
					z = P('./firefox/firefox_shim') || null,
					V = P('./safari/safari_shim') || null;
				switch (N.browser) {
					case 'chrome':
						if (!F || !F.shimPeerConnection) return B('Chrome shim is not included in this adapter release.'),
							U;
						B('adapter.js shimming chrome.'),
							U.browserShim = F,
							F.shimGetUserMedia(A),
							F.shimMediaStream(A),
							I.shimCreateObjectURL(A),
							F.shimSourceObject(A),
							F.shimPeerConnection(A),
							F.shimOnTrack(A),
							F.shimGetSendersWithDtmf(A);
						break;
					case 'firefox':
						if (!z || !z.shimPeerConnection) return B('Firefox shim is not included in this adapter release.'),
							U;
						B('adapter.js shimming firefox.'),
							U.browserShim = z,
							z.shimGetUserMedia(A),
							I.shimCreateObjectURL(A),
							z.shimSourceObject(A),
							z.shimPeerConnection(A),
							z.shimOnTrack(A);
						break;
					case 'edge':
						if (!G || !G.shimPeerConnection) return B('MS edge shim is not included in this adapter release.'),
							U;
						B('adapter.js shimming edge.'),
							U.browserShim = G,
							G.shimGetUserMedia(A),
							I.shimCreateObjectURL(A),
							G.shimPeerConnection(A),
							G.shimReplaceTrack(A);
						break;
					case 'safari':
						if (!V) return B('Safari shim is not included in this adapter release.'),
							U;
						B('adapter.js shimming safari.'),
							U.browserShim = V,
							V.shimCallbacksAPI(A),
							V.shimAddStream(A),
							V.shimOnAddStream(A),
							V.shimGetUserMedia(A);
						break;
					default:
						B('Unsupported browser!');
				}
				return U
			}
		}, {
			'./chrome/chrome_shim': 4,
			'./edge/edge_shim': 6,
			'./firefox/firefox_shim': 9,
			'./safari/safari_shim': 11,
			'./utils': 12
		}],
		4: [function(P, R) {
			'use strict';
			var M = P('../utils.js'),
				A = M.log,
				I = {
					shimMediaStream: function(B) {
						B.MediaStream = B.MediaStream || B.webkitMediaStream
					},
					shimOnTrack: function(B) {
						'object' == typeof B && B.RTCPeerConnection && !('ontrack' in B.RTCPeerConnection.prototype) && Object.defineProperty(B.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(N) {
								var U = this;
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)),
									this.addEventListener('track', this._ontrack = N),
									this.addEventListener('addstream', this._ontrackpoly = function(F) {
										F.stream.addEventListener('addtrack', function(G) {
												var z = B.RTCPeerConnection.prototype.getReceivers ? U.getReceivers().find(function(q) {
													return q.track.id === G.track.id
												}) : {
													track: G.track
												};
												var V = new Event('track');
												V.track = G.track,
													V.receiver = z,
													V.streams = [F.stream],
													U.dispatchEvent(V)
											}),
											F.stream.getTracks().forEach(function(G) {
												var z = B.RTCPeerConnection.prototype.getReceivers ? U.getReceivers().find(function(q) {
													return q.track.id === G.id
												}) : {
													track: G
												};
												var V = new Event('track');
												V.track = G,
													V.receiver = z,
													V.streams = [F.stream],
													this.dispatchEvent(V)
											}.bind(this))
									}.bind(this))
							}
						})
					},
					shimGetSendersWithDtmf: function(B) {
						if ('object' == typeof B && B.RTCPeerConnection && !('getSenders' in B.RTCPeerConnection.prototype) && 'createDTMFSender' in B.RTCPeerConnection.prototype) {
							B.RTCPeerConnection.prototype.getSenders = function() {
								return this._senders || []
							};
							var N = B.RTCPeerConnection.prototype.addStream,
								U = B.RTCPeerConnection.prototype.removeStream;
							B.RTCPeerConnection.prototype.addTrack || (B.RTCPeerConnection.prototype.addTrack = function(F, G) {
									var z = this;
									if ('closed' === z.signalingState) throw new DOMException('The RTCPeerConnection\'s signalingState is \'closed\'.', 'InvalidStateError');
									var V = [].slice.call(arguments, 1);
									if (1 !== V.length || !V[0].getTracks().find(function(X) {
											return X === F
										})) throw new DOMException('The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.', 'NotSupportedError');
									z._senders = z._senders || [];
									var q = z._senders.find(function(X) {
										return X.track === F
									});
									if (q) throw new DOMException('Track already exists.', 'InvalidAccessError');
									z._streams = z._streams || {};
									var H = z._streams[G.id];
									if (H) H.addTrack(F),
										z.removeStream(H),
										z.addStream(H);
									else {
										var J = new B.MediaStream([F]);
										z._streams[G.id] = J,
											z.addStream(J)
									}
									var W = {
										track: F,
										get dtmf() {
											return void 0 === this._dtmf && ('audio' === F.kind ? this._dtmf = z.createDTMFSender(F) : this._dtmf = null),
												this._dtmf
										}
									};
									return z._senders.push(W),
										W
								}),
								B.RTCPeerConnection.prototype.addStream = function(F) {
									var G = this;
									G._senders = G._senders || [],
										N.apply(G, [F]),
										F.getTracks().forEach(function(z) {
											G._senders.push({
												track: z,
												get dtmf() {
													return void 0 === this._dtmf && ('audio' === z.kind ? this._dtmf = G.createDTMFSender(z) : this._dtmf = null),
														this._dtmf
												}
											})
										})
								},
								B.RTCPeerConnection.prototype.removeStream = function(F) {
									var G = this;
									G._senders = G._senders || [],
										U.apply(G, [F]),
										F.getTracks().forEach(function(z) {
											var V = G._senders.find(function(q) {
												return q.track === z
											});
											V && G._senders.splice(G._senders.indexOf(V), 1)
										})
								}
						}
					},
					shimSourceObject: function(B) {
						var N = B && B.URL;
						'object' == typeof B && B.HTMLMediaElement && !('srcObject' in B.HTMLMediaElement.prototype) && Object.defineProperty(B.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this._srcObject
							},
							set: function(U) {
								var F = this;
								return this._srcObject = U,
									this.src && N.revokeObjectURL(this.src),
									U ? void(this.src = N.createObjectURL(U), U.addEventListener('addtrack', function() {
										F.src && N.revokeObjectURL(F.src),
											F.src = N.createObjectURL(U)
									}), U.addEventListener('removetrack', function() {
										F.src && N.revokeObjectURL(F.src),
											F.src = N.createObjectURL(U)
									})) : (this.src = '', void 0)
							}
						})
					},
					shimPeerConnection: function(B) {
						var N = M.detectBrowser(B);
						if (!B.RTCPeerConnection) B.RTCPeerConnection = function(z, V) {
								return A('PeerConnection'),
									z && z.iceTransportPolicy && (z.iceTransports = z.iceTransportPolicy),
									new B.webkitRTCPeerConnection(z, V)
							},
							B.RTCPeerConnection.prototype = B.webkitRTCPeerConnection.prototype,
							B.webkitRTCPeerConnection.generateCertificate && Object.defineProperty(B.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return B.webkitRTCPeerConnection.generateCertificate
								}
							});
						else {
							var U = B.RTCPeerConnection;
							B.RTCPeerConnection = function(z, V) {
									if (z && z.iceServers) {
										for (var q = [], H = 0, J; H < z.iceServers.length; H++) J = z.iceServers[H], !J.hasOwnProperty('urls') && J.hasOwnProperty('url') ? (console.warn('RTCIceServer.url is deprecated! Use urls instead.'), J = JSON.parse(JSON.stringify(J)), J.urls = J.url, q.push(J)) : q.push(z.iceServers[H]);
										z.iceServers = q
									}
									return new U(z, V)
								},
								B.RTCPeerConnection.prototype = U.prototype,
								Object.defineProperty(B.RTCPeerConnection, 'generateCertificate', {
									get: function() {
										return U.generateCertificate
									}
								})
						}
						var F = B.RTCPeerConnection.prototype.getStats;
						B.RTCPeerConnection.prototype.getStats = function(z, V, q) {
								var H = this,
									J = arguments;
								if (0 < arguments.length && 'function' == typeof z) return F.apply(this, arguments);
								if (0 === F.length && (0 === arguments.length || 'function' != typeof arguments[0])) return F.apply(this, []);
								var W = function(K) {
										var Z = {},
											Q = K.result();
										return Q.forEach(function(ne) {
												var ae = {
													id: ne.id,
													timestamp: ne.timestamp,
													type: {
														localcandidate: 'local-candidate',
														remotecandidate: 'remote-candidate'
													}[ne.type] || ne.type
												};
												ne.names().forEach(function(oe) {
														ae[oe] = ne.stat(oe)
													}),
													Z[ae.id] = ae
											}),
											Z
									},
									X = function(K) {
										return new Map(Object.keys(K).map(function(Z) {
											return [Z, K[Z]]
										}))
									};
								if (2 <= arguments.length) {
									var Y = function(K) {
										J[1](X(W(K)))
									};
									return F.apply(this, [Y, arguments[0]])
								}
								return new Promise(function(K, Z) {
									F.apply(H, [function(Q) {
										K(X(W(Q)))
									}, Z])
								}).then(V, q)
							},
							51 > N.version && ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(z) {
								var V = B.RTCPeerConnection.prototype[z];
								B.RTCPeerConnection.prototype[z] = function() {
									var q = arguments,
										H = this,
										J = new Promise(function(W, X) {
											V.apply(H, [q[0], W, X])
										});
									return 2 > q.length ? J : J.then(function() {
										q[1].apply(null, [])
									}, function(W) {
										3 <= q.length && q[2].apply(null, [W])
									})
								}
							}),
							52 > N.version && ['createOffer', 'createAnswer'].forEach(function(z) {
								var V = B.RTCPeerConnection.prototype[z];
								B.RTCPeerConnection.prototype[z] = function() {
									var q = this;
									if (1 > arguments.length || 1 === arguments.length && 'object' == typeof arguments[0]) {
										var H = 1 === arguments.length ? arguments[0] : void 0;
										return new Promise(function(J, W) {
											V.apply(q, [J, W, H])
										})
									}
									return V.apply(this, arguments)
								}
							}), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(z) {
								var V = B.RTCPeerConnection.prototype[z];
								B.RTCPeerConnection.prototype[z] = function() {
									return arguments[0] = new('addIceCandidate' === z ? B.RTCIceCandidate : B.RTCSessionDescription)(arguments[0]),
										V.apply(this, arguments)
								}
							});
						var G = B.RTCPeerConnection.prototype.addIceCandidate;
						B.RTCPeerConnection.prototype.addIceCandidate = function() {
							return arguments[0] ? G.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
						}
					}
				};
			R.exports = {
				shimMediaStream: I.shimMediaStream,
				shimOnTrack: I.shimOnTrack,
				shimGetSendersWithDtmf: I.shimGetSendersWithDtmf,
				shimSourceObject: I.shimSourceObject,
				shimPeerConnection: I.shimPeerConnection,
				shimGetUserMedia: P('./getusermedia')
			}
		}, {
			'../utils.js': 12,
			'./getusermedia': 5
		}],
		5: [function(P, R) {
			'use strict';
			var M = P('../utils.js'),
				A = M.log;
			R.exports = function(I) {
				var B = M.detectBrowser(I),
					N = I && I.navigator,
					U = function(H) {
						if ('object' != typeof H || H.mandatory || H.optional) return H;
						var J = {};
						return Object.keys(H).forEach(function(W) {
								if ('require' !== W && 'advanced' !== W && 'mediaSource' !== W) {
									var X = 'object' == typeof H[W] ? H[W] : {
										ideal: H[W]
									};
									void 0 !== X.exact && 'number' == typeof X.exact && (X.min = X.max = X.exact);
									var Y = function(Z, Q) {
										return Z ? Z + Q.charAt(0).toUpperCase() + Q.slice(1) : 'deviceId' === Q ? 'sourceId' : Q
									};
									if (void 0 !== X.ideal) {
										J.optional = J.optional || [];
										var K = {};
										'number' == typeof X.ideal ? (K[Y('min', W)] = X.ideal, J.optional.push(K), K = {}, K[Y('max', W)] = X.ideal, J.optional.push(K)) : (K[Y('', W)] = X.ideal, J.optional.push(K))
									}
									void 0 !== X.exact && 'number' != typeof X.exact ? (J.mandatory = J.mandatory || {}, J.mandatory[Y('', W)] = X.exact) : ['min', 'max'].forEach(function(Z) {
										void 0 !== X[Z] && (J.mandatory = J.mandatory || {}, J.mandatory[Y(Z, W)] = X[Z])
									})
								}
							}),
							H.advanced && (J.optional = (J.optional || []).concat(H.advanced)),
							J
					},
					F = function(H, J) {
						if (H = JSON.parse(JSON.stringify(H)), H && 'object' == typeof H.audio) {
							var W = function(Z, Q, ne) {
								Q in Z && !(ne in Z) && (Z[ne] = Z[Q], delete Z[Q])
							};
							H = JSON.parse(JSON.stringify(H)),
								W(H.audio, 'autoGainControl', 'googAutoGainControl'),
								W(H.audio, 'noiseSuppression', 'googNoiseSuppression'),
								H.audio = U(H.audio)
						}
						if (H && 'object' == typeof H.video) {
							var X = H.video.facingMode;
							X = X && ('object' == typeof X ? X : {
								ideal: X
							});
							var Y = 61 > B.version;
							if (X && ('user' === X.exact || 'environment' === X.exact || 'user' === X.ideal || 'environment' === X.ideal) && !(N.mediaDevices.getSupportedConstraints && N.mediaDevices.getSupportedConstraints().facingMode && !Y)) {
								delete H.video.facingMode;
								var K;
								if ('environment' === X.exact || 'environment' === X.ideal ? K = ['back', 'rear'] : ('user' === X.exact || 'user' === X.ideal) && (K = ['front']), K) return N.mediaDevices.enumerateDevices().then(function(Z) {
									Z = Z.filter(function(ne) {
										return 'videoinput' === ne.kind
									});
									var Q = Z.find(function(ne) {
										return K.some(function(ae) {
											return -1 !== ne.label.toLowerCase().indexOf(ae)
										})
									});
									return !Q && Z.length && -1 !== K.indexOf('back') && (Q = Z[Z.length - 1]),
										Q && (H.video.deviceId = X.exact ? {
											exact: Q.deviceId
										} : {
											ideal: Q.deviceId
										}),
										H.video = U(H.video),
										A('chrome: ' + JSON.stringify(H)),
										J(H)
								})
							}
							H.video = U(H.video)
						}
						return A('chrome: ' + JSON.stringify(H)),
							J(H)
					},
					G = function(H) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError',
								InvalidStateError: 'NotReadableError',
								DevicesNotFoundError: 'NotFoundError',
								ConstraintNotSatisfiedError: 'OverconstrainedError',
								TrackStartError: 'NotReadableError',
								MediaDeviceFailedDueToShutdown: 'NotReadableError',
								MediaDeviceKillSwitchOn: 'NotReadableError'
							}[H.name] || H.name,
							message: H.message,
							constraint: H.constraintName,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					};
				N.getUserMedia = function(H, J, W) {
					F(H, function(X) {
						N.webkitGetUserMedia(X, J, function(Y) {
							W(G(Y))
						})
					})
				};
				var V = function(H) {
					return new Promise(function(J, W) {
						N.getUserMedia(H, J, W)
					})
				};
				if (N.mediaDevices || (N.mediaDevices = {
						getUserMedia: V,
						enumerateDevices: function() {
							return new Promise(function(H) {
								var J = {
									audio: 'audioinput',
									video: 'videoinput'
								};
								return I.MediaStreamTrack.getSources(function(W) {
									H(W.map(function(X) {
										return {
											label: X.label,
											kind: J[X.kind],
											deviceId: X.id,
											groupId: ''
										}
									}))
								})
							})
						},
						getSupportedConstraints: function() {
							return {
								deviceId: !0,
								echoCancellation: !0,
								facingMode: !0,
								frameRate: !0,
								height: !0,
								width: !0
							}
						}
					}), !N.mediaDevices.getUserMedia) N.mediaDevices.getUserMedia = function(H) {
					return V(H)
				};
				else {
					var q = N.mediaDevices.getUserMedia.bind(N.mediaDevices);
					N.mediaDevices.getUserMedia = function(H) {
						return F(H, function(J) {
							return q(J).then(function(W) {
								if (J.audio && !W.getAudioTracks().length || J.video && !W.getVideoTracks().length) throw W.getTracks().forEach(function(X) {
										X.stop()
									}),
									new DOMException('', 'NotFoundError');
								return W
							}, function(W) {
								return Promise.reject(G(W))
							})
						})
					}
				}
				'undefined' == typeof N.mediaDevices.addEventListener && (N.mediaDevices.addEventListener = function() {
					A('Dummy mediaDevices.addEventListener called.')
				}), 'undefined' == typeof N.mediaDevices.removeEventListener && (N.mediaDevices.removeEventListener = function() {
					A('Dummy mediaDevices.removeEventListener called.')
				})
			}
		}, {
			'../utils.js': 12
		}],
		6: [function(P, R) {
			'use strict';
			var M = P('../utils'),
				A = P('./rtcpeerconnection_shim');
			R.exports = {
				shimGetUserMedia: P('./getusermedia'),
				shimPeerConnection: function(I) {
					var B = M.detectBrowser(I);
					if (I.RTCIceGatherer && (I.RTCIceCandidate || (I.RTCIceCandidate = function(U) {
							return U
						}), I.RTCSessionDescription || (I.RTCSessionDescription = function(U) {
							return U
						}), 15025 > B.version)) {
						var N = Object.getOwnPropertyDescriptor(I.MediaStreamTrack.prototype, 'enabled');
						Object.defineProperty(I.MediaStreamTrack.prototype, 'enabled', {
							set: function(U) {
								N.set.call(this, U);
								var F = new Event('enabled');
								F.enabled = U,
									this.dispatchEvent(F)
							}
						})
					}
					I.RTCPeerConnection = A(I, B.version)
				},
				shimReplaceTrack: function(I) {
					I.RTCRtpSender && !('replaceTrack' in I.RTCRtpSender.prototype) && (I.RTCRtpSender.prototype.replaceTrack = I.RTCRtpSender.prototype.setTrack)
				}
			}
		}, {
			'../utils': 12,
			'./getusermedia': 7,
			'./rtcpeerconnection_shim': 8
		}],
		7: [function(P, R) {
			'use strict';
			R.exports = function(M) {
				var A = M && M.navigator,
					I = function(N) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError'
							}[N.name] || N.name,
							message: N.message,
							constraint: N.constraint,
							toString: function() {
								return this.name
							}
						}
					},
					B = A.mediaDevices.getUserMedia.bind(A.mediaDevices);
				A.mediaDevices.getUserMedia = function(N) {
					return B(N).catch(function(U) {
						return Promise.reject(I(U))
					})
				}
			}
		}, {}],
		8: [function(P, R) {
			'use strict';

			function M(U) {
				var F = U.filter(function(z) {
						return 'audio' === z.kind
					}),
					G = U.filter(function(z) {
						return 'video' === z.kind
					});
				for (U = []; F.length || G.length;) F.length && U.push(F.shift()),
					G.length && U.push(G.shift());
				return U
			}

			function A(U, F) {
				var G = !1;
				return U = JSON.parse(JSON.stringify(U)),
					U.filter(function(z) {
						if (z && (z.urls || z.url)) {
							var V = z.urls || z.url;
							z.url && !z.urls && console.warn('RTCIceServer.url is deprecated! Use urls instead.');
							var q = 'string' == typeof V;
							return q && (V = [V]),
								V = V.filter(function(H) {
									var J = 0 === H.indexOf('turn:') && -1 !== H.indexOf('transport=udp') && -1 === H.indexOf('turn:[') && !G;
									return J ? (G = !0, !0) : 0 === H.indexOf('stun:') && 14393 <= F
								}),
								delete z.url,
								z.urls = q ? V[0] : V, !!V.length
						}
						return !1
					})
			}

			function I(U, F) {
				var G = {
						codecs: [],
						headerExtensions: [],
						fecMechanisms: []
					},
					z = function(q, H) {
						q = parseInt(q, 10);
						for (var J = 0; J < H.length; J++)
							if (H[J].payloadType === q || H[J].preferredPayloadType === q) return H[J]
					},
					V = function(q, H, J, W) {
						var X = z(q.parameters.apt, J),
							Y = z(H.parameters.apt, W);
						return X && Y && X.name.toLowerCase() === Y.name.toLowerCase()
					};
				return U.codecs.forEach(function(q) {
						for (var H = 0, J; H < F.codecs.length; H++)
							if (J = F.codecs[H], q.name.toLowerCase() === J.name.toLowerCase() && q.clockRate === J.clockRate) {
								if ('rtx' === q.name.toLowerCase() && q.parameters && J.parameters.apt && !V(q, J, U.codecs, F.codecs)) continue;
								J = JSON.parse(JSON.stringify(J)),
									J.numChannels = Math.min(q.numChannels, J.numChannels),
									G.codecs.push(J),
									J.rtcpFeedback = J.rtcpFeedback.filter(function(W) {
										for (var X = 0; X < q.rtcpFeedback.length; X++)
											if (q.rtcpFeedback[X].type === W.type && q.rtcpFeedback[X].parameter === W.parameter) return !0;
										return !1
									});
								break
							}
					}),
					U.headerExtensions.forEach(function(q) {
						for (var H = 0, J; H < F.headerExtensions.length; H++)
							if (J = F.headerExtensions[H], q.uri === J.uri) {
								G.headerExtensions.push(J);
								break
							}
					}),
					G
			}

			function B(U, F, G) {
				return -1 !== {
					offer: {
						setLocalDescription: ['stable', 'have-local-offer'],
						setRemoteDescription: ['stable', 'have-remote-offer']
					},
					answer: {
						setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],
						setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']
					}
				}[F][U].indexOf(G)
			}
			var N = P('sdp');
			R.exports = function(U, F) {
				var G = function(z) {
					var V = this,
						q = document.createDocumentFragment();
					if (['addEventListener', 'removeEventListener', 'dispatchEvent'].forEach(function(H) {
							V[H] = q[H].bind(q)
						}), this.needNegotiation = !1, this.onicecandidate = null, this.onaddstream = null, this.ontrack = null, this.onremovestream = null, this.onsignalingstatechange = null, this.oniceconnectionstatechange = null, this.onicegatheringstatechange = null, this.onnegotiationneeded = null, this.ondatachannel = null, this.canTrickleIceCandidates = null, this.localStreams = [], this.remoteStreams = [], this.getLocalStreams = function() {
							return V.localStreams
						}, this.getRemoteStreams = function() {
							return V.remoteStreams
						}, this.localDescription = new U.RTCSessionDescription({
							type: '',
							sdp: ''
						}), this.remoteDescription = new U.RTCSessionDescription({
							type: '',
							sdp: ''
						}), this.signalingState = 'stable', this.iceConnectionState = 'new', this.iceGatheringState = 'new', this.iceOptions = {
							gatherPolicy: 'all',
							iceServers: []
						}, z && z.iceTransportPolicy) switch (z.iceTransportPolicy) {
						case 'all':
						case 'relay':
							this.iceOptions.gatherPolicy = z.iceTransportPolicy;
							break;
						default:
					}
					this.usingBundle = z && 'max-bundle' === z.bundlePolicy,
						z && z.iceServers && (this.iceOptions.iceServers = A(z.iceServers, F)),
						this._config = z || {},
						this.transceivers = [],
						this._localIceCandidatesBuffer = []
				};
				return G.prototype._emitGatheringStateChange = function() {
						var z = new Event('icegatheringstatechange');
						this.dispatchEvent(z),
							null !== this.onicegatheringstatechange && this.onicegatheringstatechange(z)
					},
					G.prototype._emitBufferedCandidates = function() {
						var z = this,
							V = N.splitSections(z.localDescription.sdp);
						this._localIceCandidatesBuffer.forEach(function(q) {
								var H = !q.candidate || 0 === Object.keys(q.candidate).length;
								if (H)
									for (var J = 1; J < V.length; J++) - 1 === V[J].indexOf('\r\na=end-of-candidates\r\n') && (V[J] += 'a=end-of-candidates\r\n');
								else V[q.candidate.sdpMLineIndex + 1] += 'a=' + q.candidate.candidate + '\r\n';
								if (z.localDescription.sdp = V.join(''), z.dispatchEvent(q), null !== z.onicecandidate && z.onicecandidate(q), !q.candidate && 'complete' !== z.iceGatheringState) {
									var W = z.transceivers.every(function(X) {
										return X.iceGatherer && 'completed' === X.iceGatherer.state
									});
									W && 'complete' !== z.iceGatheringStateChange && (z.iceGatheringState = 'complete', z._emitGatheringStateChange())
								}
							}),
							this._localIceCandidatesBuffer = []
					},
					G.prototype.getConfiguration = function() {
						return this._config
					},
					G.prototype._createTransceiver = function(z) {
						var V = 0 < this.transceivers.length,
							q = {
								track: null,
								iceGatherer: null,
								iceTransport: null,
								dtlsTransport: null,
								localCapabilities: null,
								remoteCapabilities: null,
								rtpSender: null,
								rtpReceiver: null,
								kind: z,
								mid: null,
								sendEncodingParameters: null,
								recvEncodingParameters: null,
								stream: null,
								wantReceive: !0
							};
						if (this.usingBundle && V) q.iceTransport = this.transceivers[0].iceTransport,
							q.dtlsTransport = this.transceivers[0].dtlsTransport;
						else {
							var H = this._createIceAndDtlsTransports();
							q.iceTransport = H.iceTransport,
								q.dtlsTransport = H.dtlsTransport
						}
						return this.transceivers.push(q),
							q
					},
					G.prototype.addTrack = function(z, V) {
						for (var H = 0, q; H < this.transceivers.length; H++) this.transceivers[H].track || this.transceivers[H].kind !== z.kind || (q = this.transceivers[H]);
						return q || (q = this._createTransceiver(z.kind)),
							q.track = z,
							q.stream = V,
							q.rtpSender = new U.RTCRtpSender(z, q.dtlsTransport),
							this._maybeFireNegotiationNeeded(),
							q.rtpSender
					},
					G.prototype.addStream = function(z) {
						var V = this;
						if (15025 <= F) this.localStreams.push(z),
							z.getTracks().forEach(function(H) {
								V.addTrack(H, z)
							});
						else {
							var q = z.clone();
							z.getTracks().forEach(function(H, J) {
									var W = q.getTracks()[J];
									H.addEventListener('enabled', function(X) {
										W.enabled = X.enabled
									})
								}),
								q.getTracks().forEach(function(H) {
									V.addTrack(H, q)
								}),
								this.localStreams.push(q)
						}
						this._maybeFireNegotiationNeeded()
					},
					G.prototype.removeStream = function(z) {
						var V = this.localStreams.indexOf(z); - 1 < V && (this.localStreams.splice(V, 1), this._maybeFireNegotiationNeeded())
					},
					G.prototype.getSenders = function() {
						return this.transceivers.filter(function(z) {
							return !!z.rtpSender
						}).map(function(z) {
							return z.rtpSender
						})
					},
					G.prototype.getReceivers = function() {
						return this.transceivers.filter(function(z) {
							return !!z.rtpReceiver
						}).map(function(z) {
							return z.rtpReceiver
						})
					},
					G.prototype._createIceGatherer = function(z, V) {
						var q = this,
							H = new U.RTCIceGatherer(q.iceOptions);
						return H.onlocalcandidate = function(J) {
								var W = new Event('icecandidate');
								W.candidate = {
									sdpMid: z,
									sdpMLineIndex: V
								};
								var X = J.candidate,
									Y = !X || 0 === Object.keys(X).length;
								Y ? void 0 === H.state && (H.state = 'completed') : (X.component = 1, W.candidate.candidate = N.writeCandidate(X));
								var K = N.splitSections(q.localDescription.sdp);
								K[W.candidate.sdpMLineIndex + 1] += Y ? 'a=end-of-candidates\r\n' : 'a=' + W.candidate.candidate + '\r\n',
									q.localDescription.sdp = K.join('');
								var Z = q._pendingOffer ? q._pendingOffer : q.transceivers,
									Q = Z.every(function(ne) {
										return ne.iceGatherer && 'completed' === ne.iceGatherer.state
									});
								switch (q.iceGatheringState) {
									case 'new':
										Y || q._localIceCandidatesBuffer.push(W),
											Y && Q && q._localIceCandidatesBuffer.push(new Event('icecandidate'));
										break;
									case 'gathering':
										q._emitBufferedCandidates(),
											Y || (q.dispatchEvent(W), null !== q.onicecandidate && q.onicecandidate(W)),
											Q && (q.dispatchEvent(new Event('icecandidate')), null !== q.onicecandidate && q.onicecandidate(new Event('icecandidate')), q.iceGatheringState = 'complete', q._emitGatheringStateChange());
										break;
									case 'complete':
										break;
									default:
								}
							},
							H
					},
					G.prototype._createIceAndDtlsTransports = function() {
						var z = this,
							V = new U.RTCIceTransport(null);
						V.onicestatechange = function() {
							z._updateConnectionState()
						};
						var q = new U.RTCDtlsTransport(V);
						return q.ondtlsstatechange = function() {
								z._updateConnectionState()
							},
							q.onerror = function() {
								Object.defineProperty(q, 'state', {
										value: 'failed',
										writable: !0
									}),
									z._updateConnectionState()
							}, {
								iceTransport: V,
								dtlsTransport: q
							}
					},
					G.prototype._disposeIceAndDtlsTransports = function(z) {
						var V = this.transceivers[z].iceGatherer;
						V && (delete V.onlocalcandidate, delete this.transceivers[z].iceGatherer);
						var q = this.transceivers[z].iceTransport;
						q && (delete q.onicestatechange, delete this.transceivers[z].iceTransport);
						var H = this.transceivers[z].dtlsTransport;
						H && (delete H.ondtlssttatechange, delete H.onerror, delete this.transceivers[z].dtlsTransport)
					},
					G.prototype._transceive = function(z, V, q) {
						var H = I(z.localCapabilities, z.remoteCapabilities);
						V && z.rtpSender && (H.encodings = z.sendEncodingParameters, H.rtcp = {
								cname: N.localCName,
								compound: z.rtcpParameters.compound
							}, z.recvEncodingParameters.length && (H.rtcp.ssrc = z.recvEncodingParameters[0].ssrc), z.rtpSender.send(H)),
							q && z.rtpReceiver && ('video' === z.kind && z.recvEncodingParameters && 15019 > F && z.recvEncodingParameters.forEach(function(J) {
								delete J.rtx
							}), H.encodings = z.recvEncodingParameters, H.rtcp = {
								cname: z.rtcpParameters.cname,
								compound: z.rtcpParameters.compound
							}, z.sendEncodingParameters.length && (H.rtcp.ssrc = z.sendEncodingParameters[0].ssrc), z.rtpReceiver.receive(H))
					},
					G.prototype.setLocalDescription = function(z) {
						var V = this;
						if (!B('setLocalDescription', z.type, this.signalingState)) {
							var q = new Error('Can not set local ' + z.type + ' in state ' + this.signalingState);
							return q.name = 'InvalidStateError',
								2 < arguments.length && 'function' == typeof arguments[2] && U.setTimeout(arguments[2], 0, q),
								Promise.reject(q)
						}
						var H, J;
						if ('offer' === z.type) this._pendingOffer && (H = N.splitSections(z.sdp), J = H.shift(), H.forEach(function(Z, Q) {
							var ne = N.parseRtpParameters(Z);
							V._pendingOffer[Q].localCapabilities = ne
						}), this.transceivers = this._pendingOffer, delete this._pendingOffer);
						else if ('answer' === z.type) {
							H = N.splitSections(V.remoteDescription.sdp),
								J = H.shift();
							var W = 0 < N.matchPrefix(J, 'a=ice-lite').length;
							H.forEach(function(Z, Q) {
								var ne = V.transceivers[Q],
									ae = ne.iceGatherer,
									oe = ne.iceTransport,
									ie = ne.dtlsTransport,
									se = ne.localCapabilities,
									de = ne.remoteCapabilities,
									ce = N.isRejected(Z);
								if (!ce && !ne.isDatachannel) {
									var pe = N.getIceParameters(Z, J),
										le = N.getDtlsParameters(Z, J);
									W && (le.role = 'server'),
										V.usingBundle && 0 !== Q || (oe.start(ae, pe, W ? 'controlling' : 'controlled'), ie.start(le));
									var ue = I(se, de);
									V._transceive(ne, 0 < ue.codecs.length, !1)
								}
							})
						}
						switch (this.localDescription = {
							type: z.type,
							sdp: z.sdp
						}, z.type) {
							case 'offer':
								this._updateSignalingState('have-local-offer');
								break;
							case 'answer':
								this._updateSignalingState('stable');
								break;
							default:
								throw new TypeError('unsupported type "' + z.type + '"');
						}
						var X = 1 < arguments.length && 'function' == typeof arguments[1];
						if (X) {
							var Y = arguments[1];
							U.setTimeout(function() {
								Y(), 'new' === V.iceGatheringState && (V.iceGatheringState = 'gathering', V._emitGatheringStateChange()),
									V._emitBufferedCandidates()
							}, 0)
						}
						var K = Promise.resolve();
						return K.then(function() {
								X || ('new' === V.iceGatheringState && (V.iceGatheringState = 'gathering', V._emitGatheringStateChange()), U.setTimeout(V._emitBufferedCandidates.bind(V), 500))
							}),
							K
					},
					G.prototype.setRemoteDescription = function(z) {
						var V = this;
						if (!B('setRemoteDescription', z.type, this.signalingState)) {
							var q = new Error('Can not set remote ' + z.type + ' in state ' + this.signalingState);
							return q.name = 'InvalidStateError',
								2 < arguments.length && 'function' == typeof arguments[2] && U.setTimeout(arguments[2], 0, q),
								Promise.reject(q)
						}
						var H = {},
							J = [],
							W = N.splitSections(z.sdp),
							X = W.shift(),
							Y = 0 < N.matchPrefix(X, 'a=ice-lite').length,
							K = 0 < N.matchPrefix(X, 'a=group:BUNDLE ').length;
						this.usingBundle = K;
						var Z = N.matchPrefix(X, 'a=ice-options:')[0];
						switch (this.canTrickleIceCandidates = !!Z && 0 <= Z.substr(14).split(' ').indexOf('trickle'), W.forEach(function(Q, ne) {
							var ae = N.splitLines(Q),
								oe = N.getKind(Q),
								ie = N.isRejected(Q),
								se = ae[0].substr(2).split(' ')[2],
								de = N.getDirection(Q, X),
								ce = N.parseMsid(Q),
								pe = N.getMid(Q) || N.generateIdentifier();
							if ('application' === oe && 'DTLS/SCTP' === se) return void(V.transceivers[ne] = {
								mid: pe,
								isDatachannel: !0
							});
							var ke = N.parseRtpParameters(Q),
								le, ue, me, fe, ge, he, ye, be, ve, Ce, Se;
							ie || (Ce = N.getIceParameters(Q, X), Se = N.getDtlsParameters(Q, X), Se.role = 'client'),
								ye = N.parseRtpEncodingParameters(Q);
							var xe = N.parseRtcpParameters(Q),
								Te = 0 < N.matchPrefix(Q, 'a=end-of-candidates', X).length,
								we = N.matchPrefix(Q, 'a=candidate:').map(function(Ee) {
									return N.parseCandidate(Ee)
								}).filter(function(Ee) {
									return '1' === Ee.component || 1 === Ee.component
								});
							('offer' === z.type || 'answer' === z.type) && !ie && K && 0 < ne && V.transceivers[ne] && (V._disposeIceAndDtlsTransports(ne), V.transceivers[ne].iceGatherer = V.transceivers[0].iceGatherer, V.transceivers[ne].iceTransport = V.transceivers[0].iceTransport, V.transceivers[ne].dtlsTransport = V.transceivers[0].dtlsTransport, V.transceivers[ne].rtpSender && V.transceivers[ne].rtpSender.setTransport(V.transceivers[0].dtlsTransport), V.transceivers[ne].rtpReceiver && V.transceivers[ne].rtpReceiver.setTransport(V.transceivers[0].dtlsTransport)), 'offer' !== z.type || ie ? 'answer' === z.type && !ie && (le = V.transceivers[ne], ue = le.iceGatherer, me = le.iceTransport, fe = le.dtlsTransport, ge = le.rtpReceiver, he = le.sendEncodingParameters, be = le.localCapabilities, V.transceivers[ne].recvEncodingParameters = ye, V.transceivers[ne].remoteCapabilities = ke, V.transceivers[ne].rtcpParameters = xe, (Y || Te) && we.length && me.setRemoteCandidates(we), (!K || 0 === ne) && (me.start(ue, Ce, 'controlling'), fe.start(Se)), V._transceive(le, 'sendrecv' === de || 'recvonly' === de, 'sendrecv' === de || 'sendonly' === de), ge && ('sendrecv' === de || 'sendonly' === de) ? (ve = ge.track, ce ? (!H[ce.stream] && (H[ce.stream] = new U.MediaStream), H[ce.stream].addTrack(ve), J.push([ve, ge, H[ce.stream]])) : (!H.default && (H.default = new U.MediaStream), H.default.addTrack(ve), J.push([ve, ge, H.default]))) : delete le.rtpReceiver) : (le = V.transceivers[ne] || V._createTransceiver(oe), le.mid = pe, !le.iceGatherer && (le.iceGatherer = K && 0 < ne ? V.transceivers[0].iceGatherer : V._createIceGatherer(pe, ne)), Te && (!K || 0 === ne) && le.iceTransport.setRemoteCandidates(we), be = U.RTCRtpReceiver.getCapabilities(oe), 15019 > F && (be.codecs = be.codecs.filter(function(Ee) {
								return 'rtx' !== Ee.name
							})), he = [{
								ssrc: 1001 * (2 * ne + 2)
							}], ('sendrecv' === de || 'sendonly' === de) && (ge = new U.RTCRtpReceiver(le.dtlsTransport, oe), ve = ge.track, ce ? (!H[ce.stream] && (H[ce.stream] = new U.MediaStream, Object.defineProperty(H[ce.stream], 'id', {
								get: function() {
									return ce.stream
								}
							})), Object.defineProperty(ve, 'id', {
								get: function() {
									return ce.track
								}
							}), H[ce.stream].addTrack(ve), J.push([ve, ge, H[ce.stream]])) : (!H.default && (H.default = new U.MediaStream), H.default.addTrack(ve), J.push([ve, ge, H.default]))), le.localCapabilities = be, le.remoteCapabilities = ke, le.rtpReceiver = ge, le.rtcpParameters = xe, le.sendEncodingParameters = he, le.recvEncodingParameters = ye, V._transceive(V.transceivers[ne], !1, 'sendrecv' === de || 'sendonly' === de))
						}), this.remoteDescription = {
							type: z.type,
							sdp: z.sdp
						}, z.type) {
							case 'offer':
								this._updateSignalingState('have-remote-offer');
								break;
							case 'answer':
								this._updateSignalingState('stable');
								break;
							default:
								throw new TypeError('unsupported type "' + z.type + '"');
						}
						return Object.keys(H).forEach(function(Q) {
								var ne = H[Q];
								if (ne.getTracks().length) {
									V.remoteStreams.push(ne);
									var ae = new Event('addstream');
									ae.stream = ne,
										V.dispatchEvent(ae),
										null !== V.onaddstream && U.setTimeout(function() {
											V.onaddstream(ae)
										}, 0),
										J.forEach(function(oe) {
											var ie = oe[0],
												se = oe[1];
											if (ne.id === oe[2].id) {
												var de = new Event('track');
												de.track = ie,
													de.receiver = se,
													de.streams = [ne],
													V.dispatchEvent(de),
													null !== V.ontrack && U.setTimeout(function() {
														V.ontrack(de)
													}, 0)
											}
										})
								}
							}),
							U.setTimeout(function() {
								V && V.transceivers && V.transceivers.forEach(function(Q) {
									Q.iceTransport && 'new' === Q.iceTransport.state && 0 < Q.iceTransport.getRemoteCandidates().length && (console.warn('Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification'), Q.iceTransport.addRemoteCandidate({}))
								})
							}, 4e3),
							1 < arguments.length && 'function' == typeof arguments[1] && U.setTimeout(arguments[1], 0),
							Promise.resolve()
					},
					G.prototype.close = function() {
						this.transceivers.forEach(function(z) {
								z.iceTransport && z.iceTransport.stop(),
									z.dtlsTransport && z.dtlsTransport.stop(),
									z.rtpSender && z.rtpSender.stop(),
									z.rtpReceiver && z.rtpReceiver.stop()
							}),
							this._updateSignalingState('closed')
					},
					G.prototype._updateSignalingState = function(z) {
						this.signalingState = z;
						var V = new Event('signalingstatechange');
						this.dispatchEvent(V),
							null !== this.onsignalingstatechange && this.onsignalingstatechange(V)
					},
					G.prototype._maybeFireNegotiationNeeded = function() {
						var z = this;
						'stable' !== this.signalingState || !0 === this.needNegotiation || (this.needNegotiation = !0, U.setTimeout(function() {
							if (!1 !== z.needNegotiation) {
								z.needNegotiation = !1;
								var V = new Event('negotiationneeded');
								z.dispatchEvent(V),
									null !== z.onnegotiationneeded && z.onnegotiationneeded(V)
							}
						}, 0))
					},
					G.prototype._updateConnectionState = function() {
						var z = this,
							q = {
								'new': 0,
								closed: 0,
								connecting: 0,
								checking: 0,
								connected: 0,
								completed: 0,
								disconnected: 0,
								failed: 0
							},
							V;
						if (this.transceivers.forEach(function(J) {
								q[J.iceTransport.state]++,
									q[J.dtlsTransport.state]++
							}), q.connected += q.completed, V = 'new', 0 < q.failed ? V = 'failed' : 0 < q.connecting || 0 < q.checking ? V = 'connecting' : 0 < q.disconnected ? V = 'disconnected' : 0 < q.new ? V = 'new' : (0 < q.connected || 0 < q.completed) && (V = 'connected'), V !== z.iceConnectionState) {
							z.iceConnectionState = V;
							var H = new Event('iceconnectionstatechange');
							this.dispatchEvent(H),
								null !== this.oniceconnectionstatechange && this.oniceconnectionstatechange(H)
						}
					},
					G.prototype.createOffer = function() {
						var z = this;
						if (this._pendingOffer) throw new Error('createOffer called while there is a pending offer.');
						var V;
						1 === arguments.length && 'function' != typeof arguments[0] ? V = arguments[0] : 3 === arguments.length && (V = arguments[2]);
						var q = this.transceivers.filter(function(Y) {
								return 'audio' === Y.kind
							}).length,
							H = this.transceivers.filter(function(Y) {
								return 'video' === Y.kind
							}).length;
						if (V) {
							if (V.mandatory || V.optional) throw new TypeError('Legacy mandatory/optional constraints not supported.');
							void 0 !== V.offerToReceiveAudio && (!0 === V.offerToReceiveAudio ? q = 1 : !1 === V.offerToReceiveAudio ? q = 0 : q = V.offerToReceiveAudio),
								void 0 !== V.offerToReceiveVideo && (!0 === V.offerToReceiveVideo ? H = 1 : !1 === V.offerToReceiveVideo ? H = 0 : H = V.offerToReceiveVideo)
						}
						for (this.transceivers.forEach(function(Y) {
								'audio' === Y.kind ? (q--, 0 > q && (Y.wantReceive = !1)) : 'video' === Y.kind && (H--, 0 > H && (Y.wantReceive = !1))
							}); 0 < q || 0 < H;) 0 < q && (this._createTransceiver('audio'), q--),
							0 < H && (this._createTransceiver('video'), H--);
						var J = M(this.transceivers),
							W = N.writeSessionBoilerplate();
						J.forEach(function(Y, K) {
								var Z = Y.track,
									Q = Y.kind,
									ne = N.generateIdentifier();
								Y.mid = ne,
									Y.iceGatherer || (Y.iceGatherer = z.usingBundle && 0 < K ? J[0].iceGatherer : z._createIceGatherer(ne, K));
								var ae = U.RTCRtpSender.getCapabilities(Q);
								15019 > F && (ae.codecs = ae.codecs.filter(function(ie) {
										return 'rtx' !== ie.name
									})),
									ae.codecs.forEach(function(ie) {
										'H264' === ie.name && void 0 === ie.parameters['level-asymmetry-allowed'] && (ie.parameters['level-asymmetry-allowed'] = '1')
									});
								var oe = [{
									ssrc: 1001 * (2 * K + 1)
								}];
								Z && 15019 <= F && 'video' === Q && (oe[0].rtx = {
										ssrc: 1001 * (2 * K + 1) + 1
									}),
									Y.wantReceive && (Y.rtpReceiver = new U.RTCRtpReceiver(Y.dtlsTransport, Q)),
									Y.localCapabilities = ae,
									Y.sendEncodingParameters = oe
							}), 'max-compat' !== this._config.bundlePolicy && (W += 'a=group:BUNDLE ' + J.map(function(Y) {
								return Y.mid
							}).join(' ') + '\r\n'),
							W += 'a=ice-options:trickle\r\n',
							J.forEach(function(Y) {
								W += N.writeMediaSection(Y, Y.localCapabilities, 'offer', Y.stream),
									W += 'a=rtcp-rsize\r\n'
							}),
							this._pendingOffer = J;
						var X = new U.RTCSessionDescription({
							type: 'offer',
							sdp: W
						});
						return arguments.length && 'function' == typeof arguments[0] && U.setTimeout(arguments[0], 0, X),
							Promise.resolve(X)
					},
					G.prototype.createAnswer = function() {
						var z = N.writeSessionBoilerplate();
						this.usingBundle && (z += 'a=group:BUNDLE ' + this.transceivers.map(function(q) {
								return q.mid
							}).join(' ') + '\r\n'),
							this.transceivers.forEach(function(q, H) {
								if (q.isDatachannel) return void(z += 'm=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:' + q.mid + '\r\n');
								if (q.stream) {
									var J;
									'audio' === q.kind ? J = q.stream.getAudioTracks()[0] : 'video' === q.kind && (J = q.stream.getVideoTracks()[0]),
										J && 15019 <= F && 'video' === q.kind && (q.sendEncodingParameters[0].rtx = {
											ssrc: 1001 * (2 * H + 2) + 1
										})
								}
								var W = I(q.localCapabilities, q.remoteCapabilities),
									X = W.codecs.filter(function(Y) {
										return 'rtx' === Y.name.toLowerCase()
									}).length;
								!X && q.sendEncodingParameters[0].rtx && delete q.sendEncodingParameters[0].rtx,
									z += N.writeMediaSection(q, W, 'answer', q.stream),
									q.rtcpParameters && q.rtcpParameters.reducedSize && (z += 'a=rtcp-rsize\r\n')
							});
						var V = new U.RTCSessionDescription({
							type: 'answer',
							sdp: z
						});
						return arguments.length && 'function' == typeof arguments[0] && U.setTimeout(arguments[0], 0, V),
							Promise.resolve(V)
					},
					G.prototype.addIceCandidate = function(z) {
						if (!z) {
							for (var V = 0; V < this.transceivers.length; V++)
								if (this.transceivers[V].iceTransport.addRemoteCandidate({}), this.usingBundle) return Promise.resolve();
						} else {
							var q = z.sdpMLineIndex;
							if (z.sdpMid)
								for (var H = 0; H < this.transceivers.length; H++)
									if (this.transceivers[H].mid === z.sdpMid) {
										q = H;
										break
									}
							var J = this.transceivers[q];
							if (J) {
								var W = 0 < Object.keys(z.candidate).length ? N.parseCandidate(z.candidate) : {};
								if ('tcp' === W.protocol && (0 === W.port || 9 === W.port)) return Promise.resolve();
								if (W.component && '1' !== W.component && 1 !== W.component) return Promise.resolve();
								J.iceTransport.addRemoteCandidate(W);
								var X = N.splitSections(this.remoteDescription.sdp);
								X[q + 1] += (W.type ? z.candidate.trim() : 'a=end-of-candidates') + '\r\n',
									this.remoteDescription.sdp = X.join('')
							}
						}
						return 1 < arguments.length && 'function' == typeof arguments[1] && U.setTimeout(arguments[1], 0),
							Promise.resolve()
					},
					G.prototype.getStats = function() {
						var z = [];
						this.transceivers.forEach(function(H) {
							['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport', 'dtlsTransport'].forEach(function(J) {
								H[J] && z.push(H[J].getStats())
							})
						});
						var V = 1 < arguments.length && 'function' == typeof arguments[1] && arguments[1],
							q = function(H) {
								return {
									inboundrtp: 'inbound-rtp',
									outboundrtp: 'outbound-rtp',
									candidatepair: 'candidate-pair',
									localcandidate: 'local-candidate',
									remotecandidate: 'remote-candidate'
								}[H.type] || H.type
							};
						return new Promise(function(H) {
							var J = new Map;
							Promise.all(z).then(function(W) {
								W.forEach(function(X) {
										Object.keys(X).forEach(function(Y) {
											X[Y].type = q(X[Y]),
												J.set(Y, X[Y])
										})
									}),
									V && U.setTimeout(V, 0, J),
									H(J)
							})
						})
					},
					G
			}
		}, {
			sdp: 1
		}],
		9: [function(P, R) {
			'use strict';
			var M = P('../utils'),
				A = {
					shimOnTrack: function(I) {
						'object' == typeof I && I.RTCPeerConnection && !('ontrack' in I.RTCPeerConnection.prototype) && Object.defineProperty(I.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(B) {
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)),
									this.addEventListener('track', this._ontrack = B),
									this.addEventListener('addstream', this._ontrackpoly = function(N) {
										N.stream.getTracks().forEach(function(U) {
											var F = new Event('track');
											F.track = U,
												F.receiver = {
													track: U
												},
												F.streams = [N.stream],
												this.dispatchEvent(F)
										}.bind(this))
									}.bind(this))
							}
						})
					},
					shimSourceObject: function(I) {
						'object' == typeof I && I.HTMLMediaElement && !('srcObject' in I.HTMLMediaElement.prototype) && Object.defineProperty(I.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this.mozSrcObject
							},
							set: function(B) {
								this.mozSrcObject = B
							}
						})
					},
					shimPeerConnection: function(I) {
						var B = M.detectBrowser(I);
						if ('object' == typeof I && (I.RTCPeerConnection || I.mozRTCPeerConnection)) {
							I.RTCPeerConnection || (I.RTCPeerConnection = function(z, V) {
								if (38 > B.version && z && z.iceServers) {
									for (var q = [], H = 0, J; H < z.iceServers.length; H++)
										if (J = z.iceServers[H], J.hasOwnProperty('urls'))
											for (var W = 0, X; W < J.urls.length; W++) X = {
													url: J.urls[W]
												},
												0 === J.urls[W].indexOf('turn') && (X.username = J.username, X.credential = J.credential),
												q.push(X);
										else q.push(z.iceServers[H]);
									z.iceServers = q
								}
								return new I.mozRTCPeerConnection(z, V)
							}, I.RTCPeerConnection.prototype = I.mozRTCPeerConnection.prototype, I.mozRTCPeerConnection.generateCertificate && Object.defineProperty(I.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return I.mozRTCPeerConnection.generateCertificate
								}
							}), I.RTCSessionDescription = I.mozRTCSessionDescription, I.RTCIceCandidate = I.mozRTCIceCandidate), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(z) {
								var V = I.RTCPeerConnection.prototype[z];
								I.RTCPeerConnection.prototype[z] = function() {
									return arguments[0] = new('addIceCandidate' === z ? I.RTCIceCandidate : I.RTCSessionDescription)(arguments[0]),
										V.apply(this, arguments)
								}
							});
							var N = I.RTCPeerConnection.prototype.addIceCandidate;
							I.RTCPeerConnection.prototype.addIceCandidate = function() {
								return arguments[0] ? N.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
							};
							var U = function(z) {
									var V = new Map;
									return Object.keys(z).forEach(function(q) {
											V.set(q, z[q]),
												V[q] = z[q]
										}),
										V
								},
								F = {
									inboundrtp: 'inbound-rtp',
									outboundrtp: 'outbound-rtp',
									candidatepair: 'candidate-pair',
									localcandidate: 'local-candidate',
									remotecandidate: 'remote-candidate'
								},
								G = I.RTCPeerConnection.prototype.getStats;
							I.RTCPeerConnection.prototype.getStats = function(z, V, q) {
								return G.apply(this, [z || null]).then(function(H) {
									if (48 > B.version && (H = U(H)), 53 > B.version && !V) try {
										H.forEach(function(J) {
											J.type = F[J.type] || J.type
										})
									} catch (J) {
										if ('TypeError' !== J.name) throw J;
										H.forEach(function(W, X) {
											H.set(X, Object.assign({}, W, {
												type: F[W.type] || W.type
											}))
										})
									}
									return H
								}).then(V, q)
							}
						}
					}
				};
			R.exports = {
				shimOnTrack: A.shimOnTrack,
				shimSourceObject: A.shimSourceObject,
				shimPeerConnection: A.shimPeerConnection,
				shimGetUserMedia: P('./getusermedia')
			}
		}, {
			'../utils': 12,
			'./getusermedia': 10
		}],
		10: [function(P, R) {
			'use strict';
			var M = P('../utils'),
				A = M.log;
			R.exports = function(I) {
				var B = M.detectBrowser(I),
					N = I && I.navigator,
					U = I && I.MediaStreamTrack,
					F = function(Y) {
						return {
							name: {
								InternalError: 'NotReadableError',
								NotSupportedError: 'TypeError',
								PermissionDeniedError: 'NotAllowedError',
								SecurityError: 'NotAllowedError'
							}[Y.name] || Y.name,
							message: {
								'The operation is insecure.': 'The request is not allowed by the user agent or the platform in the current context.'
							}[Y.message] || Y.message,
							constraint: Y.constraint,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					},
					G = function(Y, K, Z) {
						var Q = function(ne) {
							if ('object' != typeof ne || ne.require) return ne;
							var ae = [];
							return Object.keys(ne).forEach(function(oe) {
									if ('require' !== oe && 'advanced' !== oe && 'mediaSource' !== oe) {
										var ie = ne[oe] = 'object' == typeof ne[oe] ? ne[oe] : {
											ideal: ne[oe]
										};
										if ((void 0 !== ie.min || void 0 !== ie.max || void 0 !== ie.exact) && ae.push(oe), void 0 !== ie.exact && ('number' == typeof ie.exact ? ie.min = ie.max = ie.exact : ne[oe] = ie.exact, delete ie.exact), void 0 !== ie.ideal) {
											ne.advanced = ne.advanced || [];
											var se = {};
											se[oe] = 'number' == typeof ie.ideal ? {
													min: ie.ideal,
													max: ie.ideal
												} : ie.ideal,
												ne.advanced.push(se),
												delete ie.ideal,
												Object.keys(ie).length || delete ne[oe]
										}
									}
								}),
								ae.length && (ne.require = ae),
								ne
						};
						return Y = JSON.parse(JSON.stringify(Y)),
							38 > B.version && (A('spec: ' + JSON.stringify(Y)), Y.audio && (Y.audio = Q(Y.audio)), Y.video && (Y.video = Q(Y.video)), A('ff37: ' + JSON.stringify(Y))),
							N.mozGetUserMedia(Y, K, function(ne) {
								Z(F(ne))
							})
					};
				if (N.mediaDevices || (N.mediaDevices = {
						getUserMedia: function(Y) {
							return new Promise(function(K, Z) {
								G(Y, K, Z)
							})
						},
						addEventListener: function() {},
						removeEventListener: function() {}
					}), N.mediaDevices.enumerateDevices = N.mediaDevices.enumerateDevices || function() {
						return new Promise(function(Y) {
							Y([{
								kind: 'audioinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}, {
								kind: 'videoinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}])
						})
					}, 41 > B.version) {
					var V = N.mediaDevices.enumerateDevices.bind(N.mediaDevices);
					N.mediaDevices.enumerateDevices = function() {
						return V().then(void 0, function(Y) {
							if ('NotFoundError' === Y.name) return [];
							throw Y
						})
					}
				}
				if (49 > B.version) {
					var q = N.mediaDevices.getUserMedia.bind(N.mediaDevices);
					N.mediaDevices.getUserMedia = function(Y) {
						return q(Y).then(function(K) {
							if (Y.audio && !K.getAudioTracks().length || Y.video && !K.getVideoTracks().length) throw K.getTracks().forEach(function(Z) {
									Z.stop()
								}),
								new DOMException('The object can not be found here.', 'NotFoundError');
							return K
						}, function(K) {
							return Promise.reject(F(K))
						})
					}
				}
				if (!(55 < B.version && 'autoGainControl' in N.mediaDevices.getSupportedConstraints())) {
					var H = function(Y, K, Z) {
							K in Y && !(Z in Y) && (Y[Z] = Y[K], delete Y[K])
						},
						J = N.mediaDevices.getUserMedia.bind(N.mediaDevices);
					if (N.mediaDevices.getUserMedia = function(Y) {
							return 'object' == typeof Y && 'object' == typeof Y.audio && (Y = JSON.parse(JSON.stringify(Y)), H(Y.audio, 'autoGainControl', 'mozAutoGainControl'), H(Y.audio, 'noiseSuppression', 'mozNoiseSuppression')),
								J(Y)
						}, U && U.prototype.getSettings) {
						var W = U.prototype.getSettings;
						U.prototype.getSettings = function() {
							var Y = W.apply(this, arguments);
							return H(Y, 'mozAutoGainControl', 'autoGainControl'),
								H(Y, 'mozNoiseSuppression', 'noiseSuppression'),
								Y
						}
					}
					if (U && U.prototype.applyConstraints) {
						var X = U.prototype.applyConstraints;
						U.prototype.applyConstraints = function(Y) {
							return 'audio' === this.kind && 'object' == typeof Y && (Y = JSON.parse(JSON.stringify(Y)), H(Y, 'autoGainControl', 'mozAutoGainControl'), H(Y, 'noiseSuppression', 'mozNoiseSuppression')),
								X.apply(this, [Y])
						}
					}
				}
				N.getUserMedia = function(Y, K, Z) {
					return 44 > B.version ? G(Y, K, Z) : void(console.warn('navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia'), N.mediaDevices.getUserMedia(Y).then(K, Z))
				}
			}
		}, {
			'../utils': 12
		}],
		11: [function(P, R) {
			'use strict';
			var M = {
				shimAddStream: function(A) {
					'object' == typeof A && A.RTCPeerConnection && !('addStream' in A.RTCPeerConnection.prototype) && (A.RTCPeerConnection.prototype.addStream = function(I) {
						var B = this;
						I.getTracks().forEach(function(N) {
							B.addTrack(N, I)
						})
					})
				},
				shimOnAddStream: function(A) {
					'object' == typeof A && A.RTCPeerConnection && !('onaddstream' in A.RTCPeerConnection.prototype) && Object.defineProperty(A.RTCPeerConnection.prototype, 'onaddstream', {
						get: function() {
							return this._onaddstream
						},
						set: function(I) {
							this._onaddstream && (this.removeEventListener('addstream', this._onaddstream), this.removeEventListener('track', this._onaddstreampoly)),
								this.addEventListener('addstream', this._onaddstream = I),
								this.addEventListener('track', this._onaddstreampoly = function(B) {
									var N = B.streams[0];
									if (this._streams || (this._streams = []), !(0 <= this._streams.indexOf(N))) {
										this._streams.push(N);
										var U = new Event('addstream');
										U.stream = B.streams[0],
											this.dispatchEvent(U)
									}
								}.bind(this))
						}
					})
				},
				shimCallbacksAPI: function(A) {
					if ('object' == typeof A && A.RTCPeerConnection) {
						var I = A.RTCPeerConnection.prototype,
							B = I.createOffer,
							N = I.createAnswer,
							U = I.setLocalDescription,
							F = I.setRemoteDescription,
							G = I.addIceCandidate;
						I.createOffer = function(V, q) {
								var H = 2 <= arguments.length ? arguments[2] : arguments[0],
									J = B.apply(this, [H]);
								return q ? (J.then(V, q), Promise.resolve()) : J
							},
							I.createAnswer = function(V, q) {
								var H = 2 <= arguments.length ? arguments[2] : arguments[0],
									J = N.apply(this, [H]);
								return q ? (J.then(V, q), Promise.resolve()) : J
							};
						var z = function(V, q, H) {
							var J = U.apply(this, [V]);
							return H ? (J.then(q, H), Promise.resolve()) : J
						};
						I.setLocalDescription = z,
							z = function(V, q, H) {
								var J = F.apply(this, [V]);
								return H ? (J.then(q, H), Promise.resolve()) : J
							},
							I.setRemoteDescription = z,
							z = function(V, q, H) {
								var J = G.apply(this, [V]);
								return H ? (J.then(q, H), Promise.resolve()) : J
							},
							I.addIceCandidate = z
					}
				},
				shimGetUserMedia: function(A) {
					var I = A && A.navigator;
					I.getUserMedia || (I.webkitGetUserMedia ? I.getUserMedia = I.webkitGetUserMedia.bind(I) : I.mediaDevices && I.mediaDevices.getUserMedia && (I.getUserMedia = function(B, N, U) {
						I.mediaDevices.getUserMedia(B).then(N, U)
					}.bind(I)))
				}
			};
			R.exports = {
				shimCallbacksAPI: M.shimCallbacksAPI,
				shimAddStream: M.shimAddStream,
				shimOnAddStream: M.shimOnAddStream,
				shimGetUserMedia: M.shimGetUserMedia
			}
		}, {}],
		12: [function(P, R) {
			'use strict';
			var M = !0,
				A = {
					disableLog: function(I) {
						return 'boolean' == typeof I ? (M = I, I ? 'adapter.js logging disabled' : 'adapter.js logging enabled') : new Error('Argument type: ' + typeof I + '. Please use a boolean.')
					},
					log: function() {
						if ('object' == typeof window) {
							if (M) return;
							'undefined' != typeof console && 'function' == typeof console.log && console.log.apply(console, arguments)
						}
					},
					extractVersion: function(I, B, N) {
						var U = I.match(B);
						return U && U.length >= N && parseInt(U[N], 10)
					},
					detectBrowser: function(I) {
						var B = I && I.navigator,
							N = {};
						if (N.browser = null, N.version = null, 'undefined' == typeof I || !I.navigator) return N.browser = 'Not a browser.',
							N;
						if (B.mozGetUserMedia) N.browser = 'firefox',
							N.version = this.extractVersion(B.userAgent, /Firefox\/(\d+)\./, 1);
						else if (B.webkitGetUserMedia) {
							if (I.webkitRTCPeerConnection) N.browser = 'chrome',
								N.version = this.extractVersion(B.userAgent, /Chrom(e|ium)\/(\d+)\./, 2);
							else if (B.userAgent.match(/Version\/(\d+).(\d+)/)) N.browser = 'safari',
								N.version = this.extractVersion(B.userAgent, /AppleWebKit\/(\d+)\./, 1);
							else return N.browser = 'Unsupported webkit-based browser with GUM support but no WebRTC support.',
								N;
						} else if (B.mediaDevices && B.userAgent.match(/Edge\/(\d+).(\d+)$/)) N.browser = 'edge',
							N.version = this.extractVersion(B.userAgent, /Edge\/(\d+).(\d+)$/, 2);
						else if (B.mediaDevices && B.userAgent.match(/AppleWebKit\/(\d+)\./)) N.browser = 'safari',
							N.version = this.extractVersion(B.userAgent, /AppleWebKit\/(\d+)\./, 1);
						else return N.browser = 'Not a supported browser.',
							N;
						return N
					},
					shimCreateObjectURL: function(I) {
						var B = I && I.URL;
						if ('object' == typeof I && I.HTMLMediaElement && 'srcObject' in I.HTMLMediaElement.prototype) {
							var N = B.createObjectURL.bind(B),
								U = B.revokeObjectURL.bind(B),
								F = new Map,
								G = 0;
							B.createObjectURL = function(q) {
									if ('getTracks' in q) {
										var H = 'polyblob:' + ++G;
										return F.set(H, q),
											console.log('URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!'),
											H
									}
									return N(q)
								},
								B.revokeObjectURL = function(q) {
									U(q),
										F.delete(q)
								};
							var z = Object.getOwnPropertyDescriptor(I.HTMLMediaElement.prototype, 'src');
							Object.defineProperty(I.HTMLMediaElement.prototype, 'src', {
								get: function() {
									return z.get.apply(this)
								},
								set: function(q) {
									return this.srcObject = F.get(q) || null,
										z.set.apply(this, [q])
								}
							});
							var V = I.HTMLMediaElement.prototype.setAttribute;
							I.HTMLMediaElement.prototype.setAttribute = function() {
								return 2 === arguments.length && 'src' === ('' + arguments[0]).toLowerCase() && (this.srcObject = F.get(arguments[1]) || null),
									V.apply(this, arguments)
							}
						}
					}
				};
			R.exports = {
				log: A.log,
				disableLog: A.disableLog,
				extractVersion: A.extractVersion,
				shimCreateObjectURL: A.shimCreateObjectURL,
				detectBrowser: A.detectBrowser.bind(A)
			}
		}, {}]
	}, {}, [2])(2)
}),
function(C) {
	if ('object' == typeof exports && 'undefined' != typeof module) module.exports = C();
	else if ('function' == typeof define && define.amd) define([], C);
	else {
		var S;
		S = 'undefined' == typeof window ? 'undefined' == typeof global ? 'undefined' == typeof self ? this : self : global : window,
			S.SimpleWebRTC = C()
	}
}(function() {
	var C;
	return function P(R, D, M) {
		function A(N, U) {
			if (!D[N]) {
				if (!R[N]) {
					var F = 'function' == typeof require && require;
					if (!U && F) return F(N, !0);
					if (I) return I(N, !0);
					var G = new Error('Cannot find module \'' + N + '\'');
					throw G.code = 'MODULE_NOT_FOUND',
						G
				}
				var z = D[N] = {
					exports: {}
				};
				R[N][0].call(z.exports, function(V) {
					var q = R[N][1][V];
					return A(q ? q : V)
				}, z, z.exports, P, R, D, M)
			}
			return D[N].exports
		}
		for (var I = 'function' == typeof require && require, B = 0; B < M.length; B++) A(M[B]);
		return A
	}({
		1: [function(P, R) {
			function A() {}
			R.exports = function(I, B, N) {
				function U(G, z) {
					if (0 >= U.count) throw new Error('after called too many times');
					--U.count,
						G ? (F = !0, B(G), B = N) : 0 === U.count && !F && B(null, z)
				}
				var F = !1;
				return N = N || A,
					U.count = I,
					0 === I ? B() : U
			}
		}, {}],
		2: [function(P, R) {
			R.exports = function(M, A, I) {
				var B = M.byteLength;
				if (A = A || 0, I = I || B, M.slice) return M.slice(A, I);
				if (0 > A && (A += B), 0 > I && (I += B), I > B && (I = B), A >= B || A >= I || 0 === B) return new ArrayBuffer(0);
				for (var N = new Uint8Array(M), U = new Uint8Array(I - A), F = A, G = 0; F < I; F++, G++) U[G] = N[F];
				return U.buffer
			}
		}, {}],
		3: [function(P, R) {
			P('webrtc-adapter');
			R.exports = function(A, I, B) {
				var U = window.URL,
					F = I,
					G = {
						autoplay: !0,
						mirror: !1,
						muted: !1,
						audio: !1,
						disableContextMenu: !1
					},
					N;
				if (B)
					for (N in B) G[N] = B[N];
				return F ? 'audio' === F.tagName.toLowerCase() && (G.audio = !0) : F = document.createElement(G.audio ? 'audio' : 'video'),
					G.disableContextMenu && (F.oncontextmenu = function(z) {
						z.preventDefault()
					}),
					G.autoplay && (F.autoplay = 'autoplay'),
					G.muted && (F.muted = !0), !G.audio && G.mirror && ['', 'moz', 'webkit', 'o', 'ms'].forEach(function(z) {
						var V = z ? z + 'Transform' : 'transform';
						F.style[V] = 'scaleX(-1)'
					}),
					F.srcObject = A,
					F
			}
		}, {
			'webrtc-adapter': 4
		}],
		4: [function(P, R) {
			'use strict';
			(function() {
				var M = P('./utils').log,
					A = P('./utils').browserDetails;
				R.exports.browserDetails = A,
					R.exports.extractVersion = P('./utils').extractVersion,
					R.exports.disableLog = P('./utils').disableLog;
				var I = P('./chrome/chrome_shim') || null,
					B = P('./edge/edge_shim') || null,
					N = P('./firefox/firefox_shim') || null,
					U = P('./safari/safari_shim') || null;
				switch (A.browser) {
					case 'opera':
					case 'chrome':
						if (!I || !I.shimPeerConnection) return void M('Chrome shim is not included in this adapter release.');
						M('adapter.js shimming chrome.'),
							R.exports.browserShim = I,
							I.shimGetUserMedia(),
							I.shimMediaStream(),
							I.shimSourceObject(),
							I.shimPeerConnection(),
							I.shimOnTrack();
						break;
					case 'firefox':
						if (!N || !N.shimPeerConnection) return void M('Firefox shim is not included in this adapter release.');
						M('adapter.js shimming firefox.'),
							R.exports.browserShim = N,
							N.shimGetUserMedia(),
							N.shimSourceObject(),
							N.shimPeerConnection(),
							N.shimOnTrack();
						break;
					case 'edge':
						if (!B || !B.shimPeerConnection) return void M('MS edge shim is not included in this adapter release.');
						M('adapter.js shimming edge.'),
							R.exports.browserShim = B,
							B.shimGetUserMedia(),
							B.shimPeerConnection();
						break;
					case 'safari':
						if (!U) return void M('Safari shim is not included in this adapter release.');
						M('adapter.js shimming safari.'),
							R.exports.browserShim = U,
							U.shimGetUserMedia();
						break;
					default:
						M('Unsupported browser!');
				}
			})()
		}, {
			'./chrome/chrome_shim': 5,
			'./edge/edge_shim': 7,
			'./firefox/firefox_shim': 9,
			'./safari/safari_shim': 11,
			'./utils': 12
		}],
		5: [function(P, R) {
			'use strict';
			var M = P('../utils.js').log,
				A = P('../utils.js').browserDetails,
				I = {
					shimMediaStream: function() {
						window.MediaStream = window.MediaStream || window.webkitMediaStream
					},
					shimOnTrack: function() {
						'object' == typeof window && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype) && Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(B) {
								var N = this;
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)),
									this.addEventListener('track', this._ontrack = B),
									this.addEventListener('addstream', this._ontrackpoly = function(U) {
										U.stream.addEventListener('addtrack', function(F) {
												var G = new Event('track');
												G.track = F.track,
													G.receiver = {
														track: F.track
													},
													G.streams = [U.stream],
													N.dispatchEvent(G)
											}),
											U.stream.getTracks().forEach(function(F) {
												var G = new Event('track');
												G.track = F,
													G.receiver = {
														track: F
													},
													G.streams = [U.stream],
													this.dispatchEvent(G)
											}.bind(this))
									}.bind(this))
							}
						})
					},
					shimSourceObject: function() {
						'object' == typeof window && window.HTMLMediaElement && !('srcObject' in window.HTMLMediaElement.prototype) && Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this._srcObject
							},
							set: function(B) {
								var N = this;
								return this._srcObject = B,
									this.src && URL.revokeObjectURL(this.src),
									B ? void(this.src = URL.createObjectURL(B), B.addEventListener('addtrack', function() {
										N.src && URL.revokeObjectURL(N.src),
											N.src = URL.createObjectURL(B)
									}), B.addEventListener('removetrack', function() {
										N.src && URL.revokeObjectURL(N.src),
											N.src = URL.createObjectURL(B)
									})) : void(this.src = '')
							}
						})
					},
					shimPeerConnection: function() {
						window.RTCPeerConnection = function(N, U) {
								M('PeerConnection'),
									N && N.iceTransportPolicy && (N.iceTransports = N.iceTransportPolicy);
								var F = new webkitRTCPeerConnection(N, U),
									G = F.getStats.bind(F);
								return F.getStats = function(z, V, q) {
										var H = this,
											J = arguments;
										if (0 < arguments.length && 'function' == typeof z) return G(z, V);
										var W = function(K) {
												var Z = {},
													Q = K.result();
												return Q.forEach(function(ne) {
														var ae = {
															id: ne.id,
															timestamp: ne.timestamp,
															type: ne.type
														};
														ne.names().forEach(function(oe) {
																ae[oe] = ne.stat(oe)
															}),
															Z[ae.id] = ae
													}),
													Z
											},
											X = function(K, Z) {
												var Q = new Map(Object.keys(K).map(function(ne) {
													return [ne, K[ne]]
												}));
												return Z = Z || K,
													Object.keys(Z).forEach(function(ne) {
														Q[ne] = Z[ne]
													}),
													Q
											};
										if (2 <= arguments.length) {
											var Y = function(K) {
												J[1](X(W(K)))
											};
											return G.apply(this, [Y, arguments[0]])
										}
										return new Promise(function(K, Z) {
											1 === J.length && 'object' == typeof z ? G.apply(H, [function(Q) {
												K(X(W(Q)))
											}, Z]) : G.apply(H, [function(Q) {
												K(X(W(Q), Q.result()))
											}, Z])
										}).then(V, q)
									},
									F
							},
							window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype,
							webkitRTCPeerConnection.generateCertificate && Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return webkitRTCPeerConnection.generateCertificate
								}
							}), ['createOffer', 'createAnswer'].forEach(function(N) {
								var U = webkitRTCPeerConnection.prototype[N];
								webkitRTCPeerConnection.prototype[N] = function() {
									var F = this;
									if (1 > arguments.length || 1 === arguments.length && 'object' == typeof arguments[0]) {
										var G = 1 === arguments.length ? arguments[0] : void 0;
										return new Promise(function(z, V) {
											U.apply(F, [z, V, G])
										})
									}
									return U.apply(this, arguments)
								}
							}),
							51 > A.version && ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(N) {
								var U = webkitRTCPeerConnection.prototype[N];
								webkitRTCPeerConnection.prototype[N] = function() {
									var F = arguments,
										G = this,
										z = new Promise(function(V, q) {
											U.apply(G, [F[0], V, q])
										});
									return 2 > F.length ? z : z.then(function() {
										F[1].apply(null, [])
									}, function(V) {
										3 <= F.length && F[2].apply(null, [V])
									})
								}
							}), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(N) {
								var U = webkitRTCPeerConnection.prototype[N];
								webkitRTCPeerConnection.prototype[N] = function() {
									return arguments[0] = new('addIceCandidate' === N ? RTCIceCandidate : RTCSessionDescription)(arguments[0]),
										U.apply(this, arguments)
								}
							});
						var B = RTCPeerConnection.prototype.addIceCandidate;
						RTCPeerConnection.prototype.addIceCandidate = function() {
							return arguments[0] ? B.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
						}
					}
				};
			R.exports = {
				shimMediaStream: I.shimMediaStream,
				shimOnTrack: I.shimOnTrack,
				shimSourceObject: I.shimSourceObject,
				shimPeerConnection: I.shimPeerConnection,
				shimGetUserMedia: P('./getusermedia')
			}
		}, {
			'../utils.js': 12,
			'./getusermedia': 6
		}],
		6: [function(P, R) {
			'use strict';
			var M = P('../utils.js').log;
			R.exports = function() {
				var A = function(G) {
						if ('object' != typeof G || G.mandatory || G.optional) return G;
						var z = {};
						return Object.keys(G).forEach(function(V) {
								if ('require' !== V && 'advanced' !== V && 'mediaSource' !== V) {
									var q = 'object' == typeof G[V] ? G[V] : {
										ideal: G[V]
									};
									void 0 !== q.exact && 'number' == typeof q.exact && (q.min = q.max = q.exact);
									var H = function(W, X) {
										return W ? W + X.charAt(0).toUpperCase() + X.slice(1) : 'deviceId' === X ? 'sourceId' : X
									};
									if (void 0 !== q.ideal) {
										z.optional = z.optional || [];
										var J = {};
										'number' == typeof q.ideal ? (J[H('min', V)] = q.ideal, z.optional.push(J), J = {}, J[H('max', V)] = q.ideal, z.optional.push(J)) : (J[H('', V)] = q.ideal, z.optional.push(J))
									}
									void 0 !== q.exact && 'number' != typeof q.exact ? (z.mandatory = z.mandatory || {}, z.mandatory[H('', V)] = q.exact) : ['min', 'max'].forEach(function(W) {
										void 0 !== q[W] && (z.mandatory = z.mandatory || {}, z.mandatory[H(W, V)] = q[W])
									})
								}
							}),
							G.advanced && (z.optional = (z.optional || []).concat(G.advanced)),
							z
					},
					I = function(G, z) {
						if (G = JSON.parse(JSON.stringify(G)), G && G.audio && (G.audio = A(G.audio)), G && 'object' == typeof G.video) {
							var V = G.video.facingMode;
							if (V = V && ('object' == typeof V ? V : {
									ideal: V
								}), V && ('user' === V.exact || 'environment' === V.exact || 'user' === V.ideal || 'environment' === V.ideal) && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode) && (delete G.video.facingMode, 'environment' === V.exact || 'environment' === V.ideal)) return navigator.mediaDevices.enumerateDevices().then(function(q) {
								q = q.filter(function(J) {
									return 'videoinput' === J.kind
								});
								var H = q.find(function(J) {
									return -1 !== J.label.toLowerCase().indexOf('back')
								}) || q.length && q[q.length - 1];
								return H && (G.video.deviceId = V.exact ? {
										exact: H.deviceId
									} : {
										ideal: H.deviceId
									}),
									G.video = A(G.video),
									M('chrome: ' + JSON.stringify(G)),
									z(G)
							});
							G.video = A(G.video)
						}
						return M('chrome: ' + JSON.stringify(G)),
							z(G)
					},
					B = function(G) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError',
								ConstraintNotSatisfiedError: 'OverconstrainedError'
							}[G.name] || G.name,
							message: G.message,
							constraint: G.constraintName,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					};
				navigator.getUserMedia = function(G, z, V) {
					I(G, function(q) {
						navigator.webkitGetUserMedia(q, z, function(H) {
							V(B(H))
						})
					})
				};
				var U = function(G) {
					return new Promise(function(z, V) {
						navigator.getUserMedia(G, z, V)
					})
				};
				if (navigator.mediaDevices || (navigator.mediaDevices = {
						getUserMedia: U,
						enumerateDevices: function() {
							return new Promise(function(G) {
								var z = {
									audio: 'audioinput',
									video: 'videoinput'
								};
								return MediaStreamTrack.getSources(function(V) {
									G(V.map(function(q) {
										return {
											label: q.label,
											kind: z[q.kind],
											deviceId: q.id,
											groupId: ''
										}
									}))
								})
							})
						}
					}), !navigator.mediaDevices.getUserMedia) navigator.mediaDevices.getUserMedia = function(G) {
					return U(G)
				};
				else {
					var F = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
					navigator.mediaDevices.getUserMedia = function(G) {
						return I(G, function(z) {
							return F(z).then(function(V) {
								if (z.audio && !V.getAudioTracks().length || z.video && !V.getVideoTracks().length) throw V.getTracks().forEach(function(q) {
										q.stop()
									}),
									new DOMException('', 'NotFoundError');
								return V
							}, function(V) {
								return Promise.reject(B(V))
							})
						})
					}
				}
				'undefined' == typeof navigator.mediaDevices.addEventListener && (navigator.mediaDevices.addEventListener = function() {
					M('Dummy mediaDevices.addEventListener called.')
				}), 'undefined' == typeof navigator.mediaDevices.removeEventListener && (navigator.mediaDevices.removeEventListener = function() {
					M('Dummy mediaDevices.removeEventListener called.')
				})
			}
		}, {
			'../utils.js': 12
		}],
		7: [function(P, R) {
			'use strict';
			var M = P('sdp'),
				A = P('../utils').browserDetails;
			R.exports = {
				shimPeerConnection: {
					shimPeerConnection: function() {
						if (window.RTCIceGatherer) {
							window.RTCIceCandidate || (window.RTCIceCandidate = function(N) {
									return N
								}),
								window.RTCSessionDescription || (window.RTCSessionDescription = function(N) {
									return N
								});
							var B = Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype, 'enabled');
							Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {
								set: function(N) {
									B.set.call(this, N);
									var U = new Event('enabled');
									U.enabled = N,
										this.dispatchEvent(U)
								}
							})
						}
						window.RTCPeerConnection = function(N) {
								var U = this,
									F = document.createDocumentFragment();
								if (['addEventListener', 'removeEventListener', 'dispatchEvent'].forEach(function(z) {
										U[z] = F[z].bind(F)
									}), this.onicecandidate = null, this.onaddstream = null, this.ontrack = null, this.onremovestream = null, this.onsignalingstatechange = null, this.oniceconnectionstatechange = null, this.onnegotiationneeded = null, this.ondatachannel = null, this.localStreams = [], this.remoteStreams = [], this.getLocalStreams = function() {
										return U.localStreams
									}, this.getRemoteStreams = function() {
										return U.remoteStreams
									}, this.localDescription = new RTCSessionDescription({
										type: '',
										sdp: ''
									}), this.remoteDescription = new RTCSessionDescription({
										type: '',
										sdp: ''
									}), this.signalingState = 'stable', this.iceConnectionState = 'new', this.iceGatheringState = 'new', this.iceOptions = {
										gatherPolicy: 'all',
										iceServers: []
									}, N && N.iceTransportPolicy) switch (N.iceTransportPolicy) {
									case 'all':
									case 'relay':
										this.iceOptions.gatherPolicy = N.iceTransportPolicy;
										break;
									case 'none':
										throw new TypeError('iceTransportPolicy "none" not supported');
									default:
								}
								if (this.usingBundle = N && 'max-bundle' === N.bundlePolicy, N && N.iceServers) {
									var G = JSON.parse(JSON.stringify(N.iceServers));
									this.iceOptions.iceServers = G.filter(function(z) {
										if (z && z.urls) {
											var V = z.urls;
											return 'string' == typeof V && (V = [V]),
												V = V.filter(function(q) {
													return 0 === q.indexOf('turn:') && -1 !== q.indexOf('transport=udp') && -1 === q.indexOf('turn:[') || 0 === q.indexOf('stun:') && 14393 <= A.version
												})[0], !!V
										}
										return !1
									})
								}
								this._config = N,
									this.transceivers = [],
									this._localIceCandidatesBuffer = []
							},
							window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {
								var N = this,
									U = M.splitSections(N.localDescription.sdp);
								this._localIceCandidatesBuffer.forEach(function(F) {
										var G = !F.candidate || 0 === Object.keys(F.candidate).length;
										if (G)
											for (var z = 1; z < U.length; z++) - 1 === U[z].indexOf('\r\na=end-of-candidates\r\n') && (U[z] += 'a=end-of-candidates\r\n');
										else -1 === F.candidate.candidate.indexOf('typ endOfCandidates') && (U[F.candidate.sdpMLineIndex + 1] += 'a=' + F.candidate.candidate + '\r\n');
										if (N.localDescription.sdp = U.join(''), N.dispatchEvent(F), null !== N.onicecandidate && N.onicecandidate(F), !F.candidate && 'complete' !== N.iceGatheringState) {
											var V = N.transceivers.every(function(q) {
												return q.iceGatherer && 'completed' === q.iceGatherer.state
											});
											V && (N.iceGatheringState = 'complete')
										}
									}),
									this._localIceCandidatesBuffer = []
							},
							window.RTCPeerConnection.prototype.getConfiguration = function() {
								return this._config
							},
							window.RTCPeerConnection.prototype.addStream = function(N) {
								var U = N.clone();
								N.getTracks().forEach(function(F, G) {
										var z = U.getTracks()[G];
										F.addEventListener('enabled', function(V) {
											z.enabled = V.enabled
										})
									}),
									this.localStreams.push(U),
									this._maybeFireNegotiationNeeded()
							},
							window.RTCPeerConnection.prototype.removeStream = function(N) {
								var U = this.localStreams.indexOf(N); - 1 < U && (this.localStreams.splice(U, 1), this._maybeFireNegotiationNeeded())
							},
							window.RTCPeerConnection.prototype.getSenders = function() {
								return this.transceivers.filter(function(N) {
									return !!N.rtpSender
								}).map(function(N) {
									return N.rtpSender
								})
							},
							window.RTCPeerConnection.prototype.getReceivers = function() {
								return this.transceivers.filter(function(N) {
									return !!N.rtpReceiver
								}).map(function(N) {
									return N.rtpReceiver
								})
							},
							window.RTCPeerConnection.prototype._getCommonCapabilities = function(N, U) {
								var F = {
									codecs: [],
									headerExtensions: [],
									fecMechanisms: []
								};
								return N.codecs.forEach(function(G) {
										for (var z = 0, V; z < U.codecs.length; z++)
											if (V = U.codecs[z], G.name.toLowerCase() === V.name.toLowerCase() && G.clockRate === V.clockRate) {
												V.numChannels = Math.min(G.numChannels, V.numChannels),
													F.codecs.push(V),
													V.rtcpFeedback = V.rtcpFeedback.filter(function(q) {
														for (var H = 0; H < G.rtcpFeedback.length; H++)
															if (G.rtcpFeedback[H].type === q.type && G.rtcpFeedback[H].parameter === q.parameter) return !0;
														return !1
													});
												break
											}
									}),
									N.headerExtensions.forEach(function(G) {
										for (var z = 0, V; z < U.headerExtensions.length; z++)
											if (V = U.headerExtensions[z], G.uri === V.uri) {
												F.headerExtensions.push(V);
												break
											}
									}),
									F
							},
							window.RTCPeerConnection.prototype._createIceAndDtlsTransports = function(N, U) {
								var F = this,
									G = new RTCIceGatherer(F.iceOptions),
									z = new RTCIceTransport(G);
								G.onlocalcandidate = function(q) {
										var H = new Event('icecandidate');
										H.candidate = {
											sdpMid: N,
											sdpMLineIndex: U
										};
										var J = q.candidate,
											W = !J || 0 === Object.keys(J).length;
										W ? (void 0 === G.state && (G.state = 'completed'), H.candidate.candidate = 'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates') : (J.component = 'RTCP' === z.component ? 2 : 1, H.candidate.candidate = M.writeCandidate(J));
										var X = M.splitSections(F.localDescription.sdp);
										X[H.candidate.sdpMLineIndex + 1] += -1 === H.candidate.candidate.indexOf('typ endOfCandidates') ? 'a=' + H.candidate.candidate + '\r\n' : 'a=end-of-candidates\r\n',
											F.localDescription.sdp = X.join('');
										var Y = F.transceivers.every(function(K) {
											return K.iceGatherer && 'completed' === K.iceGatherer.state
										});
										switch (F.iceGatheringState) {
											case 'new':
												F._localIceCandidatesBuffer.push(H),
													W && Y && F._localIceCandidatesBuffer.push(new Event('icecandidate'));
												break;
											case 'gathering':
												F._emitBufferedCandidates(),
													F.dispatchEvent(H),
													null !== F.onicecandidate && F.onicecandidate(H),
													Y && (F.dispatchEvent(new Event('icecandidate')), null !== F.onicecandidate && F.onicecandidate(new Event('icecandidate')), F.iceGatheringState = 'complete');
												break;
											case 'complete':
												break;
											default:
										}
									},
									z.onicestatechange = function() {
										F._updateConnectionState()
									};
								var V = new RTCDtlsTransport(z);
								return V.ondtlsstatechange = function() {
										F._updateConnectionState()
									},
									V.onerror = function() {
										V.state = 'failed',
											F._updateConnectionState()
									}, {
										iceGatherer: G,
										iceTransport: z,
										dtlsTransport: V
									}
							},
							window.RTCPeerConnection.prototype._transceive = function(N, U, F) {
								var G = this._getCommonCapabilities(N.localCapabilities, N.remoteCapabilities);
								U && N.rtpSender && (G.encodings = N.sendEncodingParameters, G.rtcp = {
										cname: M.localCName
									}, N.recvEncodingParameters.length && (G.rtcp.ssrc = N.recvEncodingParameters[0].ssrc), N.rtpSender.send(G)),
									F && N.rtpReceiver && ('video' === N.kind && N.recvEncodingParameters && N.recvEncodingParameters.forEach(function(z) {
										delete z.rtx
									}), G.encodings = N.recvEncodingParameters, G.rtcp = {
										cname: N.cname
									}, N.sendEncodingParameters.length && (G.rtcp.ssrc = N.sendEncodingParameters[0].ssrc), N.rtpReceiver.receive(G))
							},
							window.RTCPeerConnection.prototype.setLocalDescription = function(N) {
								var U = this,
									F, G;
								if ('offer' === N.type) this._pendingOffer && (F = M.splitSections(N.sdp), G = F.shift(), F.forEach(function(J, W) {
									var X = M.parseRtpParameters(J);
									U._pendingOffer[W].localCapabilities = X
								}), this.transceivers = this._pendingOffer, delete this._pendingOffer);
								else if ('answer' === N.type) {
									F = M.splitSections(U.remoteDescription.sdp),
										G = F.shift();
									var z = 0 < M.matchPrefix(G, 'a=ice-lite').length;
									F.forEach(function(J, W) {
										var X = U.transceivers[W],
											Y = X.iceGatherer,
											K = X.iceTransport,
											Z = X.dtlsTransport,
											Q = X.localCapabilities,
											ne = X.remoteCapabilities,
											ae = '0' === J.split('\n', 1)[0].split(' ', 2)[1];
										if (!ae && !X.isDatachannel) {
											var oe = M.getIceParameters(J, G);
											if (z) {
												var ie = M.matchPrefix(J, 'a=candidate:').map(function(ce) {
													return M.parseCandidate(ce)
												}).filter(function(ce) {
													return '1' === ce.component
												});
												ie.length && K.setRemoteCandidates(ie)
											}
											var se = M.getDtlsParameters(J, G);
											z && (se.role = 'server'),
												U.usingBundle && 0 !== W || (K.start(Y, oe, z ? 'controlling' : 'controlled'), Z.start(se));
											var de = U._getCommonCapabilities(Q, ne);
											U._transceive(X, 0 < de.codecs.length, !1)
										}
									})
								}
								switch (this.localDescription = {
									type: N.type,
									sdp: N.sdp
								}, N.type) {
									case 'offer':
										this._updateSignalingState('have-local-offer');
										break;
									case 'answer':
										this._updateSignalingState('stable');
										break;
									default:
										throw new TypeError('unsupported type "' + N.type + '"');
								}
								var V = 1 < arguments.length && 'function' == typeof arguments[1];
								if (V) {
									var q = arguments[1];
									window.setTimeout(function() {
										q(), 'new' === U.iceGatheringState && (U.iceGatheringState = 'gathering'),
											U._emitBufferedCandidates()
									}, 0)
								}
								var H = Promise.resolve();
								return H.then(function() {
										V || ('new' === U.iceGatheringState && (U.iceGatheringState = 'gathering'), window.setTimeout(U._emitBufferedCandidates.bind(U), 500))
									}),
									H
							},
							window.RTCPeerConnection.prototype.setRemoteDescription = function(N) {
								var U = this,
									F = new MediaStream,
									G = [],
									z = M.splitSections(N.sdp),
									V = z.shift(),
									q = 0 < M.matchPrefix(V, 'a=ice-lite').length;
								switch (this.usingBundle = 0 < M.matchPrefix(V, 'a=group:BUNDLE ').length, z.forEach(function(H, J) {
									var W = M.splitLines(H),
										X = W[0].substr(2).split(' '),
										Y = X[0],
										K = '0' === X[1],
										Z = M.getDirection(H, V),
										Q = M.matchPrefix(H, 'a=mid:');
									if (Q = Q.length ? Q[0].substr(6) : M.generateIdentifier(), 'application' === Y && 'DTLS/SCTP' === X[2]) return void(U.transceivers[J] = {
										mid: Q,
										isDatachannel: !0
									});
									var me = M.parseRtpParameters(H),
										ne, ae, oe, ie, se, de, ce, pe, le, ue, fe, ge;
									K || (fe = M.getIceParameters(H, V), ge = M.getDtlsParameters(H, V), ge.role = 'client'),
										pe = M.parseRtpEncodingParameters(H);
									var ye = M.matchPrefix(H, 'a=ssrc:').map(function(Se) {
											return M.parseSsrcMedia(Se)
										}).filter(function(Se) {
											return 'cname' === Se.attribute
										})[0],
										he;
									ye && (he = ye.value);
									var be = 0 < M.matchPrefix(H, 'a=end-of-candidates', V).length,
										ve = M.matchPrefix(H, 'a=candidate:').map(function(Se) {
											return M.parseCandidate(Se)
										}).filter(function(Se) {
											return '1' === Se.component
										});
									if ('offer' === N.type && !K) {
										var ke = U.usingBundle && 0 < J ? {
											iceGatherer: U.transceivers[0].iceGatherer,
											iceTransport: U.transceivers[0].iceTransport,
											dtlsTransport: U.transceivers[0].dtlsTransport
										} : U._createIceAndDtlsTransports(Q, J);
										if (be && ke.iceTransport.setRemoteCandidates(ve), le = RTCRtpReceiver.getCapabilities(Y), le.codecs = le.codecs.filter(function(Se) {
												return 'rtx' !== Se.name
											}), ce = [{
												ssrc: 1001 * (2 * J + 2)
											}], de = new RTCRtpReceiver(ke.dtlsTransport, Y), ue = de.track, G.push([ue, de]), F.addTrack(ue), 0 < U.localStreams.length && U.localStreams[0].getTracks().length >= J) {
											var Ce;
											'audio' === Y ? Ce = U.localStreams[0].getAudioTracks()[0] : 'video' === Y && (Ce = U.localStreams[0].getVideoTracks()[0]),
												Ce && (se = new RTCRtpSender(Ce, ke.dtlsTransport))
										}
										U.transceivers[J] = {
												iceGatherer: ke.iceGatherer,
												iceTransport: ke.iceTransport,
												dtlsTransport: ke.dtlsTransport,
												localCapabilities: le,
												remoteCapabilities: me,
												rtpSender: se,
												rtpReceiver: de,
												kind: Y,
												mid: Q,
												cname: he,
												sendEncodingParameters: ce,
												recvEncodingParameters: pe
											},
											U._transceive(U.transceivers[J], !1, 'sendrecv' === Z || 'sendonly' === Z)
									} else 'answer' !== N.type || K || (ne = U.transceivers[J], ae = ne.iceGatherer, oe = ne.iceTransport, ie = ne.dtlsTransport, se = ne.rtpSender, de = ne.rtpReceiver, ce = ne.sendEncodingParameters, le = ne.localCapabilities, U.transceivers[J].recvEncodingParameters = pe, U.transceivers[J].remoteCapabilities = me, U.transceivers[J].cname = he, (q || be) && ve.length && oe.setRemoteCandidates(ve), U.usingBundle && 0 !== J || (oe.start(ae, fe, 'controlling'), ie.start(ge)), U._transceive(ne, 'sendrecv' === Z || 'recvonly' === Z, 'sendrecv' === Z || 'sendonly' === Z), de && ('sendrecv' === Z || 'sendonly' === Z) ? (ue = de.track, G.push([ue, de]), F.addTrack(ue)) : delete ne.rtpReceiver)
								}), this.remoteDescription = {
									type: N.type,
									sdp: N.sdp
								}, N.type) {
									case 'offer':
										this._updateSignalingState('have-remote-offer');
										break;
									case 'answer':
										this._updateSignalingState('stable');
										break;
									default:
										throw new TypeError('unsupported type "' + N.type + '"');
								}
								return F.getTracks().length && (U.remoteStreams.push(F), window.setTimeout(function() {
										var H = new Event('addstream');
										H.stream = F,
											U.dispatchEvent(H),
											null !== U.onaddstream && window.setTimeout(function() {
												U.onaddstream(H)
											}, 0),
											G.forEach(function(J) {
												var W = J[0],
													X = J[1],
													Y = new Event('track');
												Y.track = W,
													Y.receiver = X,
													Y.streams = [F],
													U.dispatchEvent(H),
													null !== U.ontrack && window.setTimeout(function() {
														U.ontrack(Y)
													}, 0)
											})
									}, 0)),
									1 < arguments.length && 'function' == typeof arguments[1] && window.setTimeout(arguments[1], 0),
									Promise.resolve()
							},
							window.RTCPeerConnection.prototype.close = function() {
								this.transceivers.forEach(function(N) {
										N.iceTransport && N.iceTransport.stop(),
											N.dtlsTransport && N.dtlsTransport.stop(),
											N.rtpSender && N.rtpSender.stop(),
											N.rtpReceiver && N.rtpReceiver.stop()
									}),
									this._updateSignalingState('closed')
							},
							window.RTCPeerConnection.prototype._updateSignalingState = function(N) {
								this.signalingState = N;
								var U = new Event('signalingstatechange');
								this.dispatchEvent(U),
									null !== this.onsignalingstatechange && this.onsignalingstatechange(U)
							},
							window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {
								var N = new Event('negotiationneeded');
								this.dispatchEvent(N),
									null !== this.onnegotiationneeded && this.onnegotiationneeded(N)
							},
							window.RTCPeerConnection.prototype._updateConnectionState = function() {
								var N = this,
									F = {
										'new': 0,
										closed: 0,
										connecting: 0,
										checking: 0,
										connected: 0,
										completed: 0,
										failed: 0
									},
									U;
								if (this.transceivers.forEach(function(z) {
										F[z.iceTransport.state]++,
											F[z.dtlsTransport.state]++
									}), F.connected += F.completed, U = 'new', 0 < F.failed ? U = 'failed' : 0 < F.connecting || 0 < F.checking ? U = 'connecting' : 0 < F.disconnected ? U = 'disconnected' : 0 < F.new ? U = 'new' : (0 < F.connected || 0 < F.completed) && (U = 'connected'), U !== N.iceConnectionState) {
									N.iceConnectionState = U;
									var G = new Event('iceconnectionstatechange');
									this.dispatchEvent(G),
										null !== this.oniceconnectionstatechange && this.oniceconnectionstatechange(G)
								}
							},
							window.RTCPeerConnection.prototype.createOffer = function() {
								var N = this;
								if (this._pendingOffer) throw new Error('createOffer called while there is a pending offer.');
								var U;
								1 === arguments.length && 'function' != typeof arguments[0] ? U = arguments[0] : 3 === arguments.length && (U = arguments[2]);
								var F = [],
									G = 0,
									z = 0;
								if (this.localStreams.length && (G = this.localStreams[0].getAudioTracks().length, z = this.localStreams[0].getVideoTracks().length), U) {
									if (U.mandatory || U.optional) throw new TypeError('Legacy mandatory/optional constraints not supported.');
									void 0 !== U.offerToReceiveAudio && (G = U.offerToReceiveAudio),
										void 0 !== U.offerToReceiveVideo && (z = U.offerToReceiveVideo)
								}
								for (this.localStreams.length && this.localStreams[0].getTracks().forEach(function(J) {
										F.push({
											kind: J.kind,
											track: J,
											wantReceive: 'audio' === J.kind ? 0 < G : 0 < z
										}), 'audio' === J.kind ? G-- : 'video' === J.kind && z--
									}); 0 < G || 0 < z;) 0 < G && (F.push({
										kind: 'audio',
										wantReceive: !0
									}), G--),
									0 < z && (F.push({
										kind: 'video',
										wantReceive: !0
									}), z--);
								var V = M.writeSessionBoilerplate(),
									q = [];
								F.forEach(function(J, W) {
										var X = J.track,
											Y = J.kind,
											K = M.generateIdentifier(),
											Z = N.usingBundle && 0 < W ? {
												iceGatherer: q[0].iceGatherer,
												iceTransport: q[0].iceTransport,
												dtlsTransport: q[0].dtlsTransport
											} : N._createIceAndDtlsTransports(K, W),
											Q = RTCRtpSender.getCapabilities(Y);
										Q.codecs = Q.codecs.filter(function(ie) {
												return 'rtx' !== ie.name
											}),
											Q.codecs.forEach(function(ie) {
												'H264' === ie.name && void 0 === ie.parameters['level-asymmetry-allowed'] && (ie.parameters['level-asymmetry-allowed'] = '1')
											});
										var ne, ae;
										X && (ne = new RTCRtpSender(X, Z.dtlsTransport)),
											J.wantReceive && (ae = new RTCRtpReceiver(Z.dtlsTransport, Y)),
											q[W] = {
												iceGatherer: Z.iceGatherer,
												iceTransport: Z.iceTransport,
												dtlsTransport: Z.dtlsTransport,
												localCapabilities: Q,
												remoteCapabilities: null,
												rtpSender: ne,
												rtpReceiver: ae,
												kind: Y,
												mid: K,
												sendEncodingParameters: [{
													ssrc: 1001 * (2 * W + 1)
												}],
												recvEncodingParameters: null
											}
									}),
									this.usingBundle && (V += 'a=group:BUNDLE ' + q.map(function(J) {
										return J.mid
									}).join(' ') + '\r\n'),
									F.forEach(function(J, W) {
										var X = q[W];
										V += M.writeMediaSection(X, X.localCapabilities, 'offer', N.localStreams[0])
									}),
									this._pendingOffer = q;
								var H = new RTCSessionDescription({
									type: 'offer',
									sdp: V
								});
								return arguments.length && 'function' == typeof arguments[0] && window.setTimeout(arguments[0], 0, H),
									Promise.resolve(H)
							},
							window.RTCPeerConnection.prototype.createAnswer = function() {
								var N = this,
									U = M.writeSessionBoilerplate();
								this.usingBundle && (U += 'a=group:BUNDLE ' + this.transceivers.map(function(G) {
										return G.mid
									}).join(' ') + '\r\n'),
									this.transceivers.forEach(function(G) {
										if (G.isDatachannel) return void(U += 'm=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:' + G.mid + '\r\n');
										var z = N._getCommonCapabilities(G.localCapabilities, G.remoteCapabilities);
										U += M.writeMediaSection(G, z, 'answer', N.localStreams[0])
									});
								var F = new RTCSessionDescription({
									type: 'answer',
									sdp: U
								});
								return arguments.length && 'function' == typeof arguments[0] && window.setTimeout(arguments[0], 0, F),
									Promise.resolve(F)
							},
							window.RTCPeerConnection.prototype.addIceCandidate = function(N) {
								if (!N) this.transceivers.forEach(function(q) {
									q.iceTransport.addRemoteCandidate({})
								});
								else {
									var U = N.sdpMLineIndex;
									if (N.sdpMid)
										for (var F = 0; F < this.transceivers.length; F++)
											if (this.transceivers[F].mid === N.sdpMid) {
												U = F;
												break
											}
									var G = this.transceivers[U];
									if (G) {
										var z = 0 < Object.keys(N.candidate).length ? M.parseCandidate(N.candidate) : {};
										if ('tcp' === z.protocol && (0 === z.port || 9 === z.port)) return;
										if ('1' !== z.component) return;
										'endOfCandidates' === z.type && (z = {}),
											G.iceTransport.addRemoteCandidate(z);
										var V = M.splitSections(this.remoteDescription.sdp);
										V[U + 1] += (z.type ? N.candidate.trim() : 'a=end-of-candidates') + '\r\n',
											this.remoteDescription.sdp = V.join('')
									}
								}
								return 1 < arguments.length && 'function' == typeof arguments[1] && window.setTimeout(arguments[1], 0),
									Promise.resolve()
							},
							window.RTCPeerConnection.prototype.getStats = function() {
								var N = [];
								this.transceivers.forEach(function(F) {
									['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport', 'dtlsTransport'].forEach(function(G) {
										F[G] && N.push(F[G].getStats())
									})
								});
								var U = 1 < arguments.length && 'function' == typeof arguments[1] && arguments[1];
								return new Promise(function(F) {
									var G = new Map;
									Promise.all(N).then(function(z) {
										z.forEach(function(V) {
												Object.keys(V).forEach(function(q) {
													G.set(q, V[q]),
														G[q] = V[q]
												})
											}),
											U && window.setTimeout(U, 0, G),
											F(G)
									})
								})
							}
					}
				}.shimPeerConnection,
				shimGetUserMedia: P('./getusermedia')
			}
		}, {
			'../utils': 12,
			'./getusermedia': 8,
			sdp: 59
		}],
		8: [function(P, R) {
			'use strict';
			R.exports = function() {
				var M = function(I) {
						return {
							name: {
								PermissionDeniedError: 'NotAllowedError'
							}[I.name] || I.name,
							message: I.message,
							constraint: I.constraint,
							toString: function() {
								return this.name
							}
						}
					},
					A = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
				navigator.mediaDevices.getUserMedia = function(I) {
					return A(I).catch(function(B) {
						return Promise.reject(M(B))
					})
				}
			}
		}, {}],
		9: [function(P, R) {
			'use strict';
			var M = P('../utils').browserDetails,
				A = {
					shimOnTrack: function() {
						'object' == typeof window && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype) && Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
							get: function() {
								return this._ontrack
							},
							set: function(I) {
								this._ontrack && (this.removeEventListener('track', this._ontrack), this.removeEventListener('addstream', this._ontrackpoly)),
									this.addEventListener('track', this._ontrack = I),
									this.addEventListener('addstream', this._ontrackpoly = function(B) {
										B.stream.getTracks().forEach(function(N) {
											var U = new Event('track');
											U.track = N,
												U.receiver = {
													track: N
												},
												U.streams = [B.stream],
												this.dispatchEvent(U)
										}.bind(this))
									}.bind(this))
							}
						})
					},
					shimSourceObject: function() {
						'object' == typeof window && window.HTMLMediaElement && !('srcObject' in window.HTMLMediaElement.prototype) && Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {
							get: function() {
								return this.mozSrcObject
							},
							set: function(I) {
								this.mozSrcObject = I
							}
						})
					},
					shimPeerConnection: function() {
						if ('object' == typeof window && (window.RTCPeerConnection || window.mozRTCPeerConnection)) {
							window.RTCPeerConnection || (window.RTCPeerConnection = function(U, F) {
								if (38 > M.version && U && U.iceServers) {
									for (var G = [], z = 0, V; z < U.iceServers.length; z++)
										if (V = U.iceServers[z], V.hasOwnProperty('urls'))
											for (var q = 0, H; q < V.urls.length; q++) H = {
													url: V.urls[q]
												},
												0 === V.urls[q].indexOf('turn') && (H.username = V.username, H.credential = V.credential),
												G.push(H);
										else G.push(U.iceServers[z]);
									U.iceServers = G
								}
								return new mozRTCPeerConnection(U, F)
							}, window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype, mozRTCPeerConnection.generateCertificate && Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
								get: function() {
									return mozRTCPeerConnection.generateCertificate
								}
							}), window.RTCSessionDescription = mozRTCSessionDescription, window.RTCIceCandidate = mozRTCIceCandidate), ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function(U) {
								var F = RTCPeerConnection.prototype[U];
								RTCPeerConnection.prototype[U] = function() {
									return arguments[0] = new('addIceCandidate' === U ? RTCIceCandidate : RTCSessionDescription)(arguments[0]),
										F.apply(this, arguments)
								}
							});
							var I = RTCPeerConnection.prototype.addIceCandidate;
							if (RTCPeerConnection.prototype.addIceCandidate = function() {
									return arguments[0] ? I.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), Promise.resolve())
								}, 48 > M.version) {
								var B = function(U) {
										var F = new Map;
										return Object.keys(U).forEach(function(G) {
												F.set(G, U[G]),
													F[G] = U[G]
											}),
											F
									},
									N = RTCPeerConnection.prototype.getStats;
								RTCPeerConnection.prototype.getStats = function(U, F, G) {
									return N.apply(this, [U || null]).then(function(z) {
										return B(z)
									}).then(F, G)
								}
							}
						}
					}
				};
			R.exports = {
				shimOnTrack: A.shimOnTrack,
				shimSourceObject: A.shimSourceObject,
				shimPeerConnection: A.shimPeerConnection,
				shimGetUserMedia: P('./getusermedia')
			}
		}, {
			'../utils': 12,
			'./getusermedia': 10
		}],
		10: [function(P, R) {
			'use strict';
			var M = P('../utils').log,
				A = P('../utils').browserDetails;
			R.exports = function() {
				var I = function(G) {
						return {
							name: {
								SecurityError: 'NotAllowedError',
								PermissionDeniedError: 'NotAllowedError'
							}[G.name] || G.name,
							message: {
								'The operation is insecure.': 'The request is not allowed by the user agent or the platform in the current context.'
							}[G.message] || G.message,
							constraint: G.constraint,
							toString: function() {
								return this.name + (this.message && ': ') + this.message
							}
						}
					},
					B = function(G, z, V) {
						var q = function(H) {
							if ('object' != typeof H || H.require) return H;
							var J = [];
							return Object.keys(H).forEach(function(W) {
									if ('require' !== W && 'advanced' !== W && 'mediaSource' !== W) {
										var X = H[W] = 'object' == typeof H[W] ? H[W] : {
											ideal: H[W]
										};
										if ((void 0 !== X.min || void 0 !== X.max || void 0 !== X.exact) && J.push(W), void 0 !== X.exact && ('number' == typeof X.exact ? X.min = X.max = X.exact : H[W] = X.exact, delete X.exact), void 0 !== X.ideal) {
											H.advanced = H.advanced || [];
											var Y = {};
											Y[W] = 'number' == typeof X.ideal ? {
													min: X.ideal,
													max: X.ideal
												} : X.ideal,
												H.advanced.push(Y),
												delete X.ideal,
												Object.keys(X).length || delete H[W]
										}
									}
								}),
								J.length && (H.require = J),
								H
						};
						return G = JSON.parse(JSON.stringify(G)),
							38 > A.version && (M('spec: ' + JSON.stringify(G)), G.audio && (G.audio = q(G.audio)), G.video && (G.video = q(G.video)), M('ff37: ' + JSON.stringify(G))),
							navigator.mozGetUserMedia(G, z, function(H) {
								V(I(H))
							})
					};
				if (navigator.mediaDevices || (navigator.mediaDevices = {
						getUserMedia: function(G) {
							return new Promise(function(z, V) {
								B(G, z, V)
							})
						},
						addEventListener: function() {},
						removeEventListener: function() {}
					}), navigator.mediaDevices.enumerateDevices = navigator.mediaDevices.enumerateDevices || function() {
						return new Promise(function(G) {
							G([{
								kind: 'audioinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}, {
								kind: 'videoinput',
								deviceId: 'default',
								label: '',
								groupId: ''
							}])
						})
					}, 41 > A.version) {
					var U = navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);
					navigator.mediaDevices.enumerateDevices = function() {
						return U().then(void 0, function(G) {
							if ('NotFoundError' === G.name) return [];
							throw G
						})
					}
				}
				if (49 > A.version) {
					var F = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
					navigator.mediaDevices.getUserMedia = function(G) {
						return F(G).then(function(z) {
							if (G.audio && !z.getAudioTracks().length || G.video && !z.getVideoTracks().length) throw z.getTracks().forEach(function(V) {
									V.stop()
								}),
								new DOMException('The object can not be found here.', 'NotFoundError');
							return z
						}, function(z) {
							return Promise.reject(I(z))
						})
					}
				}
				navigator.getUserMedia = function(G, z, V) {
					return 44 > A.version ? B(G, z, V) : void(console.warn('navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia'), navigator.mediaDevices.getUserMedia(G).then(z, V))
				}
			}
		}, {
			'../utils': 12
		}],
		11: [function(P, R) {
			'use strict';
			R.exports = {
				shimGetUserMedia: {
					shimGetUserMedia: function() {
						navigator.getUserMedia = navigator.webkitGetUserMedia
					}
				}.shimGetUserMedia
			}
		}, {}],
		12: [function(P, R) {
			'use strict';
			var M = !0,
				A = {
					disableLog: function(I) {
						return 'boolean' == typeof I ? (M = I, I ? 'adapter.js logging disabled' : 'adapter.js logging enabled') : new Error('Argument type: ' + typeof I + '. Please use a boolean.')
					},
					log: function() {
						if ('object' == typeof window) {
							if (M) return;
							'undefined' != typeof console && 'function' == typeof console.log && console.log.apply(console, arguments)
						}
					},
					extractVersion: function(I, B, N) {
						var U = I.match(B);
						return U && U.length >= N && parseInt(U[N], 10)
					},
					detectBrowser: function() {
						var I = {
							browser: null,
							version: null
						};
						if ('undefined' == typeof window || !window.navigator) return I.browser = 'Not a browser.',
							I;
						if (navigator.mozGetUserMedia) I.browser = 'firefox',
							I.version = this.extractVersion(navigator.userAgent, /Firefox\/([0-9]+)\./, 1);
						else if (navigator.webkitGetUserMedia) {
							if (window.webkitRTCPeerConnection) I.browser = 'chrome',
								I.version = this.extractVersion(navigator.userAgent, /Chrom(e|ium)\/([0-9]+)\./, 2);
							else if (navigator.userAgent.match(/Version\/(\d+).(\d+)/)) I.browser = 'safari',
								I.version = this.extractVersion(navigator.userAgent, /AppleWebKit\/([0-9]+)\./, 1);
							else return I.browser = 'Unsupported webkit-based browser with GUM support but no WebRTC support.',
								I;
						} else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)) I.browser = 'edge',
							I.version = this.extractVersion(navigator.userAgent, /Edge\/(\d+).(\d+)$/, 2);
						else return I.browser = 'Not a supported browser.',
							I;
						return I
					}
				};
			R.exports = {
				log: A.log,
				disableLog: A.disableLog,
				browserDetails: A.detectBrowser(),
				extractVersion: A.extractVersion
			}
		}, {}],
		13: [function(P, R) {
			function M(A) {
				A = A || {},
					this.ms = A.min || 100,
					this.max = A.max || 1e4,
					this.factor = A.factor || 2,
					this.jitter = 0 < A.jitter && 1 >= A.jitter ? A.jitter : 0,
					this.attempts = 0
			}
			R.exports = M,
				M.prototype.duration = function() {
					var A = this.ms * Math.pow(this.factor, this.attempts++);
					if (this.jitter) {
						var I = Math.random(),
							B = Math.floor(I * this.jitter * A);
						A = 0 == (1 & Math.floor(10 * I)) ? A - B : A + B
					}
					return 0 | Math.min(A, this.max)
				},
				M.prototype.reset = function() {
					this.attempts = 0
				},
				M.prototype.setMin = function(A) {
					this.ms = A
				},
				M.prototype.setMax = function(A) {
					this.max = A
				},
				M.prototype.setJitter = function(A) {
					this.jitter = A
				}
		}, {}],
		14: [function(P, R, D) {
			(function(M) {
				'use strict';
				D.encode = function(A) {
						var I = new Uint8Array(A),
							N = I.length,
							U = '',
							B;
						for (B = 0; B < N; B += 3) U += M[I[B] >> 2],
							U += M[(3 & I[B]) << 4 | I[B + 1] >> 4],
							U += M[(15 & I[B + 1]) << 2 | I[B + 2] >> 6],
							U += M[63 & I[B + 2]];
						return 2 == N % 3 ? U = U.substring(0, U.length - 1) + '=' : 1 == N % 3 && (U = U.substring(0, U.length - 2) + '=='),
							U
					},
					D.decode = function(A) {
						var I = 0.75 * A.length,
							B = A.length,
							U = 0,
							N, F, G, z, V;
						'=' === A[A.length - 1] && (I--, '=' === A[A.length - 2] && I--);
						var q = new ArrayBuffer(I),
							H = new Uint8Array(q);
						for (N = 0; N < B; N += 4) F = M.indexOf(A[N]),
							G = M.indexOf(A[N + 1]),
							z = M.indexOf(A[N + 2]),
							V = M.indexOf(A[N + 3]),
							H[U++] = F << 2 | G >> 4,
							H[U++] = (15 & G) << 4 | z >> 2,
							H[U++] = (3 & z) << 6 | 63 & V;
						return q
					}
			})('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/')
		}, {}],
		15: [function(P, R) {
			(function(M) {
				function A(z) {
					for (var V = 0, q; V < z.length; V++)
						if (q = z[V], q.buffer instanceof ArrayBuffer) {
							var H = q.buffer;
							if (q.byteLength !== H.byteLength) {
								var J = new Uint8Array(q.byteLength);
								J.set(new Uint8Array(H, q.byteOffset, q.byteLength)),
									H = J.buffer
							}
							z[V] = H
						}
				}

				function I(z, V) {
					V = V || {};
					var q = new N;
					A(z);
					for (var H = 0; H < z.length; H++) q.append(z[H]);
					return V.type ? q.getBlob(V.type) : q.getBlob()
				}

				function B(z, V) {
					return A(z),
						new Blob(z, V || {})
				}
				var N = M.BlobBuilder || M.WebKitBlobBuilder || M.MSBlobBuilder || M.MozBlobBuilder,
					U = function() {
						try {
							var z = new Blob(['hi']);
							return 2 === z.size
						} catch (V) {
							return !1
						}
					}(),
					F = U && function() {
						try {
							var z = new Blob([new Uint8Array([1, 2])]);
							return 2 === z.size
						} catch (V) {
							return !1
						}
					}(),
					G = N && N.prototype.append && N.prototype.getBlob;
				R.exports = function() {
					return U ? F ? M.Blob : B : G ? I : void 0
				}()
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		16: [function(P, R) {
			var M = [].slice;
			R.exports = function(A, I) {
				if ('string' == typeof I && (I = A[I]), 'function' != typeof I) throw new Error('bind() requires a function');
				var B = M.call(arguments, 2);
				return function() {
					return I.apply(A, B.concat(M.call(arguments)))
				}
			}
		}, {}],
		17: [function(P, R) {
			function M(I) {
				if (I) return A(I)
			}

			function A(I) {
				for (var B in M.prototype) I[B] = M.prototype[B];
				return I
			}
			R.exports = M;
			M.prototype.on = M.prototype.addEventListener = function(I, B) {
					return this._callbacks = this._callbacks || {}, (this._callbacks[I] = this._callbacks[I] || []).push(B),
						this
				},
				M.prototype.once = function(I, B) {
					function N() {
						U.off(I, N),
							B.apply(this, arguments)
					}
					var U = this;
					return this._callbacks = this._callbacks || {},
						N.fn = B,
						this.on(I, N),
						this
				},
				M.prototype.off = M.prototype.removeListener = M.prototype.removeAllListeners = M.prototype.removeEventListener = function(I, B) {
					if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {},
						this;
					var N = this._callbacks[I];
					if (!N) return this;
					if (1 == arguments.length) return delete this._callbacks[I],
						this;
					for (var F = 0, U; F < N.length; F++)
						if (U = N[F], U === B || U.fn === B) {
							N.splice(F, 1);
							break
						}
					return this
				},
				M.prototype.emit = function(I) {
					this._callbacks = this._callbacks || {};
					var B = [].slice.call(arguments, 1),
						N = this._callbacks[I];
					if (N) {
						N = N.slice(0);
						for (var U = 0, F = N.length; U < F; ++U) N[U].apply(this, B)
					}
					return this
				},
				M.prototype.listeners = function(I) {
					return this._callbacks = this._callbacks || {},
						this._callbacks[I] || []
				},
				M.prototype.hasListeners = function(I) {
					return !!this.listeners(I).length
				}
		}, {}],
		18: [function(P, R) {
			R.exports = function(M, A) {
				var I = function() {};
				I.prototype = A.prototype,
					M.prototype = new I,
					M.prototype.constructor = M
			}
		}, {}],
		19: [function(P, R) {
			function M(I) {
				return M.enabled(I) ? function(B) {
					B = A(B);
					var N = new Date,
						U = N - (M[I] || N);
					M[I] = N,
						B = I + ' ' + B + ' +' + M.humanize(U),
						window.console && console.log && Function.prototype.apply.call(console.log, console, arguments)
				} : function() {}
			}

			function A(I) {
				return I instanceof Error ? I.stack || I.message : I
			}
			R.exports = M,
				M.names = [],
				M.skips = [],
				M.enable = function(I) {
					try {
						localStorage.debug = I
					} catch (F) {}
					for (var B = (I || '').split(/[\s,]+/), N = B.length, U = 0; U < N; U++) I = B[U].replace('*', '.*?'), '-' === I[0] ? M.skips.push(new RegExp('^' + I.substr(1) + '$')) : M.names.push(new RegExp('^' + I + '$'))
				},
				M.disable = function() {
					M.enable('')
				},
				M.humanize = function(I) {
					var B = 1e3,
						N = 60000,
						U = 60 * N;
					return I >= U ? (I / U).toFixed(1) + 'h' : I >= N ? (I / N).toFixed(1) + 'm' : I >= B ? (0 | I / B) + 's' : I + 'ms'
				},
				M.enabled = function(I) {
					for (var B = 0, N = M.skips.length; B < N; B++)
						if (M.skips[B].test(I)) return !1;
					for (var B = 0, N = M.names.length; B < N; B++)
						if (M.names[B].test(I)) return !0;
					return !1
				};
			try {
				window.localStorage && M.enable(localStorage.debug)
			} catch (I) {}
		}, {}],
		20: [function(P, R) {
			R.exports = P('./lib/')
		}, {
			'./lib/': 21
		}],
		21: [function(P, R) {
			R.exports = P('./socket'),
				R.exports.parser = P('engine.io-parser')
		}, {
			'./socket': 22,
			'engine.io-parser': 33
		}],
		22: [function(P, R) {
			(function(M) {
				function I(J, W) {
					if (!(this instanceof I)) return new I(J, W);
					if (W = W || {}, J && 'object' == typeof J && (W = J, J = null), J && (J = V(J), W.host = J.host, W.secure = 'https' == J.protocol || 'wss' == J.protocol, W.port = J.port, J.query && (W.query = J.query)), this.secure = null == W.secure ? M.location && 'https:' == location.protocol : W.secure, W.host) {
						var X = W.host.split(':');
						W.hostname = X.shift(),
							X.length ? W.port = X.pop() : !W.port && (W.port = this.secure ? '443' : '80')
					}
					this.agent = W.agent || !1,
						this.hostname = W.hostname || (M.location ? location.hostname : 'localhost'),
						this.port = W.port || (M.location && location.port ? location.port : this.secure ? 443 : 80),
						this.query = W.query || {}, 'string' == typeof this.query && (this.query = H.decode(this.query)),
						this.upgrade = !1 !== W.upgrade,
						this.path = (W.path || '/engine.io').replace(/\/$/, '') + '/',
						this.forceJSONP = !!W.forceJSONP,
						this.jsonp = !1 !== W.jsonp,
						this.forceBase64 = !!W.forceBase64,
						this.enablesXDR = !!W.enablesXDR,
						this.timestampParam = W.timestampParam || 't',
						this.timestampRequests = W.timestampRequests,
						this.transports = W.transports || ['polling', 'websocket'],
						this.readyState = '',
						this.writeBuffer = [],
						this.callbackBuffer = [],
						this.policyPort = W.policyPort || 843,
						this.rememberUpgrade = W.rememberUpgrade || !1,
						this.binaryType = null,
						this.onlyBinaryUpgrades = W.onlyBinaryUpgrades,
						this.pfx = W.pfx || null,
						this.key = W.key || null,
						this.passphrase = W.passphrase || null,
						this.cert = W.cert || null,
						this.ca = W.ca || null,
						this.ciphers = W.ciphers || null,
						this.rejectUnauthorized = W.rejectUnauthorized || null,
						this.open()
				}

				function B(J) {
					var W = {};
					for (var X in J) J.hasOwnProperty(X) && (W[X] = J[X]);
					return W
				}
				var N = P('./transports'),
					U = P('component-emitter'),
					F = P('debug')('engine.io-client:socket'),
					G = P('indexof'),
					z = P('engine.io-parser'),
					V = P('parseuri'),
					q = P('parsejson'),
					H = P('parseqs');
				R.exports = I,
					I.priorWebsocketSuccess = !1,
					U(I.prototype),
					I.protocol = z.protocol,
					I.Socket = I,
					I.Transport = P('./transport'),
					I.transports = P('./transports'),
					I.parser = P('engine.io-parser'),
					I.prototype.createTransport = function(J) {
						F('creating transport "%s"', J);
						var W = B(this.query);
						W.EIO = z.protocol,
							W.transport = J,
							this.id && (W.sid = this.id);
						var X = new N[J]({
							agent: this.agent,
							hostname: this.hostname,
							port: this.port,
							secure: this.secure,
							path: this.path,
							query: W,
							forceJSONP: this.forceJSONP,
							jsonp: this.jsonp,
							forceBase64: this.forceBase64,
							enablesXDR: this.enablesXDR,
							timestampRequests: this.timestampRequests,
							timestampParam: this.timestampParam,
							policyPort: this.policyPort,
							socket: this,
							pfx: this.pfx,
							key: this.key,
							passphrase: this.passphrase,
							cert: this.cert,
							ca: this.ca,
							ciphers: this.ciphers,
							rejectUnauthorized: this.rejectUnauthorized
						});
						return X
					},
					I.prototype.open = function() {
						var J;
						if (this.rememberUpgrade && I.priorWebsocketSuccess && -1 != this.transports.indexOf('websocket')) J = 'websocket';
						else {
							if (0 == this.transports.length) {
								var W = this;
								return void setTimeout(function() {
									W.emit('error', 'No transports available')
								}, 0)
							}
							J = this.transports[0]
						}
						this.readyState = 'opening';
						var J;
						try {
							J = this.createTransport(J)
						} catch (X) {
							return this.transports.shift(),
								void this.open()
						}
						J.open(),
							this.setTransport(J)
					},
					I.prototype.setTransport = function(J) {
						F('setting transport %s', J.name);
						var W = this;
						this.transport && (F('clearing existing transport %s', this.transport.name), this.transport.removeAllListeners()),
							this.transport = J,
							J.on('drain', function() {
								W.onDrain()
							}).on('packet', function(X) {
								W.onPacket(X)
							}).on('error', function(X) {
								W.onError(X)
							}).on('close', function() {
								W.onClose('transport close')
							})
					},
					I.prototype.probe = function(J) {
						function W() {
							if (ie.onlyBinaryUpgrades) {
								var se = !this.supportsBinary && ie.transport.supportsBinary;
								oe = oe || se
							}
							oe || (F('probe transport "%s" opened', J), ae.send([{
								type: 'ping',
								data: 'probe'
							}]), ae.once('packet', function(de) {
								if (!oe)
									if ('pong' == de.type && 'probe' == de.data) {
										if (F('probe transport "%s" pong', J), ie.upgrading = !0, ie.emit('upgrading', ae), !ae) return;
										I.priorWebsocketSuccess = 'websocket' == ae.name,
											F('pausing current transport "%s"', ie.transport.name),
											ie.transport.pause(function() {
												oe || 'closed' == ie.readyState || (F('changing transport and sending upgrade packet'), ne(), ie.setTransport(ae), ae.send([{
													type: 'upgrade'
												}]), ie.emit('upgrade', ae), ae = null, ie.upgrading = !1, ie.flush())
											})
									} else {
										F('probe transport "%s" failed', J);
										var ce = new Error('probe error');
										ce.transport = ae.name,
											ie.emit('upgradeError', ce)
									}
							}))
						}

						function X() {
							oe || (oe = !0, ne(), ae.close(), ae = null)
						}

						function Y(se) {
							var de = new Error('probe error: ' + se);
							de.transport = ae.name,
								X(),
								F('probe transport "%s" failed because of error: %s', J, se),
								ie.emit('upgradeError', de)
						}

						function K() {
							Y('transport closed')
						}

						function Z() {
							Y('socket closed')
						}

						function Q(se) {
							ae && se.name != ae.name && (F('"%s" works - aborting "%s"', se.name, ae.name), X())
						}

						function ne() {
							ae.removeListener('open', W),
								ae.removeListener('error', Y),
								ae.removeListener('close', K),
								ie.removeListener('close', Z),
								ie.removeListener('upgrading', Q)
						}
						F('probing transport "%s"', J);
						var ae = this.createTransport(J, {
								probe: 1
							}),
							oe = !1,
							ie = this;
						I.priorWebsocketSuccess = !1,
							ae.once('open', W),
							ae.once('error', Y),
							ae.once('close', K),
							this.once('close', Z),
							this.once('upgrading', Q),
							ae.open()
					},
					I.prototype.onOpen = function() {
						if (F('socket open'), this.readyState = 'open', I.priorWebsocketSuccess = 'websocket' == this.transport.name, this.emit('open'), this.flush(), 'open' == this.readyState && this.upgrade && this.transport.pause) {
							F('starting upgrade probes');
							for (var J = 0, W = this.upgrades.length; J < W; J++) this.probe(this.upgrades[J])
						}
					},
					I.prototype.onPacket = function(J) {
						if ('opening' == this.readyState || 'open' == this.readyState) switch (F('socket receive: type "%s", data "%s"', J.type, J.data), this.emit('packet', J), this.emit('heartbeat'), J.type) {
							case 'open':
								this.onHandshake(q(J.data));
								break;
							case 'pong':
								this.setPing();
								break;
							case 'error':
								var W = new Error('server error');
								W.code = J.data,
									this.emit('error', W);
								break;
							case 'message':
								this.emit('data', J.data),
									this.emit('message', J.data);
						}
						else F('packet received with socket readyState "%s"', this.readyState)
					},
					I.prototype.onHandshake = function(J) {
						this.emit('handshake', J),
							this.id = J.sid,
							this.transport.query.sid = J.sid,
							this.upgrades = this.filterUpgrades(J.upgrades),
							this.pingInterval = J.pingInterval,
							this.pingTimeout = J.pingTimeout,
							this.onOpen();
						'closed' == this.readyState || (this.setPing(), this.removeListener('heartbeat', this.onHeartbeat), this.on('heartbeat', this.onHeartbeat))
					},
					I.prototype.onHeartbeat = function(J) {
						clearTimeout(this.pingTimeoutTimer);
						var W = this;
						W.pingTimeoutTimer = setTimeout(function() {
							'closed' == W.readyState || W.onClose('ping timeout')
						}, J || W.pingInterval + W.pingTimeout)
					},
					I.prototype.setPing = function() {
						var J = this;
						clearTimeout(J.pingIntervalTimer),
							J.pingIntervalTimer = setTimeout(function() {
								F('writing ping packet - expecting pong within %sms', J.pingTimeout),
									J.ping(),
									J.onHeartbeat(J.pingTimeout)
							}, J.pingInterval)
					},
					I.prototype.ping = function() {
						this.sendPacket('ping')
					},
					I.prototype.onDrain = function() {
						for (var J = 0; J < this.prevBufferLen; J++) this.callbackBuffer[J] && this.callbackBuffer[J]();
						this.writeBuffer.splice(0, this.prevBufferLen),
							this.callbackBuffer.splice(0, this.prevBufferLen),
							this.prevBufferLen = 0,
							0 == this.writeBuffer.length ? this.emit('drain') : this.flush()
					},
					I.prototype.flush = function() {
						'closed' != this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (F('flushing %d packets in socket', this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit('flush'))
					},
					I.prototype.write = I.prototype.send = function(J, W) {
						return this.sendPacket('message', J, W),
							this
					},
					I.prototype.sendPacket = function(J, W, X) {
						if ('closing' != this.readyState && 'closed' != this.readyState) {
							var Y = {
								type: J,
								data: W
							};
							this.emit('packetCreate', Y),
								this.writeBuffer.push(Y),
								this.callbackBuffer.push(X),
								this.flush()
						}
					},
					I.prototype.close = function() {
						if ('opening' == this.readyState || 'open' == this.readyState) {
							function W() {
								J.onClose('forced close'),
									F('socket closing - telling transport to close'),
									J.transport.close()
							}

							function X() {
								J.removeListener('upgrade', X),
									J.removeListener('upgradeError', X),
									W()
							}

							function Y() {
								J.once('upgrade', X),
									J.once('upgradeError', X)
							}
							this.readyState = 'closing';
							var J = this;
							this.writeBuffer.length ? this.once('drain', function() {
								this.upgrading ? Y() : W()
							}) : this.upgrading ? Y() : W()
						}
						return this
					},
					I.prototype.onError = function(J) {
						F('socket error %j', J),
							I.priorWebsocketSuccess = !1,
							this.emit('error', J),
							this.onClose('transport error', J)
					},
					I.prototype.onClose = function(J, W) {
						if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {
							F('socket close with reason: "%s"', J);
							var X = this;
							clearTimeout(this.pingIntervalTimer),
								clearTimeout(this.pingTimeoutTimer),
								setTimeout(function() {
									X.writeBuffer = [],
										X.callbackBuffer = [],
										X.prevBufferLen = 0
								}, 0),
								this.transport.removeAllListeners('close'),
								this.transport.close(),
								this.transport.removeAllListeners(),
								this.readyState = 'closed',
								this.id = null,
								this.emit('close', J, W)
						}
					},
					I.prototype.filterUpgrades = function(J) {
						for (var W = [], X = 0, Y = J.length; X < Y; X++) ~G(this.transports, J[X]) && W.push(J[X]);
						return W
					}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./transport': 23,
			'./transports': 24,
			'component-emitter': 17,
			debug: 30,
			'engine.io-parser': 33,
			indexof: 41,
			parsejson: 49,
			parseqs: 50,
			parseuri: 32
		}],
		23: [function(P, R) {
			function M(B) {
				this.path = B.path,
					this.hostname = B.hostname,
					this.port = B.port,
					this.secure = B.secure,
					this.query = B.query,
					this.timestampParam = B.timestampParam,
					this.timestampRequests = B.timestampRequests,
					this.readyState = '',
					this.agent = B.agent || !1,
					this.socket = B.socket,
					this.enablesXDR = B.enablesXDR,
					this.pfx = B.pfx,
					this.key = B.key,
					this.passphrase = B.passphrase,
					this.cert = B.cert,
					this.ca = B.ca,
					this.ciphers = B.ciphers,
					this.rejectUnauthorized = B.rejectUnauthorized
			}
			var A = P('engine.io-parser'),
				I = P('component-emitter');
			R.exports = M,
				I(M.prototype),
				M.timestamps = 0,
				M.prototype.onError = function(B, N) {
					var U = new Error(B);
					return U.type = 'TransportError',
						U.description = N,
						this.emit('error', U),
						this
				},
				M.prototype.open = function() {
					return ('closed' == this.readyState || '' == this.readyState) && (this.readyState = 'opening', this.doOpen()),
						this
				},
				M.prototype.close = function() {
					return ('opening' == this.readyState || 'open' == this.readyState) && (this.doClose(), this.onClose()),
						this
				},
				M.prototype.send = function(B) {
					if ('open' == this.readyState) this.write(B);
					else throw new Error('Transport not open')
				},
				M.prototype.onOpen = function() {
					this.readyState = 'open',
						this.writable = !0,
						this.emit('open')
				},
				M.prototype.onData = function(B) {
					var N = A.decodePacket(B, this.socket.binaryType);
					this.onPacket(N)
				},
				M.prototype.onPacket = function(B) {
					this.emit('packet', B)
				},
				M.prototype.onClose = function() {
					this.readyState = 'closed',
						this.emit('close')
				}
		}, {
			'component-emitter': 17,
			'engine.io-parser': 33
		}],
		24: [function(P, R, D) {
			(function(M) {
				var I = P('xmlhttprequest'),
					B = P('./polling-xhr'),
					N = P('./polling-jsonp'),
					U = P('./websocket');
				D.polling = function(F) {
						var z = !1,
							V = !1,
							q = !1 !== F.jsonp,
							G;
						if (M.location) {
							var H = 'https:' == location.protocol,
								J = location.port;
							J || (J = H ? 443 : 80),
								z = F.hostname != location.hostname || J != F.port,
								V = F.secure != H
						}
						if (F.xdomain = z, F.xscheme = V, G = new I(F), 'open' in G && !F.forceJSONP) return new B(F);
						if (!q) throw new Error('JSONP disabled');
						return new N(F)
					},
					D.websocket = U
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./polling-jsonp': 25,
			'./polling-xhr': 26,
			'./websocket': 28,
			xmlhttprequest: 29
		}],
		25: [function(P, R) {
			(function(M) {
				function A() {}

				function I(V) {
					B.call(this, V),
						this.query = this.query || {},
						G || (!M.___eio && (M.___eio = []), G = M.___eio),
						this.index = G.length;
					var q = this;
					G.push(function(H) {
							q.onData(H)
						}),
						this.query.j = this.index,
						M.document && M.addEventListener && M.addEventListener('beforeunload', function() {
							q.script && (q.script.onerror = A)
						}, !1)
				}
				var B = P('./polling'),
					N = P('component-inherit');
				R.exports = I;
				var U = /\n/g,
					F = /\\n/g,
					G;
				N(I, B),
					I.prototype.supportsBinary = !1,
					I.prototype.doClose = function() {
						this.script && (this.script.parentNode.removeChild(this.script), this.script = null),
							this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null),
							B.prototype.doClose.call(this)
					},
					I.prototype.doPoll = function() {
						var V = this,
							q = document.createElement('script');
						this.script && (this.script.parentNode.removeChild(this.script), this.script = null),
							q.async = !0,
							q.src = this.uri(),
							q.onerror = function(W) {
								V.onError('jsonp poll error', W)
							};
						var H = document.getElementsByTagName('script')[0];
						H.parentNode.insertBefore(q, H),
							this.script = q;
						var J = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);
						J && setTimeout(function() {
							var W = document.createElement('iframe');
							document.body.appendChild(W),
								document.body.removeChild(W)
						}, 100)
					},
					I.prototype.doWrite = function(V, q) {
						function H() {
							J(),
								q()
						}

						function J() {
							if (W.iframe) try {
								W.form.removeChild(W.iframe)
							} catch (ne) {
								W.onError('jsonp polling iframe removal error', ne)
							}
							try {
								var Q = '<iframe src="javascript:0" name="' + W.iframeId + '">';
								Z = document.createElement(Q)
							} catch (ne) {
								Z = document.createElement('iframe'),
									Z.name = W.iframeId,
									Z.src = 'javascript:0'
							}
							Z.id = W.iframeId,
								W.form.appendChild(Z),
								W.iframe = Z
						}
						var W = this;
						if (!this.form) {
							var X = document.createElement('form'),
								Y = document.createElement('textarea'),
								K = this.iframeId = 'eio_iframe_' + this.index,
								Z;
							X.className = 'socketio',
								X.style.position = 'absolute',
								X.style.top = '-1000px',
								X.style.left = '-1000px',
								X.target = K,
								X.method = 'POST',
								X.setAttribute('accept-charset', 'utf-8'),
								Y.name = 'd',
								X.appendChild(Y),
								document.body.appendChild(X),
								this.form = X,
								this.area = Y
						}
						this.form.action = this.uri(),
							J(),
							V = V.replace(F, '\\\n'),
							this.area.value = V.replace(U, '\\n');
						try {
							this.form.submit()
						} catch (Q) {}
						this.iframe.attachEvent ? this.iframe.onreadystatechange = function() {
							'complete' == W.iframe.readyState && H()
						} : this.iframe.onload = H
					}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./polling': 27,
			'component-inherit': 18
		}],
		26: [function(P, R) {
			(function(M) {
				function A() {}

				function I(q) {
					if (F.call(this, q), M.location) {
						var H = 'https:' == location.protocol,
							J = location.port;
						J || (J = H ? 443 : 80),
							this.xd = q.hostname != M.location.hostname || J != q.port,
							this.xs = q.secure != H
					}
				}

				function B(q) {
					this.method = q.method || 'GET',
						this.uri = q.uri,
						this.xd = !!q.xd,
						this.xs = !!q.xs,
						this.async = !1 !== q.async,
						this.data = void 0 == q.data ? null : q.data,
						this.agent = q.agent,
						this.isBinary = q.isBinary,
						this.supportsBinary = q.supportsBinary,
						this.enablesXDR = q.enablesXDR,
						this.pfx = q.pfx,
						this.key = q.key,
						this.passphrase = q.passphrase,
						this.cert = q.cert,
						this.ca = q.ca,
						this.ciphers = q.ciphers,
						this.rejectUnauthorized = q.rejectUnauthorized,
						this.create()
				}

				function N() {
					for (var q in B.requests) B.requests.hasOwnProperty(q) && B.requests[q].abort()
				}
				var U = P('xmlhttprequest'),
					F = P('./polling'),
					G = P('component-emitter'),
					z = P('component-inherit'),
					V = P('debug')('engine.io-client:polling-xhr');
				R.exports = I,
					R.exports.Request = B,
					z(I, F),
					I.prototype.supportsBinary = !0,
					I.prototype.request = function(q) {
						return q = q || {},
							q.uri = this.uri(),
							q.xd = this.xd,
							q.xs = this.xs,
							q.agent = this.agent || !1,
							q.supportsBinary = this.supportsBinary,
							q.enablesXDR = this.enablesXDR,
							q.pfx = this.pfx,
							q.key = this.key,
							q.passphrase = this.passphrase,
							q.cert = this.cert,
							q.ca = this.ca,
							q.ciphers = this.ciphers,
							q.rejectUnauthorized = this.rejectUnauthorized,
							new B(q)
					},
					I.prototype.doWrite = function(q, H) {
						var W = this.request({
								method: 'POST',
								data: q,
								isBinary: 'string' != typeof q && q !== void 0
							}),
							X = this;
						W.on('success', H),
							W.on('error', function(Y) {
								X.onError('xhr post error', Y)
							}),
							this.sendXhr = W
					},
					I.prototype.doPoll = function() {
						V('xhr poll');
						var q = this.request(),
							H = this;
						q.on('data', function(J) {
								H.onData(J)
							}),
							q.on('error', function(J) {
								H.onError('xhr poll error', J)
							}),
							this.pollXhr = q
					},
					G(B.prototype),
					B.prototype.create = function() {
						var q = {
								agent: this.agent,
								xdomain: this.xd,
								xscheme: this.xs,
								enablesXDR: this.enablesXDR,
								pfx: this.pfx,
								key: this.key,
								passphrase: this.passphrase,
								cert: this.cert,
								ca: this.ca,
								ciphers: this.ciphers,
								rejectUnauthorized: this.rejectUnauthorized
							},
							H = this.xhr = new U(q),
							J = this;
						try {
							if (V('xhr open %s: %s', this.method, this.uri), H.open(this.method, this.uri, this.async), this.supportsBinary && (H.responseType = 'arraybuffer'), 'POST' == this.method) try {
								this.isBinary ? H.setRequestHeader('Content-type', 'application/octet-stream') : H.setRequestHeader('Content-type', 'text/plain;charset=UTF-8')
							} catch (W) {}
							'withCredentials' in H && (H.withCredentials = !0),
								this.hasXDR() ? (H.onload = function() {
									J.onLoad()
								}, H.onerror = function() {
									J.onError(H.responseText)
								}) : H.onreadystatechange = function() {
									4 != H.readyState || (200 == H.status || 1223 == H.status ? J.onLoad() : setTimeout(function() {
										J.onError(H.status)
									}, 0))
								},
								V('xhr data %s', this.data),
								H.send(this.data)
						} catch (W) {
							return void setTimeout(function() {
								J.onError(W)
							}, 0)
						}
						M.document && (this.index = B.requestsCount++, B.requests[this.index] = this)
					},
					B.prototype.onSuccess = function() {
						this.emit('success'),
							this.cleanup()
					},
					B.prototype.onData = function(q) {
						this.emit('data', q),
							this.onSuccess()
					},
					B.prototype.onError = function(q) {
						this.emit('error', q),
							this.cleanup(!0)
					},
					B.prototype.cleanup = function(q) {
						if ('undefined' != typeof this.xhr && null !== this.xhr) {
							if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = A : this.xhr.onreadystatechange = A, q) try {
								this.xhr.abort()
							} catch (H) {}
							M.document && delete B.requests[this.index],
								this.xhr = null
						}
					},
					B.prototype.onLoad = function() {
						var q;
						try {
							var H;
							try {
								H = this.xhr.getResponseHeader('Content-Type').split(';')[0]
							} catch (J) {}
							q = 'application/octet-stream' === H ? this.xhr.response : this.supportsBinary ? 'ok' : this.xhr.responseText
						} catch (J) {
							this.onError(J)
						}
						null != q && this.onData(q)
					},
					B.prototype.hasXDR = function() {
						return 'undefined' != typeof M.XDomainRequest && !this.xs && this.enablesXDR
					},
					B.prototype.abort = function() {
						this.cleanup()
					},
					M.document && (B.requestsCount = 0, B.requests = {}, M.attachEvent ? M.attachEvent('onunload', N) : M.addEventListener && M.addEventListener('beforeunload', N, !1))
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./polling': 27,
			'component-emitter': 17,
			'component-inherit': 18,
			debug: 30,
			xmlhttprequest: 29
		}],
		27: [function(P, R) {
			function M(G) {
				var z = G && G.forceBase64;
				(!F || z) && (this.supportsBinary = !1),
				A.call(this, G)
			}
			var A = P('../transport'),
				I = P('parseqs'),
				B = P('engine.io-parser'),
				N = P('component-inherit'),
				U = P('debug')('engine.io-client:polling');
			R.exports = M;
			var F = function() {
				var G = P('xmlhttprequest'),
					z = new G({
						xdomain: !1
					});
				return null != z.responseType
			}();
			N(M, A),
				M.prototype.name = 'polling',
				M.prototype.doOpen = function() {
					this.poll()
				},
				M.prototype.pause = function(G) {
					function z() {
						U('paused'),
							q.readyState = 'paused',
							G()
					}
					var q = this;
					if (this.readyState = 'pausing', this.polling || !this.writable) {
						var H = 0;
						this.polling && (U('we are currently polling - waiting to pause'), H++, this.once('pollComplete', function() {
								U('pre-pause polling complete'),
									--H || z()
							})),
							this.writable || (U('we are currently writing - waiting to pause'), H++, this.once('drain', function() {
								U('pre-pause writing complete'),
									--H || z()
							}))
					} else z()
				},
				M.prototype.poll = function() {
					U('polling'),
						this.polling = !0,
						this.doPoll(),
						this.emit('poll')
				},
				M.prototype.onData = function(G) {
					var z = this;
					U('polling got data %s', G);
					B.decodePayload(G, this.socket.binaryType, function(q) {
						return 'opening' == z.readyState && z.onOpen(), 'close' == q.type ? (z.onClose(), !1) : void z.onPacket(q)
					}), 'closed' != this.readyState && (this.polling = !1, this.emit('pollComplete'), 'open' == this.readyState ? this.poll() : U('ignoring poll - transport state "%s"', this.readyState))
				},
				M.prototype.doClose = function() {
					function G() {
						U('writing close packet'),
							z.write([{
								type: 'close'
							}])
					}
					var z = this;
					'open' == this.readyState ? (U('transport open - closing'), G()) : (U('transport not open - deferring close'), this.once('open', G))
				},
				M.prototype.write = function(G) {
					var z = this;
					this.writable = !1;
					var V = function() {
							z.writable = !0,
								z.emit('drain')
						},
						z = this;
					B.encodePayload(G, this.supportsBinary, function(q) {
						z.doWrite(q, V)
					})
				},
				M.prototype.uri = function() {
					var G = this.query || {},
						z = this.secure ? 'https' : 'http',
						V = '';
					return !1 !== this.timestampRequests && (G[this.timestampParam] = +new Date + '-' + A.timestamps++),
						this.supportsBinary || G.sid || (G.b64 = 1),
						G = I.encode(G),
						this.port && ('https' == z && 443 != this.port || 'http' == z && 80 != this.port) && (V = ':' + this.port),
						G.length && (G = '?' + G),
						z + '://' + this.hostname + V + this.path + G
				}
		}, {
			'../transport': 23,
			'component-inherit': 18,
			debug: 30,
			'engine.io-parser': 33,
			parseqs: 50,
			xmlhttprequest: 29
		}],
		28: [function(P, R) {
			function M(G) {
				var z = G && G.forceBase64;
				z && (this.supportsBinary = !1),
					A.call(this, G)
			}
			var A = P('../transport'),
				I = P('engine.io-parser'),
				B = P('parseqs'),
				N = P('component-inherit'),
				U = P('debug')('engine.io-client:websocket'),
				F = P('ws');
			R.exports = M,
				N(M, A),
				M.prototype.name = 'websocket',
				M.prototype.supportsBinary = !0,
				M.prototype.doOpen = function() {
					if (this.check()) {
						var G = this,
							z = this.uri(),
							q = {
								agent: this.agent
							},
							V;
						q.pfx = this.pfx,
							q.key = this.key,
							q.passphrase = this.passphrase,
							q.cert = this.cert,
							q.ca = this.ca,
							q.ciphers = this.ciphers,
							q.rejectUnauthorized = this.rejectUnauthorized,
							this.ws = new F(z, V, q),
							void 0 === this.ws.binaryType && (this.supportsBinary = !1),
							this.ws.binaryType = 'arraybuffer',
							this.addEventListeners()
					}
				},
				M.prototype.addEventListeners = function() {
					var G = this;
					this.ws.onopen = function() {
							G.onOpen()
						},
						this.ws.onclose = function() {
							G.onClose()
						},
						this.ws.onmessage = function(z) {
							G.onData(z.data)
						},
						this.ws.onerror = function(z) {
							G.onError('websocket error', z)
						}
				}, 'undefined' != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent) && (M.prototype.onData = function(G) {
					var z = this;
					setTimeout(function() {
						A.prototype.onData.call(z, G)
					}, 0)
				}),
				M.prototype.write = function(G) {
					var V = this;
					this.writable = !1;
					for (var q = 0, H = G.length; q < H; q++) I.encodePacket(G[q], this.supportsBinary, function(J) {
						try {
							V.ws.send(J)
						} catch (W) {
							U('websocket closed before onclose event')
						}
					});
					setTimeout(function() {
						V.writable = !0,
							V.emit('drain')
					}, 0)
				},
				M.prototype.onClose = function() {
					A.prototype.onClose.call(this)
				},
				M.prototype.doClose = function() {
					'undefined' != typeof this.ws && this.ws.close()
				},
				M.prototype.uri = function() {
					var G = this.query || {},
						z = this.secure ? 'wss' : 'ws',
						V = '';
					return this.port && ('wss' == z && 443 != this.port || 'ws' == z && 80 != this.port) && (V = ':' + this.port),
						this.timestampRequests && (G[this.timestampParam] = +new Date),
						this.supportsBinary || (G.b64 = 1),
						G = B.encode(G),
						G.length && (G = '?' + G),
						z + '://' + this.hostname + V + this.path + G
				},
				M.prototype.check = function() {
					return !!F && !('__initialize' in F && this.name === M.prototype.name)
				}
		}, {
			'../transport': 23,
			'component-inherit': 18,
			debug: 30,
			'engine.io-parser': 33,
			parseqs: 50,
			ws: 76
		}],
		29: [function(P, R) {
			var M = P('has-cors');
			R.exports = function(A) {
				var I = A.xdomain,
					B = A.xscheme,
					N = A.enablesXDR;
				try {
					if ('undefined' != typeof XMLHttpRequest && (!I || M)) return new XMLHttpRequest
				} catch (U) {}
				try {
					if ('undefined' != typeof XDomainRequest && !B && N) return new XDomainRequest
				} catch (U) {}
				if (!I) try {
					return new ActiveXObject('Microsoft.XMLHTTP')
				} catch (U) {}
			}
		}, {
			'has-cors': 40
		}],
		30: [function(P, R, D) {
			function N() {
				var U;
				try {
					U = localStorage.debug
				} catch (F) {}
				return U
			}
			D = R.exports = P('./debug'),
				D.log = function() {
					return 'object' == typeof console && 'function' == typeof console.log && Function.prototype.apply.call(console.log, console, arguments)
				},
				D.formatArgs = function() {
					var U = arguments,
						F = this.useColors;
					if (U[0] = (F ? '%c' : '') + this.namespace + (F ? ' %c' : ' ') + U[0] + (F ? '%c ' : ' ') + '+' + D.humanize(this.diff), !F) return U;
					var G = 'color: ' + this.color;
					U = [U[0], G, 'color: inherit'].concat(Array.prototype.slice.call(U, 1));
					var z = 0,
						V = 0;
					return U[0].replace(/%[a-z%]/g, function(q) {
							'%%' === q || (z++, '%c' === q && (V = z))
						}),
						U.splice(V, 0, G),
						U
				},
				D.save = function(U) {
					try {
						null == U ? localStorage.removeItem('debug') : localStorage.debug = U
					} catch (F) {}
				},
				D.load = N,
				D.useColors = function() {
					return 'WebkitAppearance' in document.documentElement.style || window.console && (console.firebug || console.exception && console.table) || navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && 31 <= parseInt(RegExp.$1, 10)
				},
				D.colors = ['lightseagreen', 'forestgreen', 'goldenrod', 'dodgerblue', 'darkorchid', 'crimson'],
				D.formatters.j = function(U) {
					return JSON.stringify(U)
				},
				D.enable(N())
		}, {
			'./debug': 31
		}],
		31: [function(P, R, D) {
			function M() {
				return D.colors[F++ % D.colors.length]
			}
			D = R.exports = function(z) {
					function V() {}

					function q() {
						var J = q,
							W = +new Date,
							X = W - (G || W);
						J.diff = X,
							J.prev = G,
							J.curr = W,
							G = W,
							null == J.useColors && (J.useColors = D.useColors()),
							null == J.color && J.useColors && (J.color = M());
						var Y = Array.prototype.slice.call(arguments);
						Y[0] = D.coerce(Y[0]), 'string' != typeof Y[0] && (Y = ['%o'].concat(Y));
						var K = 0;
						Y[0] = Y[0].replace(/%([a-z%])/g, function(Q, ne) {
							if ('%%' === Q) return Q;
							K++;
							var ae = D.formatters[ne];
							if ('function' == typeof ae) {
								var oe = Y[K];
								Q = ae.call(J, oe),
									Y.splice(K, 1),
									K--
							}
							return Q
						}), 'function' == typeof D.formatArgs && (Y = D.formatArgs.apply(J, Y));
						var Z = q.log || D.log || console.log.bind(console);
						Z.apply(J, Y)
					}
					V.enabled = !1,
						q.enabled = !0;
					var H = D.enabled(z) ? q : V;
					return H.namespace = z,
						H
				},
				D.coerce = function(z) {
					return z instanceof Error ? z.stack || z.message : z
				},
				D.disable = function() {
					D.enable('')
				},
				D.enable = function(z) {
					D.save(z);
					for (var V = (z || '').split(/[\s,]+/), q = V.length, H = 0; H < q; H++) V[H] && (z = V[H].replace(/\*/g, '.*?'), '-' === z[0] ? D.skips.push(new RegExp('^' + z.substr(1) + '$')) : D.names.push(new RegExp('^' + z + '$')))
				},
				D.enabled = function(z) {
					var V, q;
					for (V = 0, q = D.skips.length; V < q; V++)
						if (D.skips[V].test(z)) return !1;
					for (V = 0, q = D.names.length; V < q; V++)
						if (D.names[V].test(z)) return !0;
					return !1
				},
				D.humanize = P('ms'),
				D.names = [],
				D.skips = [],
				D.formatters = {};
			var F = 0,
				G
		}, {
			ms: 47
		}],
		32: [function(P, R) {
			var M = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
				A = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];
			R.exports = function(B) {
				var N = B,
					U = B.indexOf('['),
					F = B.indexOf(']'); - 1 != U && -1 != F && (B = B.substring(0, U) + B.substring(U, F).replace(/:/g, ';') + B.substring(F, B.length));
				for (var G = M.exec(B || ''), z = {}, V = 14; V--;) z[A[V]] = G[V] || '';
				return -1 != U && -1 != F && (z.source = N, z.host = z.host.substring(1, z.host.length - 1).replace(/;/g, ':'), z.authority = z.authority.replace('[', '').replace(']', '').replace(/;/g, ':'), z.ipv6uri = !0),
					z
			}
		}, {}],
		33: [function(P, R, D) {
			(function(M) {
				function A(ne, ae) {
					var oe = 'b' + D.packets[ne.type] + ne.data.data;
					return ae(oe)
				}

				function I(ne, ae, oe) {
					if (!ae) return D.encodeBase64Packet(ne, oe);
					var ie = ne.data,
						se = new Uint8Array(ie),
						de = new Uint8Array(1 + ie.byteLength);
					de[0] = Y[ne.type];
					for (var ce = 0; ce < se.length; ce++) de[ce + 1] = se[ce];
					return oe(de.buffer)
				}

				function B(ne, ae, oe) {
					if (!ae) return D.encodeBase64Packet(ne, oe);
					var ie = new FileReader;
					return ie.onload = function() {
							ne.data = ie.result,
								D.encodePacket(ne, ae, !0, oe)
						},
						ie.readAsArrayBuffer(ne.data)
				}

				function N(ne, ae, oe) {
					if (!ae) return D.encodeBase64Packet(ne, oe);
					if (X) return B(ne, ae, oe);
					var ie = new Uint8Array(1);
					ie[0] = Y[ne.type];
					var se = new Q([ie.buffer, ne.data]);
					return oe(se)
				}

				function U(ne, ae, oe) {
					for (var ie = Array(ne.length), se = q(ne.length, oe), de = function(pe, le, ue) {
							ae(le, function(me, fe) {
								ie[pe] = fe,
									ue(me, ie)
							})
						}, ce = 0; ce < ne.length; ce++) de(ce, ne[ce], se)
				}
				var F = P('./keys'),
					G = P('has-binary'),
					z = P('arraybuffer.slice'),
					V = P('base64-arraybuffer'),
					q = P('after'),
					H = P('utf8'),
					J = navigator.userAgent.match(/Android/i),
					W = /PhantomJS/i.test(navigator.userAgent),
					X = J || W;
				D.protocol = 3;
				var Y = D.packets = {
						open: 0,
						close: 1,
						ping: 2,
						pong: 3,
						message: 4,
						upgrade: 5,
						noop: 6
					},
					K = F(Y),
					Z = {
						type: 'error',
						data: 'parser error'
					},
					Q = P('blob');
				D.encodePacket = function(ne, ae, oe, ie) {
						'function' == typeof ae && (ie = ae, ae = !1), 'function' == typeof oe && (ie = oe, oe = null);
						var se = void 0 === ne.data ? void 0 : ne.data.buffer || ne.data;
						if (M.ArrayBuffer && se instanceof ArrayBuffer) return I(ne, ae, ie);
						if (Q && se instanceof M.Blob) return N(ne, ae, ie);
						if (se && se.base64) return A(ne, ie);
						var de = Y[ne.type];
						return void 0 !== ne.data && (de += oe ? H.encode(ne.data + '') : ne.data + ''),
							ie('' + de)
					},
					D.encodeBase64Packet = function(ne, ae) {
						var oe = 'b' + D.packets[ne.type];
						if (Q && ne.data instanceof Q) {
							var ie = new FileReader;
							return ie.onload = function() {
									var le = ie.result.split(',')[1];
									ae(oe + le)
								},
								ie.readAsDataURL(ne.data)
						}
						var se;
						try {
							se = String.fromCharCode.apply(null, new Uint8Array(ne.data))
						} catch (le) {
							for (var de = new Uint8Array(ne.data), ce = Array(de.length), pe = 0; pe < de.length; pe++) ce[pe] = de[pe];
							se = String.fromCharCode.apply(null, ce)
						}
						return oe += M.btoa(se),
							ae(oe)
					},
					D.decodePacket = function(ne, ae, oe) {
						if ('string' == typeof ne || void 0 === ne) {
							if ('b' == ne.charAt(0)) return D.decodeBase64Packet(ne.substr(1), ae);
							if (oe) try {
								ne = H.decode(ne)
							} catch (ce) {
								return Z
							}
							var ie = ne.charAt(0);
							return +ie == ie && K[ie] ? 1 < ne.length ? {
								type: K[ie],
								data: ne.substring(1)
							} : {
								type: K[ie]
							} : Z
						}
						var se = new Uint8Array(ne),
							ie = se[0],
							de = z(ne, 1);
						return Q && 'blob' === ae && (de = new Q([de])), {
							type: K[ie],
							data: de
						}
					},
					D.decodeBase64Packet = function(ne, ae) {
						var oe = K[ne.charAt(0)];
						if (!M.ArrayBuffer) return {
							type: oe,
							data: {
								base64: !0,
								data: ne.substr(1)
							}
						};
						var ie = V.decode(ne.substr(1));
						return 'blob' === ae && Q && (ie = new Q([ie])), {
							type: oe,
							data: ie
						}
					},
					D.encodePayload = function(ne, ae, oe) {
						function ie(ce) {
							return ce.length + ':' + ce
						}
						'function' == typeof ae && (oe = ae, ae = null);
						var de = G(ne);
						return ae && de ? Q && !X ? D.encodePayloadAsBlob(ne, oe) : D.encodePayloadAsArrayBuffer(ne, oe) : ne.length ? void U(ne, function(ce, pe) {
							D.encodePacket(ce, !!de && ae, !0, function(le) {
								pe(null, ie(le))
							})
						}, function(ce, pe) {
							return oe(pe.join(''))
						}) : oe('0:')
					},
					D.decodePayload = function(ne, ae, oe) {
						if ('string' != typeof ne) return D.decodePayloadAsBinary(ne, ae, oe);
						'function' == typeof ae && (oe = ae, ae = null);
						var ie;
						if ('' == ne) return oe(Z, 0, 1);
						for (var se = '', pe = 0, le = ne.length, de, ce, ue; pe < le; pe++)
							if (ue = ne.charAt(pe), ':' != ue) se += ue;
							else {
								if ('' == se || se != (de = +se)) return oe(Z, 0, 1);
								if (ce = ne.substr(pe + 1, de), se != ce.length) return oe(Z, 0, 1);
								if (ce.length) {
									if (ie = D.decodePacket(ce, ae, !0), Z.type == ie.type && Z.data == ie.data) return oe(Z, 0, 1);
									var me = oe(ie, pe + de, le);
									if (!1 === me) return
								}
								pe += de,
									se = ''
							}
						if ('' != se) return oe(Z, 0, 1)
					},
					D.encodePayloadAsArrayBuffer = function(ne, ae) {
						return ne.length ? void U(ne, function(ie, se) {
							D.encodePacket(ie, !0, !0, function(de) {
								return se(null, de)
							})
						}, function(ie, se) {
							var de = se.reduce(function(le, ue) {
									var me;
									return me = 'string' == typeof ue ? ue.length : ue.byteLength,
										le + me.toString().length + me + 2
								}, 0),
								ce = new Uint8Array(de),
								pe = 0;
							return se.forEach(function(le) {
									var ue = 'string' == typeof le,
										me = le;
									if (ue) {
										for (var fe = new Uint8Array(le.length), ge = 0; ge < le.length; ge++) fe[ge] = le.charCodeAt(ge);
										me = fe.buffer
									}
									ce[pe++] = ue ? 0 : 1;
									for (var he = me.byteLength.toString(), ge = 0; ge < he.length; ge++) ce[pe++] = parseInt(he[ge]);
									ce[pe++] = 255;
									for (var fe = new Uint8Array(me), ge = 0; ge < fe.length; ge++) ce[pe++] = fe[ge]
								}),
								ae(ce.buffer)
						}) : ae(new ArrayBuffer(0))
					},
					D.encodePayloadAsBlob = function(ne, ae) {
						U(ne, function(ie, se) {
							D.encodePacket(ie, !0, !0, function(de) {
								var ce = new Uint8Array(1);
								if (ce[0] = 1, 'string' == typeof de) {
									for (var pe = new Uint8Array(de.length), le = 0; le < de.length; le++) pe[le] = de.charCodeAt(le);
									de = pe.buffer,
										ce[0] = 0
								}
								for (var ue = de instanceof ArrayBuffer ? de.byteLength : de.size, me = ue.toString(), fe = new Uint8Array(me.length + 1), le = 0; le < me.length; le++) fe[le] = parseInt(me[le]);
								if (fe[me.length] = 255, Q) {
									var ge = new Q([ce.buffer, fe.buffer, de]);
									se(null, ge)
								}
							})
						}, function(ie, se) {
							return ae(new Q(se))
						})
					},
					D.decodePayloadAsBinary = function(ne, ae, oe) {
						'function' == typeof ae && (oe = ae, ae = null);
						for (var ie = ne, se = [], de = !1; 0 < ie.byteLength;) {
							for (var ce = new Uint8Array(ie), pe = 0 === ce[0], le = '', ue = 1;; ue++) {
								if (255 == ce[ue]) break;
								if (310 < le.length) {
									de = !0;
									break
								}
								le += ce[ue]
							}
							if (de) return oe(Z, 0, 1);
							ie = z(ie, 2 + le.length),
								le = parseInt(le);
							var me = z(ie, 0, le);
							if (pe) try {
								me = String.fromCharCode.apply(null, new Uint8Array(me))
							} catch (he) {
								var fe = new Uint8Array(me);
								me = '';
								for (var ue = 0; ue < fe.length; ue++) me += String.fromCharCode(fe[ue])
							}
							se.push(me),
								ie = z(ie, le)
						}
						var ge = se.length;
						se.forEach(function(he, ye) {
							oe(D.decodePacket(he, ae, !0), ye, ge)
						})
					}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./keys': 34,
			after: 1,
			'arraybuffer.slice': 2,
			'base64-arraybuffer': 14,
			blob: 15,
			'has-binary': 39,
			utf8: 70
		}],
		34: [function(P, R) {
			R.exports = Object.keys || function(A) {
				var I = [],
					B = Object.prototype.hasOwnProperty;
				for (var N in A) B.call(A, N) && I.push(N);
				return I
			}
		}, {}],
		35: [function(P, R) {
			function M(N) {
				I.call(this);
				var U = N || {};
				this.config = {
					chunksize: 16384,
					pacing: 0
				};
				for (var F in U) this.config[F] = U[F];
				this.file = null,
					this.channel = null
			}

			function A() {
				I.call(this),
					this.receiveBuffer = [],
					this.received = 0,
					this.metadata = {},
					this.channel = null
			}
			var I = P('wildemitter'),
				B = P('util');
			B.inherits(M, I),
				M.prototype.send = function(N, U) {
					var F = this;
					this.file = N,
						this.channel = U;
					var G = 'number' != typeof U.bufferedAmountLowThreshold,
						z = 0,
						V = function() {
							var q = new window.FileReader;
							q.onload = function() {
								return function(J) {
									F.channel.send(J.target.result),
										F.emit('progress', z, N.size, J.target.result),
										N.size > z + J.target.result.byteLength ? G ? window.setTimeout(V, F.config.pacing) : U.bufferedAmount <= U.bufferedAmountLowThreshold && window.setTimeout(V, 0) : (F.emit('progress', N.size, N.size, null), F.emit('sentFile')),
										z += F.config.chunksize
								}
							}(N);
							var H = N.slice(z, z + F.config.chunksize);
							q.readAsArrayBuffer(H)
						};
					G || (U.bufferedAmountLowThreshold = 8 * this.config.chunksize, U.addEventListener('bufferedamountlow', V)),
						window.setTimeout(V, 0)
				},
				B.inherits(A, I),
				A.prototype.receive = function(N, U) {
					var F = this;
					N && (this.metadata = N),
						this.channel = U,
						U.binaryType = 'arraybuffer',
						this.channel.onmessage = function(G) {
							var z = G.data.byteLength;
							F.received += z,
								F.receiveBuffer.push(G.data),
								F.emit('progress', F.received, F.metadata.size, G.data),
								F.received === F.metadata.size ? (F.emit('receivedFile', new window.Blob(F.receiveBuffer), F.metadata), F.receiveBuffer = []) : F.received > F.metadata.size && (console.error('received more than expected, discarding...'), F.receiveBuffer = [])
						}
				},
				R.exports = {},
				R.exports.support = 'undefined' != typeof window && window && window.File && window.FileReader && window.Blob,
				R.exports.Sender = M,
				R.exports.Receiver = A
		}, {
			util: 73,
			wildemitter: 75
		}],
		36: [function(P, R) {
			var M = {};
			R.exports = function(A, I) {
				var B = 2 === arguments.length,
					N = B ? I : A,
					U;
				if ('undefined' == typeof window || 'http:' === window.location.protocol) return U = new Error('NavigatorUserMediaError'),
					U.name = 'HTTPS_REQUIRED',
					N(U);
				if (window.navigator.userAgent.match('Chrome')) {
					var F = parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1], 10),
						G = 33,
						z = !window.chrome.webstore;
					if (window.navigator.userAgent.match('Linux') && (G = 35), sessionStorage.getScreenMediaJSExtensionId) chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId, {
						type: 'getScreen',
						id: 1
					}, null, function(H) {
						if (!H || '' === H.sourceId) {
							var J = new Error('NavigatorUserMediaError');
							J.name = 'NotAllowedError',
								N(J)
						} else A = B && A || {
								audio: !1,
								video: {
									mandatory: {
										chromeMediaSource: 'desktop',
										maxWidth: window.screen.width,
										maxHeight: window.screen.height,
										maxFrameRate: 3
									}
								}
							},
							A.video.mandatory.chromeMediaSourceId = H.sourceId,
							window.navigator.mediaDevices.getUserMedia(A).then(function(W) {
								N(null, W)
							}).catch(function(W) {
								N(W)
							})
					});
					else if (window.cefGetScreenMedia) window.cefGetScreenMedia(function(H) {
						if (!H) {
							var J = new Error('cefGetScreenMediaError');
							J.name = 'CEF_GETSCREENMEDIA_CANCELED',
								N(J)
						} else A = B && A || {
								audio: !1,
								video: {
									mandatory: {
										chromeMediaSource: 'desktop',
										maxWidth: window.screen.width,
										maxHeight: window.screen.height,
										maxFrameRate: 3
									},
									optional: [{
										googLeakyBucket: !0
									}, {
										googTemporalLayeredScreencast: !0
									}]
								}
							},
							A.video.mandatory.chromeMediaSourceId = H,
							window.navigator.mediaDevices.getUserMedia(A).then(function(W) {
								N(null, W)
							}).catch(function(W) {
								N(W)
							})
					});
					else if (z || 26 <= F && F <= G) A = B && A || {
							video: {
								mandatory: {
									googLeakyBucket: !0,
									maxWidth: window.screen.width,
									maxHeight: window.screen.height,
									maxFrameRate: 3,
									chromeMediaSource: 'screen'
								}
							}
						},
						window.navigator.mediaDevices.getUserMedia(A).then(function(H) {
							N(null, H)
						}).catch(function(H) {
							N(H)
						});
					else {
						var V = window.setTimeout(function() {
							return U = new Error('NavigatorUserMediaError'),
								U.name = 'EXTENSION_UNAVAILABLE',
								N(U)
						}, 1e3);
						M[V] = [N, B ? A : null],
							window.postMessage({
								type: 'getScreen',
								id: V
							}, '*')
					}
				} else if (window.navigator.userAgent.match('Firefox')) {
					var q = parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1], 10);
					33 <= q ? (A = B && A || {
						video: {
							mozMediaSource: 'window',
							mediaSource: 'window'
						}
					}, window.navigator.mediaDevices.getUserMedia(A).then(function(H) {
						N(null, H);
						var J = H.currentTime,
							W = window.setInterval(function() {
								H || window.clearInterval(W),
									H.currentTime == J && (window.clearInterval(W), H.onended && H.onended()),
									J = H.currentTime
							}, 500)
					}).catch(function(H) {
						N(H)
					})) : (U = new Error('NavigatorUserMediaError'), U.name = 'EXTENSION_UNAVAILABLE')
				}
			}, 'undefined' != typeof window && window.addEventListener('message', function(A) {
				if (A.origin == window.location.origin)
					if ('gotScreen' == A.data.type && M[A.data.id]) {
						var I = M[A.data.id],
							B = I[1],
							N = I[0];
						if (delete M[A.data.id], '' === A.data.sourceId) {
							var U = new Error('NavigatorUserMediaError');
							U.name = 'NotAllowedError',
								N(U)
						} else B = B || {
								audio: !1,
								video: {
									mandatory: {
										chromeMediaSource: 'desktop',
										maxWidth: window.screen.width,
										maxHeight: window.screen.height,
										maxFrameRate: 3
									},
									optional: [{
										googLeakyBucket: !0
									}, {
										googTemporalLayeredScreencast: !0
									}]
								}
							},
							B.video.mandatory.chromeMediaSourceId = A.data.sourceId,
							window.navigator.mediaDevices.getUserMedia(B).then(function(F) {
								N(null, F)
							}).catch(function(F) {
								N(F)
							})
					} else 'getScreenPending' == A.data.type && window.clearTimeout(A.data.id)
			})
		}, {}],
		37: [function(P, R) {
			R.exports = function() {
				return this
			}()
		}, {}],
		38: [function(P, R) {
			function M(N, U) {
				var F = -Infinity;
				N.getFloatFrequencyData(U);
				for (var G = 4, z = U.length; G < z; G++) U[G] > F && 0 > U[G] && (F = U[G]);
				return F
			}
			var A = P('wildemitter'),
				I;
			'undefined' != typeof window && (I = window.AudioContext || window.webkitAudioContext);
			var B = null;
			R.exports = function(N, U) {
				var F = new A;
				if (!I) return F;
				var U = U || {},
					G = U.smoothing || 0.1,
					z = U.interval || 50,
					V = U.threshold,
					q = U.play,
					H = U.history || 10,
					J = !0;
				B || (B = new I);
				var W, X, Y;
				Y = B.createAnalyser(),
					Y.fftSize = 512,
					Y.smoothingTimeConstant = G,
					X = new Float32Array(Y.frequencyBinCount),
					N.jquery && (N = N[0]),
					N instanceof HTMLAudioElement || N instanceof HTMLVideoElement ? (W = B.createMediaElementSource(N), 'undefined' == typeof q && (q = !0), V = V || -50) : (W = B.createMediaStreamSource(N), V = V || -50),
					W.connect(Y),
					q && Y.connect(B.destination),
					F.speaking = !1,
					F.setThreshold = function(Q) {
						V = Q
					},
					F.setInterval = function(Q) {
						z = Q
					},
					F.stop = function() {
						J = !1,
							F.emit('volume_change', -100, V),
							F.speaking && (F.speaking = !1, F.emit('stopped_speaking')),
							Y.disconnect(),
							W.disconnect()
					},
					F.speakingHistory = [];
				for (var K = 0; K < H; K++) F.speakingHistory.push(0);
				var Z = function() {
					setTimeout(function() {
						if (J) {
							var Q = M(Y, X);
							F.emit('volume_change', Q, V);
							var ne = 0;
							if (Q > V && !F.speaking) {
								for (var ae = F.speakingHistory.length - 3; ae < F.speakingHistory.length; ae++) ne += F.speakingHistory[ae];
								2 <= ne && (F.speaking = !0, F.emit('speaking'))
							} else if (Q < V && F.speaking) {
								for (var ae = 0; ae < F.speakingHistory.length; ae++) ne += F.speakingHistory[ae];
								0 == ne && (F.speaking = !1, F.emit('stopped_speaking'))
							}
							F.speakingHistory.shift(),
								F.speakingHistory.push(0 + (Q > V)),
								Z()
						}
					}, z)
				};
				return Z(),
					F
			}
		}, {
			wildemitter: 75
		}],
		39: [function(P, R) {
			(function(M) {
				var I = P('isarray');
				R.exports = function(B) {
					function N(U) {
						if (!U) return !1;
						if (M.Buffer && M.Buffer.isBuffer(U) || M.ArrayBuffer && U instanceof ArrayBuffer || M.Blob && U instanceof Blob || M.File && U instanceof File) return !0;
						if (I(U)) {
							for (var F = 0; F < U.length; F++)
								if (N(U[F])) return !0;
						} else if (U && 'object' == typeof U)
							for (var G in U.toJSON && (U = U.toJSON()),
									U)
								if (Object.prototype.hasOwnProperty.call(U, G) && N(U[G])) return !0;
						return !1
					}
					return N(B)
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			isarray: 42
		}],
		40: [function(P, R) {
			var M = P('global');
			try {
				R.exports = 'XMLHttpRequest' in M && 'withCredentials' in new M.XMLHttpRequest
			} catch (A) {
				R.exports = !1
			}
		}, {
			global: 37
		}],
		41: [function(P, R) {
			var M = [].indexOf;
			R.exports = function(A, I) {
				if (M) return A.indexOf(I);
				for (var B = 0; B < A.length; ++B)
					if (A[B] === I) return B;
				return -1
			}
		}, {}],
		42: [function(P, R) {
			R.exports = Array.isArray || function(M) {
				return '[object Array]' == Object.prototype.toString.call(M)
			}
		}, {}],
		43: [function(P, R, D) {
			(function(M) {
				function A(Ce) {
					if (A[Ce] !== U) return A[Ce];
					var Se;
					if ('bug-string-char-index' == Ce) Se = 'a' != 'a' [0];
					else if ('json' == Ce) Se = A('json-stringify') && A('json-parse');
					else {
						var Te = '{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',
							xe;
						if ('json-stringify' == Ce) {
							var we = z.stringify,
								Ee = 'function' == typeof we && V;
							if (Ee) {
								(xe = function() {
									return 1
								}).toJSON = xe;
								try {
									Ee = '0' === we(0) && '0' === we(new Number) && '""' == we(new String) && we(I) === U && we(U) === U && we() === U && '1' === we(xe) && '[1]' == we([xe]) && '[null]' == we([U]) && 'null' == we(null) && '[null,null,null]' == we([U, I, null]) && we({
										a: [xe, !0, !1, null, '\0\b\n\f\r\t']
									}) == Te && '1' === we(null, xe) && '[\n 1,\n 2\n]' == we([1, 2], null, 1) && '"-271821-04-20T00:00:00.000Z"' == we(new Date(-8.64e15)) && '"+275760-09-13T00:00:00.000Z"' == we(new Date(8.64e15)) && '"-000001-01-01T00:00:00.000Z"' == we(new Date(-621987552e5)) && '"1969-12-31T23:59:59.999Z"' == we(new Date(-1))
								} catch (_e) {
									Ee = !1
								}
							}
							Se = Ee
						}
						if ('json-parse' == Ce) {
							var Pe = z.parse;
							if ('function' == typeof Pe) try {
								if (0 === Pe('0') && !Pe(!1)) {
									xe = Pe(Te);
									var Re = 5 == xe.a.length && 1 === xe.a[0];
									if (Re) {
										try {
											Re = !Pe('"\t"')
										} catch (_e) {}
										if (Re) try {
											Re = 1 !== Pe('01')
										} catch (_e) {}
										if (Re) try {
											Re = 1 !== Pe('1.')
										} catch (_e) {}
									}
								}
							} catch (_e) {
								Re = !1
							}
							Se = Re
						}
					}
					return A[Ce] = !!Se
				}
				var I = {}.toString,
					B, N, U, F = 'function' == typeof C && C.amd,
					G = 'object' == typeof JSON && JSON,
					z = 'object' == typeof D && D && !D.nodeType && D;
				z && G ? (z.stringify = G.stringify, z.parse = G.parse) : z = M.JSON = G || {};
				var V = new Date(-3509827334573292);
				try {
					V = -109252 == V.getUTCFullYear() && 0 === V.getUTCMonth() && 1 === V.getUTCDate() && 10 == V.getUTCHours() && 37 == V.getUTCMinutes() && 6 == V.getUTCSeconds() && 708 == V.getUTCMilliseconds()
				} catch (Ce) {}
				if (!A('json')) {
					var q = '[object Function]',
						J = '[object Number]',
						W = '[object String]',
						X = '[object Array]',
						K = A('bug-string-char-index');
					if (!V) var Z = Math.floor,
						Q = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],
						ne = function(Ce, Se) {
							return Q[Se] + 365 * (Ce - 1970) + Z((Ce - 1969 + (Se = +(1 < Se))) / 4) - Z((Ce - 1901 + Se) / 100) + Z((Ce - 1601 + Se) / 400)
						};
					(B = {}.hasOwnProperty) || (B = function(Ce) {
						var Se = {},
							xe;
						return (Se.__proto__ = null, Se.__proto__ = {
								toString: 1
							}, Se).toString == I ? (xe = Se.constructor, B = function(Te) {
								var we = (this.constructor || xe).prototype;
								return Te in this && !(Te in we && this[Te] === we[Te])
							}) : B = function(Te) {
								var we = this.__proto__,
									Ee = Te in (this.__proto__ = null, this);
								return this.__proto__ = we,
									Ee
							},
							Se = null,
							B.call(this, Ce)
					});
					var ae = {
							boolean: 1,
							number: 1,
							string: 1,
							undefined: 1
						},
						oe = function(Ce, Se) {
							var xe = typeof Ce[Se];
							return 'object' == xe ? !!Ce[Se] : !ae[xe]
						};
					if (N = function(Ce, Se) {
							var xe = 0,
								Te, we, Ee;
							for (Ee in (Te = function() {
									this.valueOf = 0
								}).prototype.valueOf = 0, we = new Te, we) B.call(we, Ee) && xe++;
							return Te = we = null,
								xe ? 2 == xe ? N = function(Pe, Re) {
									var _e = {},
										De = I.call(Pe) == q,
										Me;
									for (Me in Pe) !(De && 'prototype' == Me) && !B.call(_e, Me) && (_e[Me] = 1) && B.call(Pe, Me) && Re(Me)
								} : N = function(Pe, Re) {
									var _e = I.call(Pe) == q,
										De, Me;
									for (De in Pe) _e && 'prototype' == De || !B.call(Pe, De) || (Me = 'constructor' === De) || Re(De);
									(Me || B.call(Pe, De = 'constructor')) && Re(De)
								} : (we = ['valueOf', 'toString', 'toLocaleString', 'propertyIsEnumerable', 'isPrototypeOf', 'hasOwnProperty', 'constructor'], N = function(Pe, Re) {
									var _e = I.call(Pe) == q,
										je = !_e && 'function' != typeof Pe.constructor && oe(Pe, 'hasOwnProperty') ? Pe.hasOwnProperty : B,
										De, Me;
									for (De in Pe) !(_e && 'prototype' == De) && je.call(Pe, De) && Re(De);
									for (Me = we.length; De = we[--Me]; je.call(Pe, De) && Re(De));
								}),
								N(Ce, Se)
						}, !A('json-stringify')) {
						var ie = {
								8: '\\b',
								9: '\\t',
								10: '\\n',
								12: '\\f',
								13: '\\r',
								34: '\\"',
								92: '\\\\'
							},
							de = function(Ce, Se) {
								return ('000000' + (Se || 0)).slice(-Ce)
							},
							pe = function(Ce) {
								var Se = '"',
									xe = 0,
									Te = Ce.length,
									we = 10 < Te && K,
									Ee;
								for (we && (Ee = Ce.split('')); xe < Te; xe++) {
									var Pe = Ce.charCodeAt(xe);
									switch (Pe) {
										case 8:
										case 9:
										case 10:
										case 12:
										case 13:
										case 34:
										case 92:
											Se += ie[Pe];
											break;
										default:
											if (32 > Pe) {
												Se += '\\u00' + de(2, Pe.toString(16));
												break
											}
											Se += we ? Ee[xe] : K ? Ce.charAt(xe) : Ce[xe];
									}
								}
								return Se + '"'
							},
							le = function(Ce, Se, xe, Te, we, Ee, Pe) {
								var Re, _e, De, Me, je, Oe, Le, Ae, Ie, Be, Ne, Ue, Fe, Ge, ze, Ve;
								try {
									Re = Se[Ce]
								} catch (qe) {}
								if ('object' == typeof Re && Re)
									if (_e = I.call(Re), _e != '[object Date]' || B.call(Re, 'toJSON')) 'function' == typeof Re.toJSON && (_e != J && _e != W && _e != X || B.call(Re, 'toJSON')) && (Re = Re.toJSON(Ce));
									else if (Re > -1 / 0 && Re < 1 / 0) {
									if (ne) {
										for (je = Z(Re / 864e5), De = Z(je / 365.2425) + 1970 - 1; ne(De + 1, 0) <= je; De++);
										for (Me = Z((je - ne(De, 0)) / 30.42); ne(De, Me + 1) <= je; Me++);
										je = 1 + je - ne(De, Me),
											Oe = (Re % 864e5 + 864e5) % 864e5,
											Le = Z(Oe / 36e5) % 24,
											Ae = Z(Oe / 6e4) % 60,
											Ie = Z(Oe / 1e3) % 60,
											Be = Oe % 1e3
									} else De = Re.getUTCFullYear(),
										Me = Re.getUTCMonth(),
										je = Re.getUTCDate(),
										Le = Re.getUTCHours(),
										Ae = Re.getUTCMinutes(),
										Ie = Re.getUTCSeconds(),
										Be = Re.getUTCMilliseconds();
									Re = (0 >= De || 1e4 <= De ? (0 > De ? '-' : '+') + de(6, 0 > De ? -De : De) : de(4, De)) + '-' + de(2, Me + 1) + '-' + de(2, je) + 'T' + de(2, Le) + ':' + de(2, Ae) + ':' + de(2, Ie) + '.' + de(3, Be) + 'Z'
								} else Re = null;
								if (xe && (Re = xe.call(Se, Ce, Re)), null === Re) return 'null';
								if (_e = I.call(Re), _e == '[object Boolean]') return '' + Re;
								if (_e == J) return Re > -1 / 0 && Re < 1 / 0 ? '' + Re : 'null';
								if (_e == W) return pe('' + Re);
								if ('object' == typeof Re) {
									for (Ge = Pe.length; Ge--;)
										if (Pe[Ge] === Re) throw TypeError();
									if (Pe.push(Re), Ne = [], ze = Ee, Ee += we, _e == X) {
										for (Fe = 0, Ge = Re.length; Fe < Ge; Fe++) Ue = le(Fe, Re, xe, Te, we, Ee, Pe),
											Ne.push(Ue == U ? 'null' : Ue);
										Ve = Ne.length ? we ? '[\n' + Ee + Ne.join(',\n' + Ee) + '\n' + ze + ']' : '[' + Ne.join(',') + ']' : '[]'
									} else N(Te || Re, function(qe) {
											var He = le(qe, Re, xe, Te, we, Ee, Pe);
											He !== U && Ne.push(pe(qe) + ':' + (we ? ' ' : '') + He)
										}),
										Ve = Ne.length ? we ? '{\n' + Ee + Ne.join(',\n' + Ee) + '\n' + ze + '}' : '{' + Ne.join(',') + '}' : '{}';
									return Pe.pop(),
										Ve
								}
							};
						z.stringify = function(Ce, Se, xe) {
							var Te, we, Ee, Pe;
							if ('function' == typeof Se || 'object' == typeof Se && Se)
								if ((Pe = I.call(Se)) == q) we = Se;
								else if (Pe == X) {
								Ee = {};
								for (var Re = 0, _e = Se.length, De; Re < _e; De = Se[Re++], (Pe = I.call(De), Pe == W || Pe == J) && (Ee[De] = 1));
							}
							if (xe)
								if ((Pe = I.call(xe)) != J) Pe == W && (Te = 10 >= xe.length ? xe : xe.slice(0, 10));
								else if (0 < (xe -= xe % 1))
								for (Te = '', 10 < xe && (xe = 10); Te.length < xe; Te += ' ');
							return le('', (De = {}, De[''] = Ce, De), we, Ee, Te, '', [])
						}
					}
					if (!A('json-parse')) {
						var ue = String.fromCharCode,
							me = {
								34: '"',
								47: '/',
								92: '\\',
								98: '\b',
								102: '\f',
								110: '\n',
								114: '\r',
								116: '\t'
							},
							he = function() {
								throw fe = ge = null,
									SyntaxError()
							},
							ye = function() {
								for (var Ce = ge, Se = Ce.length, xe, Te, we, Ee, Pe; fe < Se;) switch (Pe = Ce.charCodeAt(fe), Pe) {
									case 9:
									case 10:
									case 13:
									case 32:
										fe++;
										break;
									case 123:
									case 125:
									case 91:
									case 93:
									case 58:
									case 44:
										return xe = K ? Ce.charAt(fe) : Ce[fe],
											fe++,
											xe;
									case 34:
										for (xe = '@', fe++; fe < Se;)
											if (Pe = Ce.charCodeAt(fe), 32 > Pe) he();
											else if (92 == Pe) switch (Pe = Ce.charCodeAt(++fe), Pe) {
											case 92:
											case 34:
											case 47:
											case 98:
											case 116:
											case 110:
											case 102:
											case 114:
												xe += me[Pe],
													fe++;
												break;
											case 117:
												for (Te = ++fe, we = fe + 4; fe < we; fe++) Pe = Ce.charCodeAt(fe),
													48 <= Pe && 57 >= Pe || 97 <= Pe && 102 >= Pe || 65 <= Pe && 70 >= Pe || he();
												xe += ue('0x' + Ce.slice(Te, fe));
												break;
											default:
												he();
										}
										else {
											if (34 == Pe) break;
											for (Pe = Ce.charCodeAt(fe), Te = fe; 32 <= Pe && 92 != Pe && 34 != Pe;) Pe = Ce.charCodeAt(++fe);
											xe += Ce.slice(Te, fe)
										}
										if (34 == Ce.charCodeAt(fe)) return fe++,
											xe;
										he();
									default:
										if (Te = fe, 45 == Pe && (Ee = !0, Pe = Ce.charCodeAt(++fe)), 48 <= Pe && 57 >= Pe) {
											for (48 == Pe && (Pe = Ce.charCodeAt(fe + 1), 48 <= Pe && 57 >= Pe) && he(), Ee = !1; fe < Se && (Pe = Ce.charCodeAt(fe), 48 <= Pe && 57 >= Pe); fe++);
											if (46 == Ce.charCodeAt(fe)) {
												for (we = ++fe; we < Se && (Pe = Ce.charCodeAt(we), 48 <= Pe && 57 >= Pe); we++);
												we == fe && he(),
													fe = we
											}
											if (Pe = Ce.charCodeAt(fe), 101 == Pe || 69 == Pe) {
												for (Pe = Ce.charCodeAt(++fe), (43 == Pe || 45 == Pe) && fe++, we = fe; we < Se && (Pe = Ce.charCodeAt(we), 48 <= Pe && 57 >= Pe); we++);
												we == fe && he(),
													fe = we
											}
											return +Ce.slice(Te, fe)
										}
										if (Ee && he(), 'true' == Ce.slice(fe, fe + 4)) return fe += 4, !0;
										if ('false' == Ce.slice(fe, fe + 5)) return fe += 5, !1;
										if ('null' == Ce.slice(fe, fe + 4)) return fe += 4,
											null;
										he();
								}
								return '$'
							},
							be = function(Ce) {
								var Se, xe;
								if ('$' == Ce && he(), 'string' == typeof Ce) {
									if ('@' == (K ? Ce.charAt(0) : Ce[0])) return Ce.slice(1);
									if ('[' == Ce) {
										for (Se = [];; xe || (xe = !0)) {
											if (Ce = ye(), ']' == Ce) break;
											xe && (',' == Ce ? (Ce = ye(), ']' == Ce && he()) : he()), ',' == Ce && he(),
												Se.push(be(Ce))
										}
										return Se
									}
									if ('{' == Ce) {
										for (Se = {};; xe || (xe = !0)) {
											if (Ce = ye(), '}' == Ce) break;
											xe && (',' == Ce ? (Ce = ye(), '}' == Ce && he()) : he()), (',' == Ce || 'string' != typeof Ce || '@' != (K ? Ce.charAt(0) : Ce[0]) || ':' != ye()) && he(),
												Se[Ce.slice(1)] = be(ye())
										}
										return Se
									}
									he()
								}
								return Ce
							},
							ve = function(Ce, Se, xe) {
								var Te = ke(Ce, Se, xe);
								Te === U ? delete Ce[Se] : Ce[Se] = Te
							},
							ke = function(Ce, Se, xe) {
								var Te = Ce[Se],
									we;
								if ('object' == typeof Te && Te)
									if (I.call(Te) == X)
										for (we = Te.length; we--;) ve(Te, we, xe);
									else N(Te, function(Ee) {
										ve(Te, Ee, xe)
									});
								return xe.call(Ce, Se, Te)
							},
							fe, ge;
						z.parse = function(Ce, Se) {
							var xe, Te;
							return fe = 0,
								ge = '' + Ce,
								xe = be(ye()), '$' != ye() && he(),
								fe = ge = null,
								Se && I.call(Se) == q ? ke((Te = {}, Te[''] = xe, Te), '', Se) : xe
						}
					}
				}
				F && C(function() {
					return z
				})
			})(this)
		}, {}],
		44: [function(P, R) {
			function M(z) {
				var V = !0;
				return z.getTracks().forEach(function(q) {
						V = 'ended' === q.readyState && V
					}),
					V
			}

			function A() {
				if ('undefined' == typeof window) return !1;
				if (!window.navigator.mozGetUserMedia) return !1;
				var z = window.navigator.userAgent.match(/Firefox\/(\d+)\./),
					V = z && 1 <= z.length && parseInt(z[1], 10);
				return 50 > V
			}

			function I(z) {
				F.call(this);
				var V = this.config = {
						detectSpeakingEvents: !1,
						audioFallback: !1,
						media: {
							audio: !0,
							video: !0
						},
						harkOptions: null,
						logger: G
					},
					q;
				for (q in z) z.hasOwnProperty(q) && (this.config[q] = z[q]);
				this.logger = V.logger,
					this._log = this.logger.log.bind(this.logger, 'LocalMedia:'),
					this._logerror = this.logger.error.bind(this.logger, 'LocalMedia:'),
					this.localStreams = [],
					this.localScreens = [],
					navigator.mediaDevices && navigator.mediaDevices.getUserMedia || this._logerror('Your browser does not support local media capture.'),
					this._audioMonitors = [],
					this.on('localStreamStopped', this._stopAudioMonitor.bind(this)),
					this.on('localScreenStopped', this._stopAudioMonitor.bind(this))
			}
			var B = P('util'),
				N = P('hark'),
				U = P('getscreenmedia'),
				F = P('wildemitter'),
				G = P('mockconsole');
			B.inherits(I, F),
				I.prototype.start = function(z, V) {
					var q = this,
						H = z || this.config.media;
					this.emit('localStreamRequested', H),
						navigator.mediaDevices.getUserMedia(H).then(function(J) {
							if (H.audio && q.config.detectSpeakingEvents && q._setupAudioMonitor(J, q.config.harkOptions), q.localStreams.push(J), J.getTracks().forEach(function(W) {
									W.addEventListener('ended', function() {
										M(J) && q._removeStream(J)
									})
								}), q.emit('localStream', J), V) return V(null, J)
						}).catch(function(J) {
							return q.config.audioFallback && 'DevicesNotFoundError' === J.name && !1 !== H.video ? (H.video = !1, void q.start(H, V)) : (q.emit('localStreamRequestFailed', H), V) ? V(J, null) : void 0
						})
				},
				I.prototype.stop = function(z) {
					this.stopStream(z),
						this.stopScreenShare(z)
				},
				I.prototype.stopStream = function(z) {
					var V = this;
					if (z) {
						var q = this.localStreams.indexOf(z); - 1 < q && (z.getTracks().forEach(function(H) {
							H.stop()
						}), A() && this._removeStream(z))
					} else this.localStreams.forEach(function(H) {
						H.getTracks().forEach(function(J) {
								J.stop()
							}),
							A() && V._removeStream(H)
					})
				},
				I.prototype.startScreenShare = function(z, V) {
					var q = this;
					this.emit('localScreenRequested'), 'function' != typeof z || V || (V = z, z = null),
						U(z, function(H, J) {
							if (H ? q.emit('localScreenRequestFailed') : (q.localScreens.push(J), J.getTracks().forEach(function(W) {
									W.addEventListener('ended', function() {
										var X = !0;
										J.getTracks().forEach(function(Y) {
												X = 'ended' === Y.readyState && X
											}),
											X && q._removeStream(J)
									})
								}), q.emit('localScreen', J)), V) return V(H, J)
						})
				},
				I.prototype.stopScreenShare = function(z) {
					var V = this;
					if (z) {
						var q = this.localScreens.indexOf(z); - 1 < q && (z.getTracks().forEach(function(H) {
							H.stop()
						}), A() && this._removeStream(z))
					} else this.localScreens.forEach(function(H) {
						H.getTracks().forEach(function(J) {
								J.stop()
							}),
							A() && V._removeStream(H)
					})
				},
				I.prototype.mute = function() {
					this._audioEnabled(!1),
						this.emit('audioOff')
				},
				I.prototype.unmute = function() {
					this._audioEnabled(!0),
						this.emit('audioOn')
				},
				I.prototype.pauseVideo = function() {
					this._videoEnabled(!1),
						this.emit('videoOff')
				},
				I.prototype.resumeVideo = function() {
					this._videoEnabled(!0),
						this.emit('videoOn')
				},
				I.prototype.pause = function() {
					this.mute(),
						this.pauseVideo()
				},
				I.prototype.resume = function() {
					this.unmute(),
						this.resumeVideo()
				},
				I.prototype._audioEnabled = function(z) {
					this.localStreams.forEach(function(V) {
						V.getAudioTracks().forEach(function(q) {
							q.enabled = !!z
						})
					})
				},
				I.prototype._videoEnabled = function(z) {
					this.localStreams.forEach(function(V) {
						V.getVideoTracks().forEach(function(q) {
							q.enabled = !!z
						})
					})
				},
				I.prototype.isAudioEnabled = function() {
					var z = !0;
					return this.localStreams.forEach(function(V) {
							V.getAudioTracks().forEach(function(q) {
								z = z && q.enabled
							})
						}),
						z
				},
				I.prototype.isVideoEnabled = function() {
					var z = !0;
					return this.localStreams.forEach(function(V) {
							V.getVideoTracks().forEach(function(q) {
								z = z && q.enabled
							})
						}),
						z
				},
				I.prototype._removeStream = function(z) {
					var V = this.localStreams.indexOf(z); - 1 < V ? (this.localStreams.splice(V, 1), this.emit('localStreamStopped', z)) : (V = this.localScreens.indexOf(z), -1 < V && (this.localScreens.splice(V, 1), this.emit('localScreenStopped', z)))
				},
				I.prototype._setupAudioMonitor = function(z, V) {
					this._log('Setup audio');
					var q = N(z, V),
						H = this,
						J;
					q.on('speaking', function() {
							H.emit('speaking')
						}),
						q.on('stopped_speaking', function() {
							J && clearTimeout(J),
								J = setTimeout(function() {
									H.emit('stoppedSpeaking')
								}, 1e3)
						}),
						q.on('volume_change', function(W, X) {
							H.emit('volumeChange', W, X)
						}),
						this._audioMonitors.push({
							audio: q,
							stream: z
						})
				},
				I.prototype._stopAudioMonitor = function(z) {
					var V = -1;
					this._audioMonitors.forEach(function(q, H) {
						q.stream === z && (V = H)
					}), -1 < V && (this._audioMonitors[V].audio.stop(), this._audioMonitors.splice(V, 1))
				},
				R.exports = I
		}, {
			getscreenmedia: 36,
			hark: 38,
			mockconsole: 46,
			util: 73,
			wildemitter: 75
		}],
		45: [function(P, R, D) {
			(function(M) {
				function A(Gr, zr) {
					return Gr.set(zr[0], zr[1]),
						Gr
				}

				function I(Gr, zr) {
					return Gr.add(zr),
						Gr
				}

				function B(Gr, zr) {
					for (var Vr = -1, qr = Gr ? Gr.length : 0; ++Vr < qr && !(!1 === zr(Gr[Vr], Vr, Gr)););
					return Gr
				}

				function N(Gr, zr) {
					for (var Vr = -1, qr = zr.length, Hr = Gr.length; ++Vr < qr;) Gr[Hr + Vr] = zr[Vr];
					return Gr
				}

				function U(Gr, zr, Vr, qr) {
					var Hr = -1,
						Jr = Gr ? Gr.length : 0;
					for (qr && Jr && (Vr = Gr[++Hr]); ++Hr < Jr;) Vr = zr(Vr, Gr[Hr], Hr, Gr);
					return Vr
				}

				function F(Gr, zr) {
					for (var Vr = -1, qr = Array(Gr); ++Vr < Gr;) qr[Vr] = zr(Vr);
					return qr
				}

				function G(Gr, zr) {
					return null == Gr ? void 0 : Gr[zr]
				}

				function z(Gr) {
					var zr = !1;
					if (null != Gr && 'function' != typeof Gr.toString) try {
						zr = !!(Gr + '')
					} catch (Vr) {}
					return zr
				}

				function V(Gr) {
					var zr = -1,
						Vr = Array(Gr.size);
					return Gr.forEach(function(qr, Hr) {
							Vr[++zr] = [Hr, qr]
						}),
						Vr
				}

				function q(Gr, zr) {
					return function(Vr) {
						return Gr(zr(Vr))
					}
				}

				function H(Gr) {
					var zr = -1,
						Vr = Array(Gr.size);
					return Gr.forEach(function(qr) {
							Vr[++zr] = qr
						}),
						Vr
				}

				function J(Gr) {
					var zr = -1,
						Vr = Gr ? Gr.length : 0;
					for (this.clear(); ++zr < Vr;) {
						var qr = Gr[zr];
						this.set(qr[0], qr[1])
					}
				}

				function Q(Gr) {
					var zr = -1,
						Vr = Gr ? Gr.length : 0;
					for (this.clear(); ++zr < Vr;) {
						var qr = Gr[zr];
						this.set(qr[0], qr[1])
					}
				}

				function de(Gr) {
					var zr = -1,
						Vr = Gr ? Gr.length : 0;
					for (this.clear(); ++zr < Vr;) {
						var qr = Gr[zr];
						this.set(qr[0], qr[1])
					}
				}

				function fe(Gr) {
					this.__data__ = new Q(Gr)
				}

				function ke(Gr, zr) {
					var Vr = Ur(Gr) || et(Gr) ? F(Gr.length, String) : [],
						qr = Vr.length;
					for (var Jr in Gr)
						(zr || cr.call(Gr, Jr)) && !(!!qr && ('length' == Jr || We(Jr, qr))) && Vr.push(Jr);
					return Vr
				}

				function Ce(Gr, zr, Vr) {
					var qr = Gr[zr];
					cr.call(Gr, zr) && Qe(qr, Vr) && (Vr !== void 0 || zr in Gr) || (Gr[zr] = Vr)
				}

				function Se(Gr, zr) {
					for (var Vr = Gr.length; Vr--;)
						if (Qe(Gr[Vr][0], zr)) return Vr;
					return -1
				}

				function xe(Gr, zr) {
					return Gr && Ue(zr, dt(zr), Gr)
				}

				function Te(Gr, zr, Vr, qr, Hr, Jr, Wr) {
					var Xr;
					if (qr && (Xr = Jr ? qr(Gr, Hr, Jr, Wr) : qr(Gr)), void 0 != Xr) return Xr;
					if (!it(Gr)) return Gr;
					var Yr = Ur(Gr);
					if (!Yr) {
						var $r = Nr(Gr),
							Kr = $r == St || $r == xt;
						if (Fr(Gr)) return De(Gr, zr);
						if ($r == Et || $r == gt || Kr && !Jr) {
							if (z(Gr)) return Jr ? Gr : {};
							if (Xr = He(Kr ? {} : Gr), !zr) return Fe(Gr, xe(Xr, Gr))
						} else {
							if (!Xt[$r]) return Jr ? Gr : {};
							Xr = Je(Gr, $r, Te, zr)
						}
					} else if (Xr = qe(Gr), !zr) return Ne(Gr, Xr);
					Wr || (Wr = new fe);
					var Zr = Wr.get(Gr);
					if (Zr) return Zr;
					if (Wr.set(Gr, Xr), !Yr) var Qr = Vr ? Ge(Gr) : dt(Gr);
					return B(Qr || Gr, function(en, tn) {
							Qr && (tn = en, en = Gr[tn]),
								Ce(Xr, tn, Te(en, zr, Vr, qr, tn, Gr, Wr))
						}),
						Xr
				}

				function we(Gr) {
					return it(Gr) ? yr(Gr) : {}
				}

				function Ee(Gr, zr, Vr) {
					var qr = zr(Gr);
					return Ur(Gr) ? qr : N(qr, Vr(Gr))
				}

				function Re(Gr) {
					if (!it(Gr) || Ye(Gr)) return !1;
					var zr = at(Gr) || z(Gr) ? lr : Jt;
					return zr.test(Ke(Gr))
				}

				function _e(Gr) {
					if (!$e(Gr)) return Sr(Gr);
					var zr = [];
					for (var Vr in Object(Gr)) cr.call(Gr, Vr) && 'constructor' != Vr && zr.push(Vr);
					return zr
				}

				function De(Gr, zr) {
					if (zr) return Gr.slice();
					var Vr = new Gr.constructor(Gr.length);
					return Gr.copy(Vr),
						Vr
				}

				function Me(Gr) {
					var zr = new Gr.constructor(Gr.byteLength);
					return new gr(zr).set(new gr(Gr)),
						zr
				}

				function je(Gr, zr) {
					var Vr = zr ? Me(Gr.buffer) : Gr.buffer;
					return new Gr.constructor(Vr, Gr.byteOffset, Gr.byteLength)
				}

				function Oe(Gr, zr, Vr) {
					var qr = zr ? Vr(V(Gr), !0) : V(Gr);
					return U(qr, A, new Gr.constructor)
				}

				function Le(Gr) {
					var zr = new Gr.constructor(Gr.source, Ht.exec(Gr));
					return zr.lastIndex = Gr.lastIndex,
						zr
				}

				function Ae(Gr, zr, Vr) {
					var qr = zr ? Vr(H(Gr), !0) : H(Gr);
					return U(qr, I, new Gr.constructor)
				}

				function Ie(Gr) {
					return Ir ? Object(Ir.call(Gr)) : {}
				}

				function Be(Gr, zr) {
					var Vr = zr ? Me(Gr.buffer) : Gr.buffer;
					return new Gr.constructor(Vr, Gr.byteOffset, Gr.length)
				}

				function Ne(Gr, zr) {
					var Vr = -1,
						qr = Gr.length;
					for (zr || (zr = Array(qr)); ++Vr < qr;) zr[Vr] = Gr[Vr];
					return zr
				}

				function Ue(Gr, zr, Vr, qr) {
					Vr || (Vr = {});
					for (var Hr = -1, Jr = zr.length; ++Hr < Jr;) {
						var Wr = zr[Hr],
							Xr = qr ? qr(Vr[Wr], Gr[Wr], Wr, Vr, Gr) : void 0;
						Ce(Vr, Wr, Xr === void 0 ? Gr[Wr] : Xr)
					}
					return Vr
				}

				function Fe(Gr, zr) {
					return Ue(Gr, Br(Gr), zr)
				}

				function Ge(Gr) {
					return Ee(Gr, dt, Br)
				}

				function ze(Gr, zr) {
					var Vr = Gr.__data__;
					return Xe(zr) ? Vr['string' == typeof zr ? 'string' : 'hash'] : Vr.map
				}

				function Ve(Gr, zr) {
					var Vr = G(Gr, zr);
					return Re(Vr) ? Vr : void 0
				}

				function qe(Gr) {
					var zr = Gr.length,
						Vr = Gr.constructor(zr);
					return zr && 'string' == typeof Gr[0] && cr.call(Gr, 'index') && (Vr.index = Gr.index, Vr.input = Gr.input),
						Vr
				}

				function He(Gr) {
					return 'function' != typeof Gr.constructor || $e(Gr) ? {} : we(hr(Gr))
				}

				function Je(Gr, zr, Vr, qr) {
					var Hr = Gr.constructor;
					return zr === Ot ? Me(Gr) : zr === vt || zr === kt ? new Hr(+Gr) : zr === Lt ? je(Gr, qr) : zr === At || zr === It || zr === Bt || zr === Nt || zr === Ut || zr === Ft || zr === Gt || zr === zt || zr === Vt ? Be(Gr, qr) : zr === Tt ? Oe(Gr, qr, Vr) : zr === wt || zr === Dt ? new Hr(Gr) : zr === Rt ? Le(Gr) : zr === _t ? Ae(Gr, qr, Vr) : zr === Mt ? Ie(Gr) : void 0
				}

				function We(Gr, zr) {
					return zr = null == zr ? ft : zr, !!zr && ('number' == typeof Gr || Wt.test(Gr)) && -1 < Gr && 0 == Gr % 1 && Gr < zr
				}

				function Xe(Gr) {
					var zr = typeof Gr;
					return 'string' == zr || 'number' == zr || 'symbol' == zr || 'boolean' == zr ? '__proto__' !== Gr : null === Gr
				}

				function Ye(Gr) {
					return !!sr && sr in Gr
				}

				function $e(Gr) {
					var zr = Gr && Gr.constructor,
						Vr = 'function' == typeof zr && zr.prototype || or;
					return Gr === Vr
				}

				function Ke(Gr) {
					if (null != Gr) {
						try {
							return dr.call(Gr)
						} catch (zr) {}
						try {
							return Gr + ''
						} catch (zr) {}
					}
					return ''
				}

				function Qe(Gr, zr) {
					return Gr === zr || Gr !== Gr && zr !== zr
				}

				function et(Gr) {
					return nt(Gr) && cr.call(Gr, 'callee') && (!br.call(Gr, 'callee') || pr.call(Gr) == gt)
				}

				function tt(Gr) {
					return null != Gr && ot(Gr.length) && !at(Gr)
				}

				function nt(Gr) {
					return st(Gr) && tt(Gr)
				}

				function at(Gr) {
					var zr = it(Gr) ? pr.call(Gr) : '';
					return zr == St || zr == xt
				}

				function ot(Gr) {
					return 'number' == typeof Gr && -1 < Gr && 0 == Gr % 1 && Gr <= ft
				}

				function it(Gr) {
					var zr = typeof Gr;
					return !!Gr && ('object' == zr || 'function' == zr)
				}

				function st(Gr) {
					return !!Gr && 'object' == typeof Gr
				}

				function dt(Gr) {
					return tt(Gr) ? ke(Gr) : _e(Gr)
				}
				var mt = '__lodash_hash_undefined__',
					ft = 9007199254740991,
					gt = '[object Arguments]',
					vt = '[object Boolean]',
					kt = '[object Date]',
					St = '[object Function]',
					xt = '[object GeneratorFunction]',
					Tt = '[object Map]',
					wt = '[object Number]',
					Et = '[object Object]',
					Pt = '[object Promise]',
					Rt = '[object RegExp]',
					_t = '[object Set]',
					Dt = '[object String]',
					Mt = '[object Symbol]',
					jt = '[object WeakMap]',
					Ot = '[object ArrayBuffer]',
					Lt = '[object DataView]',
					At = '[object Float32Array]',
					It = '[object Float64Array]',
					Bt = '[object Int8Array]',
					Nt = '[object Int16Array]',
					Ut = '[object Int32Array]',
					Ft = '[object Uint8Array]',
					Gt = '[object Uint8ClampedArray]',
					zt = '[object Uint16Array]',
					Vt = '[object Uint32Array]',
					qt = /[\\^$.*+?()[\]{}|]/g,
					Ht = /\w*$/,
					Jt = /^\[object .+?Constructor\]$/,
					Wt = /^(?:0|[1-9]\d*)$/,
					Xt = {};
				Xt[gt] = Xt['[object Array]'] = Xt[Ot] = Xt[Lt] = Xt[vt] = Xt[kt] = Xt[At] = Xt[It] = Xt[Bt] = Xt[Nt] = Xt[Ut] = Xt[Tt] = Xt[wt] = Xt[Et] = Xt[Rt] = Xt[_t] = Xt[Dt] = Xt[Mt] = Xt[Ft] = Xt[Gt] = Xt[zt] = Xt[Vt] = !0,
					Xt['[object Error]'] = Xt[St] = Xt[jt] = !1;
				var Yt = 'object' == typeof M && M && M.Object === Object && M,
					$t = 'object' == typeof self && self && self.Object === Object && self,
					Kt = Yt || $t || Function('return this')(),
					Zt = 'object' == typeof D && D && !D.nodeType && D,
					Qt = Zt && 'object' == typeof R && R && !R.nodeType && R,
					tr = Qt && Qt.exports === Zt,
					rr = Array.prototype,
					nr = Function.prototype,
					or = Object.prototype,
					ir = Kt['__core-js_shared__'],
					sr = function() {
						var Gr = /[^.]+$/.exec(ir && ir.keys && ir.keys.IE_PROTO || '');
						return Gr ? 'Symbol(src)_1.' + Gr : ''
					}(),
					dr = nr.toString,
					cr = or.hasOwnProperty,
					pr = or.toString,
					lr = RegExp('^' + dr.call(cr).replace(qt, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'),
					ur = tr ? Kt.Buffer : void 0,
					mr = Kt.Symbol,
					gr = Kt.Uint8Array,
					hr = q(Object.getPrototypeOf, Object),
					yr = Object.create,
					br = or.propertyIsEnumerable,
					vr = rr.splice,
					kr = Object.getOwnPropertySymbols,
					Cr = ur ? ur.isBuffer : void 0,
					Sr = q(Object.keys, Object),
					xr = Ve(Kt, 'DataView'),
					Tr = Ve(Kt, 'Map'),
					Er = Ve(Kt, 'Promise'),
					Pr = Ve(Kt, 'Set'),
					Rr = Ve(Kt, 'WeakMap'),
					_r = Ve(Object, 'create'),
					Dr = Ke(xr),
					Mr = Ke(Tr),
					jr = Ke(Er),
					Or = Ke(Pr),
					Lr = Ke(Rr),
					Ar = mr ? mr.prototype : void 0,
					Ir = Ar ? Ar.valueOf : void 0;
				J.prototype.clear = function() {
						this.__data__ = _r ? _r(null) : {}
					},
					J.prototype['delete'] = function(Gr) {
						return this.has(Gr) && delete this.__data__[Gr]
					},
					J.prototype.get = function(Gr) {
						var zr = this.__data__;
						if (_r) {
							var Vr = zr[Gr];
							return Vr === mt ? void 0 : Vr
						}
						return cr.call(zr, Gr) ? zr[Gr] : void 0
					},
					J.prototype.has = function(Gr) {
						var zr = this.__data__;
						return _r ? zr[Gr] !== void 0 : cr.call(zr, Gr)
					},
					J.prototype.set = function(Gr, zr) {
						var Vr = this.__data__;
						return Vr[Gr] = _r && void 0 === zr ? mt : zr,
							this
					},
					Q.prototype.clear = function() {
						this.__data__ = []
					},
					Q.prototype['delete'] = function(Gr) {
						var zr = this.__data__,
							Vr = Se(zr, Gr);
						if (0 > Vr) return !1;
						var qr = zr.length - 1;
						return Vr == qr ? zr.pop() : vr.call(zr, Vr, 1), !0
					},
					Q.prototype.get = function(Gr) {
						var zr = this.__data__,
							Vr = Se(zr, Gr);
						return 0 > Vr ? void 0 : zr[Vr][1]
					},
					Q.prototype.has = function(Gr) {
						return -1 < Se(this.__data__, Gr)
					},
					Q.prototype.set = function(Gr, zr) {
						var Vr = this.__data__,
							qr = Se(Vr, Gr);
						return 0 > qr ? Vr.push([Gr, zr]) : Vr[qr][1] = zr,
							this
					},
					de.prototype.clear = function() {
						this.__data__ = {
							hash: new J,
							map: new(Tr || Q),
							string: new J
						}
					},
					de.prototype['delete'] = function(Gr) {
						return ze(this, Gr)['delete'](Gr)
					},
					de.prototype.get = function(Gr) {
						return ze(this, Gr).get(Gr)
					},
					de.prototype.has = function(Gr) {
						return ze(this, Gr).has(Gr)
					},
					de.prototype.set = function(Gr, zr) {
						return ze(this, Gr).set(Gr, zr),
							this
					},
					fe.prototype.clear = function() {
						this.__data__ = new Q
					},
					fe.prototype['delete'] = function(Gr) {
						return this.__data__['delete'](Gr)
					},
					fe.prototype.get = function(Gr) {
						return this.__data__.get(Gr)
					},
					fe.prototype.has = function(Gr) {
						return this.__data__.has(Gr)
					},
					fe.prototype.set = function(Gr, zr) {
						var Vr = this.__data__;
						if (Vr instanceof Q) {
							var qr = Vr.__data__;
							if (!Tr || qr.length < 200 - 1) return qr.push([Gr, zr]),
								this;
							Vr = this.__data__ = new de(qr)
						}
						return Vr.set(Gr, zr),
							this
					};
				var Br = kr ? q(kr, Object) : function() {
						return []
					},
					Nr = function(Gr) {
						return pr.call(Gr)
					};
				(xr && Nr(new xr(new ArrayBuffer(1))) != Lt || Tr && Nr(new Tr) != Tt || Er && Nr(Er.resolve()) != Pt || Pr && Nr(new Pr) != _t || Rr && Nr(new Rr) != jt) && (Nr = function(Gr) {
					var zr = pr.call(Gr),
						Vr = zr == Et ? Gr.constructor : void 0,
						qr = Vr ? Ke(Vr) : void 0;
					if (qr) switch (qr) {
						case Dr:
							return Lt;
						case Mr:
							return Tt;
						case jr:
							return Pt;
						case Or:
							return _t;
						case Lr:
							return jt;
					}
					return zr
				});
				var Ur = Array.isArray,
					Fr = Cr || function() {
						return !1
					};
				R.exports = function(Gr) {
					return Te(Gr, !0, !0)
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		46: [function(P, R) {
			for (var M = 'assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn'.split(','), A = M.length, I = function() {}, B = {}; A--;) B[M[A]] = I;
			R.exports = B
		}, {}],
		47: [function(P, R) {
			function M(V) {
				var q = /^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(V);
				if (q) {
					var H = parseFloat(q[1]),
						J = (q[2] || 'ms').toLowerCase();
					return 'years' === J || 'year' === J || 'y' === J ? H * (365.25 * G) : 'days' === J || 'day' === J || 'd' === J ? H * G : 'hours' === J || 'hour' === J || 'h' === J ? H * F : 'minutes' === J || 'minute' === J || 'm' === J ? H * U : 'seconds' === J || 'second' === J || 's' === J ? H * N : 'ms' === J ? H : void 0
				}
			}

			function A(V) {
				return V >= G ? Math.round(V / G) + 'd' : V >= F ? Math.round(V / F) + 'h' : V >= U ? Math.round(V / U) + 'm' : V >= N ? Math.round(V / N) + 's' : V + 'ms'
			}

			function I(V) {
				return B(V, G, 'day') || B(V, F, 'hour') || B(V, U, 'minute') || B(V, N, 'second') || V + ' ms'
			}

			function B(V, q, H) {
				return V < q ? void 0 : V < 1.5 * q ? Math.floor(V / q) + ' ' + H : Math.ceil(V / q) + ' ' + H + 's'
			}
			var N = 1e3,
				U = 60 * N,
				F = 60 * U,
				G = 24 * F;
			R.exports = function(V, q) {
				return q = q || {}, 'string' == typeof V ? M(V) : q.long ? I(V) : A(V)
			}
		}, {}],
		48: [function(P, R, D) {
			var M = Object.prototype.hasOwnProperty;
			D.keys = Object.keys || function(A) {
					var I = [];
					for (var B in A) M.call(A, B) && I.push(B);
					return I
				},
				D.values = function(A) {
					var I = [];
					for (var B in A) M.call(A, B) && I.push(A[B]);
					return I
				},
				D.merge = function(A, I) {
					for (var B in I) M.call(I, B) && (A[B] = I[B]);
					return A
				},
				D.length = function(A) {
					return D.keys(A).length
				},
				D.isEmpty = function(A) {
					return 0 == D.length(A)
				}
		}, {}],
		49: [function(P, R) {
			(function(M) {
				var A = /^[\],:{}\s]*$/,
					I = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
					B = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
					N = /(?:^|:|,)(?:\s*\[)+/g,
					U = /^\s+/,
					F = /\s+$/;
				R.exports = function(z) {
					return 'string' == typeof z && z ? (z = z.replace(U, '').replace(F, ''), M.JSON && JSON.parse ? JSON.parse(z) : A.test(z.replace(I, '@').replace(B, ']').replace(N, '')) ? new Function('return ' + z)() : void 0) : null
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		50: [function(P, R, D) {
			D.encode = function(M) {
					var A = '';
					for (var I in M) M.hasOwnProperty(I) && (A.length && (A += '&'), A += encodeURIComponent(I) + '=' + encodeURIComponent(M[I]));
					return A
				},
				D.decode = function(M) {
					for (var A = {}, I = M.split('&'), B = 0, N = I.length, U; B < N; B++) U = I[B].split('='),
						A[decodeURIComponent(U[0])] = decodeURIComponent(U[1]);
					return A
				}
		}, {}],
		51: [function(P, R) {
			var M = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
				A = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'];
			R.exports = function(B) {
				for (var N = M.exec(B || ''), U = {}, F = 14; F--;) U[A[F]] = N[F] || '';
				return U
			}
		}, {}],
		52: [function(P, R) {
			function M() {
				throw new Error('setTimeout has not been defined')
			}

			function A() {
				throw new Error('clearTimeout has not been defined')
			}

			function I(Y) {
				if (V === setTimeout) return setTimeout(Y, 0);
				if ((V === M || !V) && setTimeout) return V = setTimeout,
					setTimeout(Y, 0);
				try {
					return V(Y, 0)
				} catch (K) {
					try {
						return V.call(null, Y, 0)
					} catch (Z) {
						return V.call(this, Y, 0)
					}
				}
			}

			function B(Y) {
				if (q === clearTimeout) return clearTimeout(Y);
				if ((q === A || !q) && clearTimeout) return q = clearTimeout,
					clearTimeout(Y);
				try {
					return q(Y)
				} catch (K) {
					try {
						return q.call(null, Y)
					} catch (Z) {
						return q.call(this, Y)
					}
				}
			}

			function N() {
				J && W && (J = !1, W.length ? H = W.concat(H) : X = -1, H.length && U())
			}

			function U() {
				if (!J) {
					var Y = I(N);
					J = !0;
					for (var K = H.length; K;) {
						for (W = H, H = []; ++X < K;) W && W[X].run();
						X = -1,
							K = H.length
					}
					W = null,
						J = !1,
						B(Y)
				}
			}

			function F(Y, K) {
				this.fun = Y,
					this.array = K
			}

			function G() {}
			var z = R.exports = {},
				V, q;
			(function() {
				try {
					V = 'function' == typeof setTimeout ? setTimeout : M
				} catch (Y) {
					V = M
				}
				try {
					q = 'function' == typeof clearTimeout ? clearTimeout : A
				} catch (Y) {
					q = A
				}
			})();
			var H = [],
				J = !1,
				W, X = -1;
			z.nextTick = function(Y) {
					var K = Array(arguments.length - 1);
					if (1 < arguments.length)
						for (var Z = 1; Z < arguments.length; Z++) K[Z - 1] = arguments[Z];
					H.push(new F(Y, K)),
						1 !== H.length || J || I(U)
				},
				F.prototype.run = function() {
					this.fun.apply(null, this.array)
				},
				z.title = 'browser',
				z.browser = !0,
				z.env = {},
				z.argv = [],
				z.version = '',
				z.versions = {},
				z.on = G,
				z.addListener = G,
				z.once = G,
				z.off = G,
				z.removeListener = G,
				z.removeAllListeners = G,
				z.emit = G,
				z.prependListener = G,
				z.prependOnceListener = G,
				z.listeners = function() {
					return []
				},
				z.binding = function() {
					throw new Error('process.binding is not supported')
				},
				z.cwd = function() {
					return '/'
				},
				z.chdir = function() {
					throw new Error('process.chdir is not supported')
				},
				z.umask = function() {
					return 0
				}
		}, {}],
		53: [function(P, R) {
			function M(U, F) {
				var G = this,
					z;
				for (z in B.call(this), U = U || {}, U.iceServers = U.iceServers || [], this.enableChromeNativeSimulcast = !1, F && F.optional && window.chrome && null === navigator.appVersion.match(/Chromium\//) && F.optional.forEach(function(V) {
						V.enableChromeNativeSimulcast && (G.enableChromeNativeSimulcast = !0)
					}), this.enableMultiStreamHacks = !1, F && F.optional && window.chrome && F.optional.forEach(function(V) {
						V.enableMultiStreamHacks && (G.enableMultiStreamHacks = !0)
					}), this.restrictBandwidth = 0, F && F.optional && F.optional.forEach(function(V) {
						V.andyetRestrictBandwidth && (G.restrictBandwidth = V.andyetRestrictBandwidth)
					}), this.batchIceCandidates = 0, F && F.optional && F.optional.forEach(function(V) {
						V.andyetBatchIce && (G.batchIceCandidates = V.andyetBatchIce)
					}), this.batchedIceCandidates = [], F && F.optional && window.chrome && F.optional.forEach(function(V) {
						V.andyetFasterICE && (G.eliminateDuplicateCandidates = V.andyetFasterICE)
					}), F && F.optional && F.optional.forEach(function(V) {
						V.andyetDontSignalCandidates && (G.dontSignalCandidates = V.andyetDontSignalCandidates)
					}), this.assumeSetLocalSuccess = !1, F && F.optional && F.optional.forEach(function(V) {
						V.andyetAssumeSetLocalSuccess && (G.assumeSetLocalSuccess = V.andyetAssumeSetLocalSuccess)
					}), window.navigator.mozGetUserMedia && F && F.optional && (this.wtFirefox = 0, F.optional.forEach(function(V) {
						V.andyetFirefoxMakesMeSad && (G.wtFirefox = V.andyetFirefoxMakesMeSad, 0 < G.wtFirefox && (G.firefoxcandidatebuffer = []))
					})), this.pc = new RTCPeerConnection(U, F), this.getLocalStreams = 'function' == typeof this.pc.getLocalStreams ? this.pc.getLocalStreams.bind(this.pc) : function() {
						return []
					}, this.getRemoteStreams = this.pc.getRemoteStreams.bind(this.pc), this.addStream = this.pc.addStream.bind(this.pc), this.removeStream = function(V) {
						'function' == typeof G.pc.removeStream ? G.pc.removeStream.apply(G.pc, arguments) : 'function' == typeof G.pc.removeTrack && V.getTracks().forEach(function(q) {
							G.pc.removeTrack(q)
						})
					}, 'function' == typeof this.pc.removeTrack && (this.removeTrack = this.pc.removeTrack.bind(this.pc)), this.pc.onremovestream = this.emit.bind(this, 'removeStream'), this.pc.onremovetrack = this.emit.bind(this, 'removeTrack'), this.pc.onaddstream = this.emit.bind(this, 'addStream'), this.pc.onnegotiationneeded = this.emit.bind(this, 'negotiationNeeded'), this.pc.oniceconnectionstatechange = this.emit.bind(this, 'iceConnectionStateChange'), this.pc.onsignalingstatechange = this.emit.bind(this, 'signalingStateChange'), this.pc.onicecandidate = this._onIce.bind(this), this.pc.ondatachannel = this._onDataChannel.bind(this), this.localDescription = {
						contents: []
					}, this.remoteDescription = {
						contents: []
					}, this.config = {
						debug: !1,
						sid: '',
						isInitiator: !0,
						sdpSessionID: Date.now(),
						useJingle: !1
					}, this.iceCredentials = {
						local: {},
						remote: {}
					}, U) this.config[z] = U[z];
				this.config.debug && this.on('*', function() {
						var V = U.logger || console;
						V.log('PeerConnection event:', arguments)
					}),
					this.hadLocalStunCandidate = !1,
					this.hadRemoteStunCandidate = !1,
					this.hadLocalRelayCandidate = !1,
					this.hadRemoteRelayCandidate = !1,
					this.hadLocalIPv6Candidate = !1,
					this.hadRemoteIPv6Candidate = !1,
					this._remoteDataChannels = [],
					this._localDataChannels = [],
					this._candidateBuffer = []
			}
			var A = P('util'),
				I = P('sdp-jingle-json'),
				B = P('wildemitter'),
				N = P('lodash.clonedeep');
			A.inherits(M, B),
				Object.defineProperty(M.prototype, 'signalingState', {
					get: function() {
						return this.pc.signalingState
					}
				}),
				Object.defineProperty(M.prototype, 'iceConnectionState', {
					get: function() {
						return this.pc.iceConnectionState
					}
				}),
				M.prototype._role = function() {
					return this.isInitiator ? 'initiator' : 'responder'
				},
				M.prototype.addStream = function(U) {
					this.localStream = U,
						this.pc.addStream(U)
				},
				M.prototype._checkLocalCandidate = function(U) {
					var F = I.toCandidateJSON(U);
					'srflx' == F.type ? this.hadLocalStunCandidate = !0 : 'relay' == F.type && (this.hadLocalRelayCandidate = !0), -1 != F.ip.indexOf(':') && (this.hadLocalIPv6Candidate = !0)
				},
				M.prototype._checkRemoteCandidate = function(U) {
					var F = I.toCandidateJSON(U);
					'srflx' == F.type ? this.hadRemoteStunCandidate = !0 : 'relay' == F.type && (this.hadRemoteRelayCandidate = !0), -1 != F.ip.indexOf(':') && (this.hadRemoteIPv6Candidate = !0)
				},
				M.prototype.processIce = function(U, F) {
					F = F || function() {};
					var G = this;
					if ('closed' === this.pc.signalingState) return F();
					if (U.contents || U.jingle && U.jingle.contents) {
						var z = this.remoteDescription.contents.map(function(q) {
								return q.name
							}),
							V = U.contents || U.jingle.contents;
						V.forEach(function(q) {
							var H = q.transport || {},
								J = H.candidates || [],
								W = z.indexOf(q.name),
								X = q.name,
								Y = G.remoteDescription.contents.find(function(Q) {
									return Q.name === q.name
								}),
								K = function() {
									J.forEach(function(Q) {
											var ne = I.toCandidateSDP(Q);
											G.pc.addIceCandidate(new RTCIceCandidate({
													candidate: ne,
													sdpMLineIndex: W,
													sdpMid: X
												}), function() {}, function(ae) {
													G.emit('error', ae)
												}),
												G._checkRemoteCandidate(ne)
										}),
										F()
								};
							if (!(G.iceCredentials.remote[q.name] && H.ufrag && G.iceCredentials.remote[q.name].ufrag !== H.ufrag)) K();
							else if (Y) {
								Y.transport.ufrag = H.ufrag,
									Y.transport.pwd = H.pwd;
								var Z = {
									type: 'offer',
									jingle: G.remoteDescription
								};
								Z.sdp = I.toSessionSDP(Z.jingle, {
										sid: G.config.sdpSessionID,
										role: G._role(),
										direction: 'incoming'
									}),
									G.pc.setRemoteDescription(new RTCSessionDescription(Z), function() {
										K()
									}, function(Q) {
										G.emit('error', Q)
									})
							} else G.emit('error', 'ice restart failed to find matching content')
						})
					} else {
						if (U.candidate && 0 !== U.candidate.candidate.indexOf('a=') && (U.candidate.candidate = 'a=' + U.candidate.candidate), this.wtFirefox && null !== this.firefoxcandidatebuffer && this.pc.localDescription && 'offer' === this.pc.localDescription.type) return this.firefoxcandidatebuffer.push(U.candidate),
							F();
						G.pc.addIceCandidate(new RTCIceCandidate(U.candidate), function() {}, function(q) {
								G.emit('error', q)
							}),
							G._checkRemoteCandidate(U.candidate.candidate),
							F()
					}
				},
				M.prototype.offer = function(U, F) {
					var G = this,
						z = 2 === arguments.length,
						V = z && U ? U : {
							offerToReceiveAudio: 1,
							offerToReceiveVideo: 1
						};
					return F = z ? F : U,
						F = F || function() {}, 'closed' === this.pc.signalingState ? F('Already closed') : void this.pc.createOffer(function(q) {
							var H = {
								type: 'offer',
								sdp: q.sdp
							};
							G.assumeSetLocalSuccess && (G.emit('offer', H), F(null, H)),
								G._candidateBuffer = [],
								G.pc.setLocalDescription(q, function() {
									var J;
									G.config.useJingle && (J = I.toSessionJSON(q.sdp, {
											role: G._role(),
											direction: 'outgoing'
										}), J.sid = G.config.sid, G.localDescription = J, J.contents.forEach(function(W) {
											var X = W.transport || {};
											X.ufrag && (G.iceCredentials.local[W.name] = {
												ufrag: X.ufrag,
												pwd: X.pwd
											})
										}), H.jingle = J),
										H.sdp.split('\r\n').forEach(function(W) {
											0 === W.indexOf('a=candidate:') && G._checkLocalCandidate(W)
										}),
										G.assumeSetLocalSuccess || (G.emit('offer', H), F(null, H))
								}, function(J) {
									G.emit('error', J),
										F(J)
								})
						}, function(q) {
							G.emit('error', q),
								F(q)
						}, V)
				},
				M.prototype.handleOffer = function(U, F) {
					F = F || function() {};
					var G = this;
					if (U.type = 'offer', U.jingle) {
						if (this.enableChromeNativeSimulcast && U.jingle.contents.forEach(function(q) {
								'video' === q.name && (q.application.googConferenceFlag = !0)
							}), this.enableMultiStreamHacks && U.jingle.contents.forEach(function(q) {
								if ('video' === q.name) {
									var H = q.application.sources || [];
									(0 === H.length || '3735928559' !== H[0].ssrc) && (H.unshift({
										ssrc: '3735928559',
										parameters: [{
											key: 'cname',
											value: 'deadbeef'
										}, {
											key: 'msid',
											value: 'mixyourfecintothis please'
										}]
									}), q.application.sources = H)
								}
							}), 0 < G.restrictBandwidth && 2 <= U.jingle.contents.length && 'video' === U.jingle.contents[1].name) {
							var z = U.jingle.contents[1],
								V = z.application && z.application.bandwidth && z.application.bandwidth.bandwidth;
							V || (U.jingle.contents[1].application.bandwidth = {
								type: 'AS',
								bandwidth: G.restrictBandwidth.toString()
							}, U.sdp = I.toSessionSDP(U.jingle, {
								sid: G.config.sdpSessionID,
								role: G._role(),
								direction: 'outgoing'
							}))
						}
						U.jingle.contents.forEach(function(q) {
								var H = q.transport || {};
								H.ufrag && (G.iceCredentials.remote[q.name] = {
									ufrag: H.ufrag,
									pwd: H.pwd
								})
							}),
							U.sdp = I.toSessionSDP(U.jingle, {
								sid: G.config.sdpSessionID,
								role: G._role(),
								direction: 'incoming'
							}),
							G.remoteDescription = U.jingle
					}
					U.sdp.split('\r\n').forEach(function(q) {
							0 === q.indexOf('a=candidate:') && G._checkRemoteCandidate(q)
						}),
						G.pc.setRemoteDescription(new RTCSessionDescription(U), function() {
							F()
						}, F)
				},
				M.prototype.answerAudioOnly = function(U) {
					this._answer({
						mandatory: {
							OfferToReceiveAudio: !0,
							OfferToReceiveVideo: !1
						}
					}, U)
				},
				M.prototype.answerBroadcastOnly = function(U) {
					this._answer({
						mandatory: {
							OfferToReceiveAudio: !1,
							OfferToReceiveVideo: !1
						}
					}, U)
				},
				M.prototype.answer = function(U, F) {
					var G = 2 === arguments.length,
						z = G ? F : U,
						V = G && U ? U : {
							mandatory: {
								OfferToReceiveAudio: !0,
								OfferToReceiveVideo: !0
							}
						};
					this._answer(V, z)
				},
				M.prototype.handleAnswer = function(U, F) {
					F = F || function() {};
					var G = this;
					U.jingle && (U.sdp = I.toSessionSDP(U.jingle, {
							sid: G.config.sdpSessionID,
							role: G._role(),
							direction: 'incoming'
						}), G.remoteDescription = U.jingle, U.jingle.contents.forEach(function(z) {
							var V = z.transport || {};
							V.ufrag && (G.iceCredentials.remote[z.name] = {
								ufrag: V.ufrag,
								pwd: V.pwd
							})
						})),
						U.sdp.split('\r\n').forEach(function(z) {
							0 === z.indexOf('a=candidate:') && G._checkRemoteCandidate(z)
						}),
						G.pc.setRemoteDescription(new RTCSessionDescription(U), function() {
							G.wtFirefox && window.setTimeout(function() {
									G.firefoxcandidatebuffer.forEach(function(z) {
											G.pc.addIceCandidate(new RTCIceCandidate(z), function() {}, function(V) {
													G.emit('error', V)
												}),
												G._checkRemoteCandidate(z.candidate)
										}),
										G.firefoxcandidatebuffer = null
								}, G.wtFirefox),
								F(null)
						}, F)
				},
				M.prototype.close = function() {
					this.pc.close(),
						this._localDataChannels = [],
						this._remoteDataChannels = [],
						this.emit('close')
				},
				M.prototype._answer = function(U, F) {
					F = F || function() {};
					var G = this;
					if (!this.pc.remoteDescription) throw new Error('remoteDescription not set');
					return 'closed' === this.pc.signalingState ? F('Already closed') : void G.pc.createAnswer(function(z) {
						var V = [];
						if (G.enableChromeNativeSimulcast && (z.jingle = I.toSessionJSON(z.sdp, {
								role: G._role(),
								direction: 'outgoing'
							}), 2 <= z.jingle.contents.length && 'video' === z.jingle.contents[1].name)) {
							var q = z.jingle.contents[1].application.sourceGroups || [],
								H = !1;
							if (q.forEach(function(K) {
									'SIM' == K.semantics && (H = !0)
								}), !H && z.jingle.contents[1].application.sources.length) {
								var J = JSON.parse(JSON.stringify(z.jingle.contents[1].application.sources[0]));
								J.ssrc = '' + Math.floor(4294967295 * Math.random()),
									z.jingle.contents[1].application.sources.push(J),
									V.push(z.jingle.contents[1].application.sources[0].ssrc),
									V.push(J.ssrc),
									q.push({
										semantics: 'SIM',
										sources: V
									});
								var W = JSON.parse(JSON.stringify(J));
								W.ssrc = '' + Math.floor(4294967295 * Math.random()),
									z.jingle.contents[1].application.sources.push(W),
									q.push({
										semantics: 'FID',
										sources: [J.ssrc, W.ssrc]
									}),
									z.jingle.contents[1].application.sourceGroups = q,
									z.sdp = I.toSessionSDP(z.jingle, {
										sid: G.config.sdpSessionID,
										role: G._role(),
										direction: 'outgoing'
									})
							}
						}
						var X = {
							type: 'answer',
							sdp: z.sdp
						};
						if (G.assumeSetLocalSuccess) {
							var Y = N(X);
							G.emit('answer', Y),
								F(null, Y)
						}
						G._candidateBuffer = [],
							G.pc.setLocalDescription(z, function() {
								if (G.config.useJingle) {
									var K = I.toSessionJSON(z.sdp, {
										role: G._role(),
										direction: 'outgoing'
									});
									K.sid = G.config.sid,
										G.localDescription = K,
										X.jingle = K
								}
								if (G.enableChromeNativeSimulcast && (!X.jingle && (X.jingle = I.toSessionJSON(z.sdp, {
										role: G._role(),
										direction: 'outgoing'
									})), X.jingle.contents[1].application.sources.forEach(function(Q, ne) {
										Q.parameters = Q.parameters.map(function(ae) {
											return 'msid' === ae.key && (ae.value += '-' + Math.floor(ne / 2)),
												ae
										})
									}), X.sdp = I.toSessionSDP(X.jingle, {
										sid: G.sdpSessionID,
										role: G._role(),
										direction: 'outgoing'
									})), X.sdp.split('\r\n').forEach(function(Q) {
										0 === Q.indexOf('a=candidate:') && G._checkLocalCandidate(Q)
									}), !G.assumeSetLocalSuccess) {
									var Z = N(X);
									G.emit('answer', Z),
										F(null, Z)
								}
							}, function(K) {
								G.emit('error', K),
									F(K)
							})
					}, function(z) {
						G.emit('error', z),
							F(z)
					}, U)
				},
				M.prototype._onIce = function(U) {
					var F = this;
					if (U.candidate) {
						if (this.dontSignalCandidates) return;
						var G = U.candidate,
							z = {
								candidate: {
									candidate: G.candidate,
									sdpMid: G.sdpMid,
									sdpMLineIndex: G.sdpMLineIndex
								}
							};
						this._checkLocalCandidate(G.candidate);
						var V = I.toCandidateJSON(G.candidate),
							q, H;
						if (this.eliminateDuplicateCandidates && 'relay' === V.type && (q = this._candidateBuffer.filter(function(W) {
								return 'relay' === W.type
							}).map(function(W) {
								return W.foundation + ':' + W.component
							}), H = q.indexOf(V.foundation + ':' + V.component), -1 < H && V.priority >> 24 >= q[H].priority >> 24)) return;
						if ('max-bundle' === this.config.bundlePolicy && (q = this._candidateBuffer.filter(function(W) {
								return V.type === W.type
							}).map(function(W) {
								return W.address + ':' + W.port
							}), H = q.indexOf(V.address + ':' + V.port), -1 < H)) return;
						if ('require' === this.config.rtcpMuxPolicy && '2' === V.component) return;
						if (this._candidateBuffer.push(V), F.config.useJingle) {
							if (G.sdpMid || (F.pc.remoteDescription && 'offer' === F.pc.remoteDescription.type ? G.sdpMid = F.remoteDescription.contents[G.sdpMLineIndex].name : G.sdpMid = F.localDescription.contents[G.sdpMLineIndex].name), !F.iceCredentials.local[G.sdpMid]) {
								var J = I.toSessionJSON(F.pc.localDescription.sdp, {
									role: F._role(),
									direction: 'outgoing'
								});
								J.contents.forEach(function(W) {
									var X = W.transport || {};
									X.ufrag && (F.iceCredentials.local[W.name] = {
										ufrag: X.ufrag,
										pwd: X.pwd
									})
								})
							}
							if (z.jingle = {
									contents: [{
										name: G.sdpMid,
										creator: F._role(),
										transport: {
											transportType: 'iceUdp',
											ufrag: F.iceCredentials.local[G.sdpMid].ufrag,
											pwd: F.iceCredentials.local[G.sdpMid].pwd,
											candidates: [V]
										}
									}]
								}, 0 < F.batchIceCandidates) return 0 === F.batchedIceCandidates.length && window.setTimeout(function() {
									var W = {};
									F.batchedIceCandidates.forEach(function(Y) {
										Y = Y.contents[0],
											W[Y.name] || (W[Y.name] = Y),
											W[Y.name].transport.candidates.push(Y.transport.candidates[0])
									});
									var X = {
										jingle: {
											contents: []
										}
									};
									Object.keys(W).forEach(function(Y) {
											X.jingle.contents.push(W[Y])
										}),
										F.batchedIceCandidates = [],
										F.emit('ice', X)
								}, F.batchIceCandidates),
								void F.batchedIceCandidates.push(z.jingle)
						}
						this.emit('ice', z)
					} else this.emit('endOfCandidates')
				},
				M.prototype._onDataChannel = function(U) {
					var F = U.channel;
					this._remoteDataChannels.push(F),
						this.emit('addChannel', F)
				},
				M.prototype.createDataChannel = function(U, F) {
					var G = this.pc.createDataChannel(U, F);
					return this._localDataChannels.push(G),
						G
				},
				M.prototype.getStats = function() {
					if ('function' == typeof arguments[0]) {
						var U = arguments[0];
						this.pc.getStats().then(function(F) {
							U(null, F)
						}, function(F) {
							U(F)
						})
					} else return this.pc.getStats.apply(this.pc, arguments)
				},
				R.exports = M
		}, {
			'lodash.clonedeep': 45,
			'sdp-jingle-json': 54,
			util: 73,
			wildemitter: 75
		}],
		54: [function(P, R, D) {
			var M = P('./lib/tosdp'),
				A = P('./lib/tojson');
			D.toIncomingSDPOffer = function(I) {
					return M.toSessionSDP(I, {
						role: 'responder',
						direction: 'incoming'
					})
				},
				D.toOutgoingSDPOffer = function(I) {
					return M.toSessionSDP(I, {
						role: 'initiator',
						direction: 'outgoing'
					})
				},
				D.toIncomingSDPAnswer = function(I) {
					return M.toSessionSDP(I, {
						role: 'initiator',
						direction: 'incoming'
					})
				},
				D.toOutgoingSDPAnswer = function(I) {
					return M.toSessionSDP(I, {
						role: 'responder',
						direction: 'outgoing'
					})
				},
				D.toIncomingMediaSDPOffer = function(I) {
					return M.toMediaSDP(I, {
						role: 'responder',
						direction: 'incoming'
					})
				},
				D.toOutgoingMediaSDPOffer = function(I) {
					return M.toMediaSDP(I, {
						role: 'initiator',
						direction: 'outgoing'
					})
				},
				D.toIncomingMediaSDPAnswer = function(I) {
					return M.toMediaSDP(I, {
						role: 'initiator',
						direction: 'incoming'
					})
				},
				D.toOutgoingMediaSDPAnswer = function(I) {
					return M.toMediaSDP(I, {
						role: 'responder',
						direction: 'outgoing'
					})
				},
				D.toCandidateSDP = M.toCandidateSDP,
				D.toMediaSDP = M.toMediaSDP,
				D.toSessionSDP = M.toSessionSDP,
				D.toIncomingJSONOffer = function(I, B) {
					return A.toSessionJSON(I, {
						role: 'responder',
						direction: 'incoming',
						creators: B
					})
				},
				D.toOutgoingJSONOffer = function(I, B) {
					return A.toSessionJSON(I, {
						role: 'initiator',
						direction: 'outgoing',
						creators: B
					})
				},
				D.toIncomingJSONAnswer = function(I, B) {
					return A.toSessionJSON(I, {
						role: 'initiator',
						direction: 'incoming',
						creators: B
					})
				},
				D.toOutgoingJSONAnswer = function(I, B) {
					return A.toSessionJSON(I, {
						role: 'responder',
						direction: 'outgoing',
						creators: B
					})
				},
				D.toIncomingMediaJSONOffer = function(I, B) {
					return A.toMediaJSON(I, {
						role: 'responder',
						direction: 'incoming',
						creator: B
					})
				},
				D.toOutgoingMediaJSONOffer = function(I, B) {
					return A.toMediaJSON(I, {
						role: 'initiator',
						direction: 'outgoing',
						creator: B
					})
				},
				D.toIncomingMediaJSONAnswer = function(I, B) {
					return A.toMediaJSON(I, {
						role: 'initiator',
						direction: 'incoming',
						creator: B
					})
				},
				D.toOutgoingMediaJSONAnswer = function(I, B) {
					return A.toMediaJSON(I, {
						role: 'responder',
						direction: 'outgoing',
						creator: B
					})
				},
				D.toCandidateJSON = A.toCandidateJSON,
				D.toMediaJSON = A.toMediaJSON,
				D.toSessionJSON = A.toSessionJSON
		}, {
			'./lib/tojson': 57,
			'./lib/tosdp': 58
		}],
		55: [function(P, R, D) {
			D.lines = function(M) {
					return M.split('\r\n').filter(function(A) {
						return 0 < A.length
					})
				},
				D.findLine = function(M, A, I) {
					for (var B = M.length, N = 0; N < A.length; N++)
						if (A[N].substr(0, B) === M) return A[N];
					if (!I) return !1;
					for (var U = 0; U < I.length; U++)
						if (I[U].substr(0, B) === M) return I[U];
					return !1
				},
				D.findLines = function(M, A, I) {
					for (var B = [], N = M.length, U = 0; U < A.length; U++) A[U].substr(0, N) === M && B.push(A[U]);
					if (B.length || !I) return B;
					for (var F = 0; F < I.length; F++) I[F].substr(0, N) === M && B.push(I[F]);
					return B
				},
				D.mline = function(M) {
					for (var A = M.substr(2).split(' '), I = {
							media: A[0],
							port: A[1],
							proto: A[2],
							formats: []
						}, B = 3; B < A.length; B++) A[B] && I.formats.push(A[B]);
					return I
				},
				D.rtpmap = function(M) {
					var A = M.substr(9).split(' '),
						I = {
							id: A.shift()
						};
					return A = A[0].split('/'),
						I.name = A[0],
						I.clockrate = A[1],
						I.channels = 3 == A.length ? A[2] : '1',
						I
				},
				D.sctpmap = function(M) {
					var A = M.substr(10).split(' '),
						I = {
							number: A.shift(),
							protocol: A.shift(),
							streams: A.shift()
						};
					return I
				},
				D.fmtp = function(M) {
					for (var N = M.substr(M.indexOf(' ') + 1).split(';'), U = [], F = 0, A, I, B; F < N.length; F++) A = N[F].split('='),
						I = A[0].trim(),
						B = A[1],
						I && B ? U.push({
							key: I,
							value: B
						}) : I && U.push({
							key: '',
							value: I
						});
					return U
				},
				D.crypto = function(M) {
					var A = M.substr(9).split(' '),
						I = {
							tag: A[0],
							cipherSuite: A[1],
							keyParams: A[2],
							sessionParams: A.slice(3).join(' ')
						};
					return I
				},
				D.fingerprint = function(M) {
					var A = M.substr(14).split(' ');
					return {
						hash: A[0],
						value: A[1]
					}
				},
				D.extmap = function(M) {
					var A = M.substr(9).split(' '),
						I = {},
						B = A.shift(),
						N = B.indexOf('/');
					return 0 <= N ? (I.id = B.substr(0, N), I.senders = B.substr(N + 1)) : (I.id = B, I.senders = 'sendrecv'),
						I.uri = A.shift() || '',
						I
				},
				D.rtcpfb = function(M) {
					var A = M.substr(10).split(' '),
						I = {};
					return I.id = A.shift(),
						I.type = A.shift(), 'trr-int' === I.type ? I.value = A.shift() : I.subtype = A.shift() || '',
						I.parameters = A,
						I
				},
				D.candidate = function(M) {
					var A = 0 === M.indexOf('a=candidate:') ? M.substring(12).split(' ') : M.substring(10).split(' ');
					for (var I = {
							foundation: A[0],
							component: A[1],
							protocol: A[2].toLowerCase(),
							priority: A[3],
							ip: A[4],
							port: A[5],
							type: A[7],
							generation: '0'
						}, B = 8; B < A.length; B += 2) 'raddr' === A[B] ? I.relAddr = A[B + 1] : 'rport' === A[B] ? I.relPort = A[B + 1] : 'generation' === A[B] ? I.generation = A[B + 1] : 'tcptype' === A[B] && (I.tcpType = A[B + 1]);
					return I.network = '1',
						I
				},
				D.sourceGroups = function(M) {
					for (var A = [], I = 0, B; I < M.length; I++) B = M[I].substr(13).split(' '),
						A.push({
							semantics: B.shift(),
							sources: B
						});
					return A
				},
				D.sources = function(M) {
					for (var A = [], I = {}, B = 0; B < M.length; B++) {
						var N = M[B].substr(7).split(' '),
							U = N.shift();
						if (!I[U]) {
							var F = {
								ssrc: U,
								parameters: []
							};
							A.push(F),
								I[U] = F
						}
						N = N.join(' ').split(':');
						var G = N.shift(),
							z = N.join(':') || null;
						I[U].parameters.push({
							key: G,
							value: z
						})
					}
					return A
				},
				D.groups = function(M) {
					for (var A = [], B = 0, I; B < M.length; B++) I = M[B].substr(8).split(' '),
						A.push({
							semantics: I.shift(),
							contents: I
						});
					return A
				},
				D.bandwidth = function(M) {
					var A = M.substr(2).split(':'),
						I = {};
					return I.type = A.shift(),
						I.bandwidth = A.shift(),
						I
				},
				D.msid = function(M) {
					var A = M.substr(7),
						I = A.split(' ');
					return {
						msid: A,
						mslabel: I[0],
						label: I[1]
					}
				}
		}, {}],
		56: [function(P, R) {
			R.exports = {
				initiator: {
					incoming: {
						initiator: 'recvonly',
						responder: 'sendonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'initiator',
						sendonly: 'responder',
						sendrecv: 'both',
						inactive: 'none'
					},
					outgoing: {
						initiator: 'sendonly',
						responder: 'recvonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'responder',
						sendonly: 'initiator',
						sendrecv: 'both',
						inactive: 'none'
					}
				},
				responder: {
					incoming: {
						initiator: 'sendonly',
						responder: 'recvonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'responder',
						sendonly: 'initiator',
						sendrecv: 'both',
						inactive: 'none'
					},
					outgoing: {
						initiator: 'recvonly',
						responder: 'sendonly',
						both: 'sendrecv',
						none: 'inactive',
						recvonly: 'initiator',
						sendonly: 'responder',
						sendrecv: 'both',
						inactive: 'none'
					}
				}
			}
		}, {}],
		57: [function(P, R, D) {
			var M = P('./senders'),
				A = P('./parsers'),
				I = Math.random();
			D._setIdCounter = function(B) {
					I = B
				},
				D.toSessionJSON = function(B, N) {
					var F = N.creators || [],
						G = N.role || 'initiator',
						z = N.direction || 'outgoing',
						V = B.split('\r\nm='),
						U;
					for (U = 1; U < V.length; U++) V[U] = 'm=' + V[U],
						U !== V.length - 1 && (V[U] += '\r\n');
					var q = V.shift() + '\r\n',
						H = A.lines(q),
						J = {},
						W = [];
					for (U = 0; U < V.length; U++) W.push(D.toMediaJSON(V[U], q, {
						role: G,
						direction: z,
						creator: F[U] || 'initiator'
					}));
					J.contents = W;
					var X = A.findLines('a=group:', H);
					return X.length && (J.groups = A.groups(X)),
						J
				},
				D.toMediaJSON = function(B, N, U) {
					var F = U.creator || 'initiator',
						G = U.role || 'initiator',
						z = U.direction || 'outgoing',
						V = A.lines(B),
						q = A.lines(N),
						H = A.mline(V[0]),
						J = {
							creator: F,
							name: H.media,
							application: {
								applicationType: 'rtp',
								media: H.media,
								payloads: [],
								encryption: [],
								feedback: [],
								headerExtensions: []
							},
							transport: {
								transportType: 'iceUdp',
								candidates: [],
								fingerprints: []
							}
						};
					'application' == H.media && (J.application = {
						applicationType: 'datachannel'
					}, J.transport.sctp = []);
					var W = J.application,
						X = J.transport,
						Y = A.findLine('a=mid:', V);
					if (Y && (J.name = Y.substr(6)), A.findLine('a=sendrecv', V, q) ? J.senders = 'both' : A.findLine('a=sendonly', V, q) ? J.senders = M[G][z].sendonly : A.findLine('a=recvonly', V, q) ? J.senders = M[G][z].recvonly : A.findLine('a=inactive', V, q) && (J.senders = 'none'), 'rtp' == W.applicationType) {
						var K = A.findLine('b=', V);
						K && (W.bandwidth = A.bandwidth(K));
						var Z = A.findLine('a=ssrc:', V);
						Z && (W.ssrc = Z.substr(7).split(' ')[0]);
						var Q = A.findLines('a=rtpmap:', V);
						Q.forEach(function(ye) {
							var be = A.rtpmap(ye);
							be.parameters = [],
								be.feedback = [];
							var ve = A.findLines('a=fmtp:' + be.id, V);
							ve.forEach(function(Ce) {
								be.parameters = A.fmtp(Ce)
							});
							var ke = A.findLines('a=rtcp-fb:' + be.id, V);
							ke.forEach(function(Ce) {
									be.feedback.push(A.rtcpfb(Ce))
								}),
								W.payloads.push(be)
						});
						var ne = A.findLines('a=crypto:', V, q);
						ne.forEach(function(ye) {
								W.encryption.push(A.crypto(ye))
							}),
							A.findLine('a=rtcp-mux', V) && (W.mux = !0);
						var ae = A.findLines('a=rtcp-fb:*', V);
						ae.forEach(function(ye) {
							W.feedback.push(A.rtcpfb(ye))
						});
						var oe = A.findLines('a=extmap:', V);
						oe.forEach(function(ye) {
							var be = A.extmap(ye);
							be.senders = M[G][z][be.senders],
								W.headerExtensions.push(be)
						});
						var ie = A.findLines('a=ssrc-group:', V);
						W.sourceGroups = A.sourceGroups(ie || []);
						var se = A.findLines('a=ssrc:', V),
							de = W.sources = A.sources(se || []),
							ce = A.findLine('a=msid:', V);
						if (ce) {
							var pe = A.msid(ce);
							['msid', 'mslabel', 'label'].forEach(function(ye) {
								for (var be = 0, ve; be < de.length; be++) {
									ve = !1;
									for (var ke = 0; ke < de[be].parameters.length; ke++) de[be].parameters[ke].key === ye && (ve = !0);
									ve || de[be].parameters.push({
										key: ye,
										value: pe[ye]
									})
								}
							})
						}
						A.findLine('a=x-google-flag:conference', V, q) && (W.googConferenceFlag = !0)
					}
					var le = A.findLines('a=fingerprint:', V, q),
						ue = A.findLine('a=setup:', V, q);
					le.forEach(function(ye) {
						var be = A.fingerprint(ye);
						ue && (be.setup = ue.substr(8)),
							X.fingerprints.push(be)
					});
					var me = A.findLine('a=ice-ufrag:', V, q),
						fe = A.findLine('a=ice-pwd:', V, q);
					if (me && fe) {
						X.ufrag = me.substr(12),
							X.pwd = fe.substr(10),
							X.candidates = [];
						var ge = A.findLines('a=candidate:', V, q);
						ge.forEach(function(ye) {
							X.candidates.push(D.toCandidateJSON(ye))
						})
					}
					if ('datachannel' == W.applicationType) {
						var he = A.findLines('a=sctpmap:', V);
						he.forEach(function(ye) {
							var be = A.sctpmap(ye);
							X.sctp.push(be)
						})
					}
					return J
				},
				D.toCandidateJSON = function(B) {
					var N = A.candidate(B.split('\r\n')[0]);
					return N.id = (I++).toString(36).substr(0, 12),
						N
				}
		}, {
			'./parsers': 55,
			'./senders': 56
		}],
		58: [function(P, R, D) {
			var M = P('./senders');
			D.toSessionSDP = function(A, I) {
					var B = I.role || 'initiator',
						N = I.direction || 'outgoing',
						U = I.sid || A.sid || Date.now(),
						F = I.time || Date.now(),
						G = ['v=0', 'o=- ' + U + ' ' + F + ' IN IP4 0.0.0.0', 's=-', 't=0 0'],
						z = A.contents || [],
						V = !1;
					z.forEach(function(H) {
							H.application.sources && H.application.sources.length && (V = !0)
						}),
						V && G.push('a=msid-semantic: WMS *');
					var q = A.groups || [];
					return q.forEach(function(H) {
							G.push('a=group:' + H.semantics + ' ' + H.contents.join(' '))
						}),
						z.forEach(function(H) {
							G.push(D.toMediaSDP(H, I))
						}),
						G.join('\r\n') + '\r\n'
				},
				D.toMediaSDP = function(A, I) {
					var B = [],
						N = I.role || 'initiator',
						U = I.direction || 'outgoing',
						F = A.application,
						G = A.transport,
						z = F.payloads || [],
						V = G && G.fingerprints || [],
						q = [];
					if ('datachannel' == F.applicationType ? (q.push('application'), q.push('1'), q.push('DTLS/SCTP'), G.sctp && G.sctp.forEach(function(Z) {
							q.push(Z.number)
						})) : (q.push(F.media), q.push('1'), 0 < V.length ? q.push('UDP/TLS/RTP/SAVPF') : F.encryption && 0 < F.encryption.length ? q.push('RTP/SAVPF') : q.push('RTP/AVPF'), z.forEach(function(Z) {
							q.push(Z.id)
						})), B.push('m=' + q.join(' ')), B.push('c=IN IP4 0.0.0.0'), F.bandwidth && F.bandwidth.type && F.bandwidth.bandwidth && B.push('b=' + F.bandwidth.type + ':' + F.bandwidth.bandwidth), 'rtp' == F.applicationType && B.push('a=rtcp:1 IN IP4 0.0.0.0'), G) {
						G.ufrag && B.push('a=ice-ufrag:' + G.ufrag),
							G.pwd && B.push('a=ice-pwd:' + G.pwd);
						V.forEach(function(Z) {
								B.push('a=fingerprint:' + Z.hash + ' ' + Z.value),
									Z.setup && !!1 && B.push('a=setup:' + Z.setup)
							}),
							G.sctp && G.sctp.forEach(function(Z) {
								B.push('a=sctpmap:' + Z.number + ' ' + Z.protocol + ' ' + Z.streams)
							})
					}
					'rtp' == F.applicationType && B.push('a=' + (M[N][U][A.senders] || 'sendrecv')),
						B.push('a=mid:' + A.name),
						F.sources && F.sources.length && (F.sources[0].parameters || []).forEach(function(Z) {
							'msid' === Z.key && B.push('a=msid:' + Z.value)
						}),
						F.mux && B.push('a=rtcp-mux');
					var J = F.encryption || [];
					J.forEach(function(Z) {
							B.push('a=crypto:' + Z.tag + ' ' + Z.cipherSuite + ' ' + Z.keyParams + (Z.sessionParams ? ' ' + Z.sessionParams : ''))
						}),
						F.googConferenceFlag && B.push('a=x-google-flag:conference'),
						z.forEach(function(Z) {
							var Q = 'a=rtpmap:' + Z.id + ' ' + Z.name + '/' + Z.clockrate;
							if (Z.channels && '1' != Z.channels && (Q += '/' + Z.channels), B.push(Q), Z.parameters && Z.parameters.length) {
								var ne = ['a=fmtp:' + Z.id],
									ae = [];
								Z.parameters.forEach(function(oe) {
										ae.push((oe.key ? oe.key + '=' : '') + oe.value)
									}),
									ne.push(ae.join(';')),
									B.push(ne.join(' '))
							}
							Z.feedback && Z.feedback.forEach(function(oe) {
								'trr-int' === oe.type ? B.push('a=rtcp-fb:' + Z.id + ' trr-int ' + (oe.value ? oe.value : '0')) : B.push('a=rtcp-fb:' + Z.id + ' ' + oe.type + (oe.subtype ? ' ' + oe.subtype : ''))
							})
						}),
						F.feedback && F.feedback.forEach(function(Z) {
							'trr-int' === Z.type ? B.push('a=rtcp-fb:* trr-int ' + (Z.value ? Z.value : '0')) : B.push('a=rtcp-fb:* ' + Z.type + (Z.subtype ? ' ' + Z.subtype : ''))
						});
					var W = F.headerExtensions || [];
					W.forEach(function(Z) {
						B.push('a=extmap:' + Z.id + (Z.senders ? '/' + M[N][U][Z.senders] : '') + ' ' + Z.uri)
					});
					var X = F.sourceGroups || [];
					X.forEach(function(Z) {
						B.push('a=ssrc-group:' + Z.semantics + ' ' + Z.sources.join(' '))
					});
					var Y = F.sources || [];
					Y.forEach(function(Z) {
						for (var Q = 0, ne; Q < Z.parameters.length; Q++) ne = Z.parameters[Q],
							B.push('a=ssrc:' + (Z.ssrc || F.ssrc) + ' ' + ne.key + (ne.value ? ':' + ne.value : ''))
					});
					var K = G.candidates || [];
					return K.forEach(function(Z) {
							B.push(D.toCandidateSDP(Z))
						}),
						B.join('\r\n')
				},
				D.toCandidateSDP = function(A) {
					var I = [A.foundation, A.component, A.protocol.toUpperCase(), A.priority, A.ip, A.port],
						B = A.type;
					return I.push('typ'),
						I.push(B), ('srflx' === B || 'prflx' === B || 'relay' === B) && A.relAddr && A.relPort && (I.push('raddr'), I.push(A.relAddr), I.push('rport'), I.push(A.relPort)),
						A.tcpType && 'TCP' == A.protocol.toUpperCase() && (I.push('tcptype'), I.push(A.tcpType)),
						I.push('generation'),
						I.push(A.generation || '0'), 'a=candidate:' + I.join(' ')
				}
		}, {
			'./senders': 56
		}],
		59: [function(P, R) {
			'use strict';
			var M = {};
			M.generateIdentifier = function() {
					return Math.random().toString(36).substr(2, 10)
				},
				M.localCName = M.generateIdentifier(),
				M.splitLines = function(A) {
					return A.trim().split('\n').map(function(I) {
						return I.trim()
					})
				},
				M.splitSections = function(A) {
					var I = A.split('\nm=');
					return I.map(function(B, N) {
						return (0 < N ? 'm=' + B : B).trim() + '\r\n'
					})
				},
				M.matchPrefix = function(A, I) {
					return M.splitLines(A).filter(function(B) {
						return 0 === B.indexOf(I)
					})
				},
				M.parseCandidate = function(A) {
					var I = 0 === A.indexOf('a=candidate:') ? A.substring(12).split(' ') : A.substring(10).split(' ');
					for (var B = {
							foundation: I[0],
							component: I[1],
							protocol: I[2].toLowerCase(),
							priority: parseInt(I[3], 10),
							ip: I[4],
							port: parseInt(I[5], 10),
							type: I[7]
						}, N = 8; N < I.length; N += 2) switch (I[N]) {
						case 'raddr':
							B.relatedAddress = I[N + 1];
							break;
						case 'rport':
							B.relatedPort = parseInt(I[N + 1], 10);
							break;
						case 'tcptype':
							B.tcpType = I[N + 1];
							break;
						default:
							B[I[N]] = I[N + 1];
					}
					return B
				},
				M.writeCandidate = function(A) {
					var I = [A.foundation, A.component, A.protocol.toUpperCase(), A.priority, A.ip, A.port],
						B = A.type;
					return I.push('typ'),
						I.push(B), 'host' !== B && A.relatedAddress && A.relatedPort && (I.push('raddr'), I.push(A.relatedAddress), I.push('rport'), I.push(A.relatedPort)),
						A.tcpType && 'tcp' === A.protocol.toLowerCase() && (I.push('tcptype'), I.push(A.tcpType)), 'candidate:' + I.join(' ')
				},
				M.parseIceOptions = function(A) {
					return A.substr(14).split(' ')
				},
				M.parseRtpMap = function(A) {
					var I = A.substr(9).split(' '),
						B = {
							payloadType: parseInt(I.shift(), 10)
						};
					return I = I[0].split('/'),
						B.name = I[0],
						B.clockRate = parseInt(I[1], 10),
						B.numChannels = 3 === I.length ? parseInt(I[2], 10) : 1,
						B
				},
				M.writeRtpMap = function(A) {
					var I = A.payloadType;
					return void 0 !== A.preferredPayloadType && (I = A.preferredPayloadType), 'a=rtpmap:' + I + ' ' + A.name + '/' + A.clockRate + (1 === A.numChannels ? '' : '/' + A.numChannels) + '\r\n'
				},
				M.parseExtmap = function(A) {
					var I = A.substr(9).split(' ');
					return {
						id: parseInt(I[0], 10),
						direction: 0 < I[0].indexOf('/') ? I[0].split('/')[1] : 'sendrecv',
						uri: I[1]
					}
				},
				M.writeExtmap = function(A) {
					return 'a=extmap:' + (A.id || A.preferredId) + (A.direction && 'sendrecv' !== A.direction ? '/' + A.direction : '') + ' ' + A.uri + '\r\n'
				},
				M.parseFmtp = function(A) {
					for (var I = {}, N = A.substr(A.indexOf(' ') + 1).split(';'), U = 0, B; U < N.length; U++) B = N[U].trim().split('='),
						I[B[0].trim()] = B[1];
					return I
				},
				M.writeFmtp = function(A) {
					var I = '',
						B = A.payloadType;
					if (void 0 !== A.preferredPayloadType && (B = A.preferredPayloadType), A.parameters && Object.keys(A.parameters).length) {
						var N = [];
						Object.keys(A.parameters).forEach(function(U) {
								N.push(U + '=' + A.parameters[U])
							}),
							I += 'a=fmtp:' + B + ' ' + N.join(';') + '\r\n'
					}
					return I
				},
				M.parseRtcpFb = function(A) {
					var I = A.substr(A.indexOf(' ') + 1).split(' ');
					return {
						type: I.shift(),
						parameter: I.join(' ')
					}
				},
				M.writeRtcpFb = function(A) {
					var I = '',
						B = A.payloadType;
					return void 0 !== A.preferredPayloadType && (B = A.preferredPayloadType),
						A.rtcpFeedback && A.rtcpFeedback.length && A.rtcpFeedback.forEach(function(N) {
							I += 'a=rtcp-fb:' + B + ' ' + N.type + (N.parameter && N.parameter.length ? ' ' + N.parameter : '') + '\r\n'
						}),
						I
				},
				M.parseSsrcMedia = function(A) {
					var I = A.indexOf(' '),
						B = {
							ssrc: parseInt(A.substr(7, I - 7), 10)
						},
						N = A.indexOf(':', I);
					return -1 < N ? (B.attribute = A.substr(I + 1, N - I - 1), B.value = A.substr(N + 1)) : B.attribute = A.substr(I + 1),
						B
				},
				M.getMid = function(A) {
					var I = M.matchPrefix(A, 'a=mid:')[0];
					if (I) return I.substr(6)
				},
				M.parseFingerprint = function(A) {
					var I = A.substr(14).split(' ');
					return {
						algorithm: I[0].toLowerCase(),
						value: I[1]
					}
				},
				M.getDtlsParameters = function(A, I) {
					var B = M.matchPrefix(A + I, 'a=fingerprint:');
					return {
						role: 'auto',
						fingerprints: B.map(M.parseFingerprint)
					}
				},
				M.writeDtlsParameters = function(A, I) {
					var B = 'a=setup:' + I + '\r\n';
					return A.fingerprints.forEach(function(N) {
							B += 'a=fingerprint:' + N.algorithm + ' ' + N.value + '\r\n'
						}),
						B
				},
				M.getIceParameters = function(A, I) {
					var B = M.splitLines(A);
					B = B.concat(M.splitLines(I));
					var N = {
						usernameFragment: B.filter(function(U) {
							return 0 === U.indexOf('a=ice-ufrag:')
						})[0].substr(12),
						password: B.filter(function(U) {
							return 0 === U.indexOf('a=ice-pwd:')
						})[0].substr(10)
					};
					return N
				},
				M.writeIceParameters = function(A) {
					return 'a=ice-ufrag:' + A.usernameFragment + '\r\na=ice-pwd:' + A.password + '\r\n'
				},
				M.parseRtpParameters = function(A) {
					for (var I = {
							codecs: [],
							headerExtensions: [],
							fecMechanisms: [],
							rtcp: []
						}, B = M.splitLines(A), N = B[0].split(' '), U = 3; U < N.length; U++) {
						var F = N[U],
							G = M.matchPrefix(A, 'a=rtpmap:' + F + ' ')[0];
						if (G) {
							var z = M.parseRtpMap(G),
								V = M.matchPrefix(A, 'a=fmtp:' + F + ' ');
							switch (z.parameters = V.length ? M.parseFmtp(V[0]) : {}, z.rtcpFeedback = M.matchPrefix(A, 'a=rtcp-fb:' + F + ' ').map(M.parseRtcpFb), I.codecs.push(z), z.name.toUpperCase()) {
								case 'RED':
								case 'ULPFEC':
									I.fecMechanisms.push(z.name.toUpperCase());
									break;
								default:
							}
						}
					}
					return M.matchPrefix(A, 'a=extmap:').forEach(function(q) {
							I.headerExtensions.push(M.parseExtmap(q))
						}),
						I
				},
				M.writeRtpDescription = function(A, I) {
					var B = '';
					B += 'm=' + A + ' ',
						B += 0 < I.codecs.length ? '9' : '0',
						B += ' UDP/TLS/RTP/SAVPF ',
						B += I.codecs.map(function(U) {
							return void 0 === U.preferredPayloadType ? U.payloadType : U.preferredPayloadType
						}).join(' ') + '\r\n',
						B += 'c=IN IP4 0.0.0.0\r\n',
						B += 'a=rtcp:9 IN IP4 0.0.0.0\r\n',
						I.codecs.forEach(function(U) {
							B += M.writeRtpMap(U),
								B += M.writeFmtp(U),
								B += M.writeRtcpFb(U)
						});
					var N = 0;
					return I.codecs.forEach(function(U) {
							U.maxptime > N && (N = U.maxptime)
						}),
						0 < N && (B += 'a=maxptime:' + N + '\r\n'),
						B += 'a=rtcp-mux\r\n',
						I.headerExtensions.forEach(function(U) {
							B += M.writeExtmap(U)
						}),
						B
				},
				M.parseRtpEncodingParameters = function(A) {
					var I = [],
						B = M.parseRtpParameters(A),
						N = -1 !== B.fecMechanisms.indexOf('RED'),
						U = -1 !== B.fecMechanisms.indexOf('ULPFEC'),
						F = M.matchPrefix(A, 'a=ssrc:').map(function(H) {
							return M.parseSsrcMedia(H)
						}).filter(function(H) {
							return 'cname' === H.attribute
						}),
						G = 0 < F.length && F[0].ssrc,
						V = M.matchPrefix(A, 'a=ssrc-group:FID').map(function(H) {
							var J = H.split(' ');
							return J.shift(),
								J.map(function(W) {
									return parseInt(W, 10)
								})
						}),
						z;
					0 < V.length && 1 < V[0].length && V[0][0] === G && (z = V[0][1]),
						B.codecs.forEach(function(H) {
							if ('RTX' === H.name.toUpperCase() && H.parameters.apt) {
								var J = {
									ssrc: G,
									codecPayloadType: parseInt(H.parameters.apt, 10),
									rtx: {
										ssrc: z
									}
								};
								I.push(J),
									N && (J = JSON.parse(JSON.stringify(J)), J.fec = {
										ssrc: z,
										mechanism: U ? 'red+ulpfec' : 'red'
									}, I.push(J))
							}
						}),
						0 === I.length && G && I.push({
							ssrc: G
						});
					var q = M.matchPrefix(A, 'b=');
					return q.length && (0 === q[0].indexOf('b=TIAS:') ? q = parseInt(q[0].substr(7), 10) : 0 === q[0].indexOf('b=AS:') && (q = parseInt(q[0].substr(5), 10)), I.forEach(function(H) {
							H.maxBitrate = q
						})),
						I
				},
				M.parseRtcpParameters = function(A) {
					var I = {},
						N = M.matchPrefix(A, 'a=ssrc:').map(function(G) {
							return M.parseSsrcMedia(G)
						}).filter(function(G) {
							return 'cname' === G.attribute
						})[0];
					N && (I.cname = N.value, I.ssrc = N.ssrc);
					var U = M.matchPrefix(A, 'a=rtcp-rsize');
					I.reducedSize = 0 < U.length,
						I.compound = 0 === U.length;
					var F = M.matchPrefix(A, 'a=rtcp-mux');
					return I.mux = 0 < F.length,
						I
				},
				M.parseMsid = function(A) {
					var I, B = M.matchPrefix(A, 'a=msid:');
					if (1 === B.length) return I = B[0].substr(7).split(' '), {
						stream: I[0],
						track: I[1]
					};
					var N = M.matchPrefix(A, 'a=ssrc:').map(function(U) {
						return M.parseSsrcMedia(U)
					}).filter(function(U) {
						return 'msid' === U.attribute
					});
					if (0 < N.length) return I = N[0].value.split(' '), {
						stream: I[0],
						track: I[1]
					}
				},
				M.writeSessionBoilerplate = function() {
					return 'v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n'
				},
				M.writeMediaSection = function(A, I, B, N) {
					var U = M.writeRtpDescription(A.kind, I);
					if (U += M.writeIceParameters(A.iceGatherer.getLocalParameters()), U += M.writeDtlsParameters(A.dtlsTransport.getLocalParameters(), 'offer' === B ? 'actpass' : 'active'), U += 'a=mid:' + A.mid + '\r\n', U += A.direction ? 'a=' + A.direction + '\r\n' : A.rtpSender && A.rtpReceiver ? 'a=sendrecv\r\n' : A.rtpSender ? 'a=sendonly\r\n' : A.rtpReceiver ? 'a=recvonly\r\n' : 'a=inactive\r\n', A.rtpSender) {
						var F = 'msid:' + N.id + ' ' + A.rtpSender.track.id + '\r\n';
						U += 'a=' + F,
							U += 'a=ssrc:' + A.sendEncodingParameters[0].ssrc + ' ' + F,
							A.sendEncodingParameters[0].rtx && (U += 'a=ssrc:' + A.sendEncodingParameters[0].rtx.ssrc + ' ' + F, U += 'a=ssrc-group:FID ' + A.sendEncodingParameters[0].ssrc + ' ' + A.sendEncodingParameters[0].rtx.ssrc + '\r\n')
					}
					return U += 'a=ssrc:' + A.sendEncodingParameters[0].ssrc + ' cname:' + M.localCName + '\r\n',
						A.rtpSender && A.sendEncodingParameters[0].rtx && (U += 'a=ssrc:' + A.sendEncodingParameters[0].rtx.ssrc + ' cname:' + M.localCName + '\r\n'),
						U
				},
				M.getDirection = function(A, I) {
					for (var B = M.splitLines(A), N = 0; N < B.length; N++) switch (B[N]) {
						case 'a=sendrecv':
						case 'a=sendonly':
						case 'a=recvonly':
						case 'a=inactive':
							return B[N].substr(2);
						default:
					}
					return I ? M.getDirection(I) : 'sendrecv'
				},
				M.getKind = function(A) {
					var I = M.splitLines(A),
						B = I[0].split(' ');
					return B[0].substr(2)
				},
				M.isRejected = function(A) {
					return '0' === A.split(' ', 2)[1]
				},
				R.exports = M
		}, {}],
		60: [function(P, R) {
			R.exports = P('./lib/')
		}, {
			'./lib/': 61
		}],
		61: [function(P, R, D) {
			function M(F, G) {
				'object' == typeof F && (G = F, F = void 0),
					G = G || {};
				var z = A(F),
					V = z.source,
					q = z.id,
					H;
				return G.forceNew || G['force new connection'] || !1 === G.multiplex ? (N('ignoring socket cache for %s', V), H = B(V, G)) : (!U[q] && (N('new io instance for %s', V), U[q] = B(V, G)), H = U[q]),
					H.socket(z.path)
			}
			var A = P('./url'),
				I = P('socket.io-parser'),
				B = P('./manager'),
				N = P('debug')('socket.io-client');
			R.exports = D = M;
			var U = D.managers = {};
			D.protocol = I.protocol,
				D.connect = M,
				D.Manager = P('./manager'),
				D.Socket = P('./socket')
		}, {
			'./manager': 62,
			'./socket': 64,
			'./url': 65,
			debug: 19,
			'socket.io-parser': 67
		}],
		62: [function(P, R) {
			function M(J, W) {
				return this instanceof M ? void(J && 'object' == typeof J && (W = J, J = void 0), W = W || {}, W.path = W.path || '/socket.io', this.nsps = {}, this.subs = [], this.opts = W, this.reconnection(!1 !== W.reconnection), this.reconnectionAttempts(W.reconnectionAttempts || Infinity), this.reconnectionDelay(W.reconnectionDelay || 1e3), this.reconnectionDelayMax(W.reconnectionDelayMax || 5e3), this.randomizationFactor(W.randomizationFactor || 0.5), this.backoff = new H({
					min: this.reconnectionDelay(),
					max: this.reconnectionDelayMax(),
					jitter: this.randomizationFactor()
				}), this.timeout(null == W.timeout ? 2e4 : W.timeout), this.readyState = 'closed', this.uri = J, this.connected = [], this.encoding = !1, this.packetBuffer = [], this.encoder = new U.Encoder, this.decoder = new U.Decoder, this.autoConnect = !1 !== W.autoConnect, this.autoConnect && this.open()) : new M(J, W)
			}
			var A = P('./url'),
				I = P('engine.io-client'),
				B = P('./socket'),
				N = P('component-emitter'),
				U = P('socket.io-parser'),
				F = P('./on'),
				G = P('component-bind'),
				z = P('object-component'),
				V = P('debug')('socket.io-client:manager'),
				q = P('indexof'),
				H = P('backo2');
			R.exports = M,
				M.prototype.emitAll = function() {
					for (var J in this.emit.apply(this, arguments),
							this.nsps) this.nsps[J].emit.apply(this.nsps[J], arguments)
				},
				M.prototype.updateSocketIds = function() {
					for (var J in this.nsps) this.nsps[J].id = this.engine.id
				},
				N(M.prototype),
				M.prototype.reconnection = function(J) {
					return arguments.length ? (this._reconnection = !!J, this) : this._reconnection
				},
				M.prototype.reconnectionAttempts = function(J) {
					return arguments.length ? (this._reconnectionAttempts = J, this) : this._reconnectionAttempts
				},
				M.prototype.reconnectionDelay = function(J) {
					return arguments.length ? (this._reconnectionDelay = J, this.backoff && this.backoff.setMin(J), this) : this._reconnectionDelay
				},
				M.prototype.randomizationFactor = function(J) {
					return arguments.length ? (this._randomizationFactor = J, this.backoff && this.backoff.setJitter(J), this) : this._randomizationFactor
				},
				M.prototype.reconnectionDelayMax = function(J) {
					return arguments.length ? (this._reconnectionDelayMax = J, this.backoff && this.backoff.setMax(J), this) : this._reconnectionDelayMax
				},
				M.prototype.timeout = function(J) {
					return arguments.length ? (this._timeout = J, this) : this._timeout
				},
				M.prototype.maybeReconnectOnOpen = function() {
					!this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect()
				},
				M.prototype.open = M.prototype.connect = function(J) {
					if (V('readyState %s', this.readyState), ~this.readyState.indexOf('open')) return this;
					V('opening %s', this.uri),
						this.engine = I(this.uri, this.opts);
					var W = this.engine,
						X = this;
					this.readyState = 'opening',
						this.skipReconnect = !1;
					var Y = F(W, 'open', function() {
							X.onopen(),
								J && J()
						}),
						K = F(W, 'error', function(ne) {
							if (V('connect_error'), X.cleanup(), X.readyState = 'closed', X.emitAll('connect_error', ne), J) {
								var ae = new Error('Connection error');
								ae.data = ne,
									J(ae)
							} else X.maybeReconnectOnOpen()
						});
					if (!1 !== this._timeout) {
						var Z = this._timeout;
						V('connect attempt will timeout after %d', Z);
						var Q = setTimeout(function() {
							V('connect attempt timed out after %d', Z),
								Y.destroy(),
								W.close(),
								W.emit('error', 'timeout'),
								X.emitAll('connect_timeout', Z)
						}, Z);
						this.subs.push({
							destroy: function() {
								clearTimeout(Q)
							}
						})
					}
					return this.subs.push(Y),
						this.subs.push(K),
						this
				},
				M.prototype.onopen = function() {
					V('open'),
						this.cleanup(),
						this.readyState = 'open',
						this.emit('open');
					var J = this.engine;
					this.subs.push(F(J, 'data', G(this, 'ondata'))),
						this.subs.push(F(this.decoder, 'decoded', G(this, 'ondecoded'))),
						this.subs.push(F(J, 'error', G(this, 'onerror'))),
						this.subs.push(F(J, 'close', G(this, 'onclose')))
				},
				M.prototype.ondata = function(J) {
					this.decoder.add(J)
				},
				M.prototype.ondecoded = function(J) {
					this.emit('packet', J)
				},
				M.prototype.onerror = function(J) {
					V('error', J),
						this.emitAll('error', J)
				},
				M.prototype.socket = function(J) {
					var W = this.nsps[J];
					if (!W) {
						W = new B(this, J),
							this.nsps[J] = W;
						var X = this;
						W.on('connect', function() {
							W.id = X.engine.id, ~q(X.connected, W) || X.connected.push(W)
						})
					}
					return W
				},
				M.prototype.destroy = function(J) {
					var W = q(this.connected, J);
					~W && this.connected.splice(W, 1);
					this.connected.length || this.close()
				},
				M.prototype.packet = function(J) {
					V('writing packet %j', J);
					var W = this;
					W.encoding ? W.packetBuffer.push(J) : (W.encoding = !0, this.encoder.encode(J, function(X) {
						for (var Y = 0; Y < X.length; Y++) W.engine.write(X[Y]);
						W.encoding = !1,
							W.processPacketQueue()
					}))
				},
				M.prototype.processPacketQueue = function() {
					if (0 < this.packetBuffer.length && !this.encoding) {
						var J = this.packetBuffer.shift();
						this.packet(J)
					}
				},
				M.prototype.cleanup = function() {
					for (var J; J = this.subs.shift();) J.destroy();
					this.packetBuffer = [],
						this.encoding = !1,
						this.decoder.destroy()
				},
				M.prototype.close = M.prototype.disconnect = function() {
					this.skipReconnect = !0,
						this.backoff.reset(),
						this.readyState = 'closed',
						this.engine && this.engine.close()
				},
				M.prototype.onclose = function(J) {
					V('close'),
						this.cleanup(),
						this.backoff.reset(),
						this.readyState = 'closed',
						this.emit('close', J),
						this._reconnection && !this.skipReconnect && this.reconnect()
				},
				M.prototype.reconnect = function() {
					if (this.reconnecting || this.skipReconnect) return this;
					var J = this;
					if (this.backoff.attempts >= this._reconnectionAttempts) V('reconnect failed'),
						this.backoff.reset(),
						this.emitAll('reconnect_failed'),
						this.reconnecting = !1;
					else {
						var W = this.backoff.duration();
						V('will wait %dms before reconnect attempt', W),
							this.reconnecting = !0;
						var X = setTimeout(function() {
							J.skipReconnect || (V('attempting reconnect'), J.emitAll('reconnect_attempt', J.backoff.attempts), J.emitAll('reconnecting', J.backoff.attempts), J.skipReconnect || J.open(function(Y) {
								Y ? (V('reconnect attempt error'), J.reconnecting = !1, J.reconnect(), J.emitAll('reconnect_error', Y.data)) : (V('reconnect success'), J.onreconnect())
							}))
						}, W);
						this.subs.push({
							destroy: function() {
								clearTimeout(X)
							}
						})
					}
				},
				M.prototype.onreconnect = function() {
					var J = this.backoff.attempts;
					this.reconnecting = !1,
						this.backoff.reset(),
						this.updateSocketIds(),
						this.emitAll('reconnect', J)
				}
		}, {
			'./on': 63,
			'./socket': 64,
			'./url': 65,
			backo2: 13,
			'component-bind': 16,
			'component-emitter': 17,
			debug: 19,
			'engine.io-client': 20,
			indexof: 41,
			'object-component': 48,
			'socket.io-parser': 67
		}],
		63: [function(P, R) {
			R.exports = function(A, I, B) {
				return A.on(I, B), {
					destroy: function() {
						A.removeListener(I, B)
					}
				}
			}
		}, {}],
		64: [function(P, R, D) {
			function M(q, H) {
				this.io = q,
					this.nsp = H,
					this.json = this,
					this.ids = 0,
					this.acks = {},
					this.io.autoConnect && this.open(),
					this.receiveBuffer = [],
					this.sendBuffer = [],
					this.connected = !1,
					this.disconnected = !0
			}
			var A = P('socket.io-parser'),
				I = P('component-emitter'),
				B = P('to-array'),
				N = P('./on'),
				U = P('component-bind'),
				F = P('debug')('socket.io-client:socket'),
				G = P('has-binary');
			R.exports = D = M;
			var z = {
					connect: 1,
					connect_error: 1,
					connect_timeout: 1,
					disconnect: 1,
					error: 1,
					reconnect: 1,
					reconnect_attempt: 1,
					reconnect_failed: 1,
					reconnect_error: 1,
					reconnecting: 1
				},
				V = I.prototype.emit;
			I(M.prototype),
				M.prototype.subEvents = function() {
					if (!this.subs) {
						var q = this.io;
						this.subs = [N(q, 'open', U(this, 'onopen')), N(q, 'packet', U(this, 'onpacket')), N(q, 'close', U(this, 'onclose'))]
					}
				},
				M.prototype.open = M.prototype.connect = function() {
					return this.connected ? this : (this.subEvents(), this.io.open(), 'open' == this.io.readyState && this.onopen(), this)
				},
				M.prototype.send = function() {
					var q = B(arguments);
					return q.unshift('message'),
						this.emit.apply(this, q),
						this
				},
				M.prototype.emit = function(q) {
					if (z.hasOwnProperty(q)) return V.apply(this, arguments),
						this;
					var H = B(arguments),
						J = A.EVENT;
					G(H) && (J = A.BINARY_EVENT);
					var W = {
						type: J,
						data: H
					};
					return 'function' == typeof H[H.length - 1] && (F('emitting packet with ack id %d', this.ids), this.acks[this.ids] = H.pop(), W.id = this.ids++),
						this.connected ? this.packet(W) : this.sendBuffer.push(W),
						this
				},
				M.prototype.packet = function(q) {
					q.nsp = this.nsp,
						this.io.packet(q)
				},
				M.prototype.onopen = function() {
					F('transport is open - connecting'), '/' != this.nsp && this.packet({
						type: A.CONNECT
					})
				},
				M.prototype.onclose = function(q) {
					F('close (%s)', q),
						this.connected = !1,
						this.disconnected = !0,
						delete this.id,
						this.emit('disconnect', q)
				},
				M.prototype.onpacket = function(q) {
					if (q.nsp == this.nsp) switch (q.type) {
						case A.CONNECT:
							this.onconnect();
							break;
						case A.EVENT:
							this.onevent(q);
							break;
						case A.BINARY_EVENT:
							this.onevent(q);
							break;
						case A.ACK:
							this.onack(q);
							break;
						case A.BINARY_ACK:
							this.onack(q);
							break;
						case A.DISCONNECT:
							this.ondisconnect();
							break;
						case A.ERROR:
							this.emit('error', q.data);
					}
				},
				M.prototype.onevent = function(q) {
					var H = q.data || [];
					F('emitting event %j', H),
						null != q.id && (F('attaching ack callback to event'), H.push(this.ack(q.id))),
						this.connected ? V.apply(this, H) : this.receiveBuffer.push(H)
				},
				M.prototype.ack = function(q) {
					var H = this,
						J = !1;
					return function() {
						if (!J) {
							J = !0;
							var W = B(arguments);
							F('sending ack %j', W);
							var X = G(W) ? A.BINARY_ACK : A.ACK;
							H.packet({
								type: X,
								id: q,
								data: W
							})
						}
					}
				},
				M.prototype.onack = function(q) {
					F('calling ack %s with %j', q.id, q.data);
					var H = this.acks[q.id];
					H.apply(this, q.data),
						delete this.acks[q.id]
				},
				M.prototype.onconnect = function() {
					this.connected = !0,
						this.disconnected = !1,
						this.emit('connect'),
						this.emitBuffered()
				},
				M.prototype.emitBuffered = function() {
					var q;
					for (q = 0; q < this.receiveBuffer.length; q++) V.apply(this, this.receiveBuffer[q]);
					for (this.receiveBuffer = [], q = 0; q < this.sendBuffer.length; q++) this.packet(this.sendBuffer[q]);
					this.sendBuffer = []
				},
				M.prototype.ondisconnect = function() {
					F('server disconnect (%s)', this.nsp),
						this.destroy(),
						this.onclose('io server disconnect')
				},
				M.prototype.destroy = function() {
					if (this.subs) {
						for (var q = 0; q < this.subs.length; q++) this.subs[q].destroy();
						this.subs = null
					}
					this.io.destroy(this)
				},
				M.prototype.close = M.prototype.disconnect = function() {
					return this.connected && (F('performing disconnect (%s)', this.nsp), this.packet({
							type: A.DISCONNECT
						})),
						this.destroy(),
						this.connected && this.onclose('io client disconnect'),
						this
				}
		}, {
			'./on': 63,
			'component-bind': 16,
			'component-emitter': 17,
			debug: 19,
			'has-binary': 39,
			'socket.io-parser': 67,
			'to-array': 69
		}],
		65: [function(P, R) {
			(function(M) {
				var I = P('parseuri'),
					B = P('debug')('socket.io-client:url');
				R.exports = function(N, U) {
					var F = N,
						U = U || M.location;
					return null == N && (N = U.protocol + '//' + U.host), 'string' == typeof N && ('/' == N.charAt(0) && ('/' == N.charAt(1) ? N = U.protocol + N : N = U.hostname + N), !/^(https?|wss?):\/\//.test(N) && (B('protocol-less url %s', N), N = 'undefined' == typeof U ? 'https://' + N : U.protocol + '//' + N), B('parse %s', N), F = I(N)),
						F.port || (/^(http|ws)$/.test(F.protocol) ? F.port = '80' : /^(http|ws)s$/.test(F.protocol) && (F.port = '443')),
						F.path = F.path || '/',
						F.id = F.protocol + '://' + F.host + ':' + F.port,
						F.href = F.protocol + '://' + F.host + (U && U.port == F.port ? '' : ':' + F.port),
						F
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			debug: 19,
			parseuri: 51
		}],
		66: [function(P, R, D) {
			(function(M) {
				var A = P('isarray'),
					I = P('./is-buffer');
				D.deconstructPacket = function(B) {
						function N(z) {
							if (!z) return z;
							if (I(z)) {
								var V = {
									_placeholder: !0,
									num: U.length
								};
								return U.push(z),
									V
							}
							if (A(z)) {
								for (var q = Array(z.length), H = 0; H < z.length; H++) q[H] = N(z[H]);
								return q
							}
							if ('object' == typeof z && !(z instanceof Date)) {
								var q = {};
								for (var J in z) q[J] = N(z[J]);
								return q
							}
							return z
						}
						var U = [],
							F = B.data,
							G = B;
						return G.data = N(F),
							G.attachments = U.length, {
								packet: G,
								buffers: U
							}
					},
					D.reconstructPacket = function(B, N) {
						function U(G) {
							if (G && G._placeholder) {
								var z = N[G.num];
								return z
							}
							if (A(G)) {
								for (var V = 0; V < G.length; V++) G[V] = U(G[V]);
								return G
							}
							if (G && 'object' == typeof G) {
								for (var q in G) G[q] = U(G[q]);
								return G
							}
							return G
						}
						return B.data = U(B.data),
							B.attachments = void 0,
							B
					},
					D.removeBlobs = function(B, N) {
						function U(z, V, q) {
							if (!z) return z;
							if (M.Blob && z instanceof Blob || M.File && z instanceof File) {
								F++;
								var H = new FileReader;
								H.onload = function() {
										q ? q[V] = this.result : G = this.result,
											--F || N(G)
									},
									H.readAsArrayBuffer(z)
							} else if (A(z))
								for (var J = 0; J < z.length; J++) U(z[J], J, z);
							else if (z && 'object' == typeof z && !I(z))
								for (var W in z) U(z[W], W, z)
						}
						var F = 0,
							G = B;
						U(G),
							F || N(G)
					}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./is-buffer': 68,
			isarray: 42
		}],
		67: [function(P, R, D) {
			function M() {}

			function A(W) {
				var X = '',
					Y = !1;
				return X += W.type, (D.BINARY_EVENT == W.type || D.BINARY_ACK == W.type) && (X += W.attachments, X += '-'),
					W.nsp && '/' != W.nsp && (Y = !0, X += W.nsp),
					null != W.id && (Y && (X += ',', Y = !1), X += W.id),
					null != W.data && (Y && (X += ','), X += z.stringify(W.data)),
					G('encoded %j as %s', W, X),
					X
			}

			function I(W, X) {
				H.removeBlobs(W, function(K) {
					var Z = H.deconstructPacket(K),
						Q = A(Z.packet),
						ne = Z.buffers;
					ne.unshift(Q),
						X(ne)
				})
			}

			function B() {
				this.reconstructor = null
			}

			function N(W) {
				var X = {},
					Y = 0;
				if (X.type = +W.charAt(0), null == D.types[X.type]) return F();
				if (D.BINARY_EVENT == X.type || D.BINARY_ACK == X.type) {
					for (var K = '';
						'-' != W.charAt(++Y) && (K += W.charAt(Y), Y != W.length););
					if (K != +K || '-' != W.charAt(Y)) throw new Error('Illegal attachments');
					X.attachments = +K
				}
				if ('/' == W.charAt(Y + 1))
					for (X.nsp = ''; ++Y;) {
						var Z = W.charAt(Y);
						if (',' == Z) break;
						if (X.nsp += Z, Y == W.length) break
					}
				else X.nsp = '/';
				var Q = W.charAt(Y + 1);
				if ('' !== Q && +Q == Q) {
					for (X.id = ''; ++Y;) {
						var Z = W.charAt(Y);
						if (null == Z || +Z != Z) {
							--Y;
							break
						}
						if (X.id += W.charAt(Y), Y == W.length) break
					}
					X.id = +X.id
				}
				if (W.charAt(++Y)) try {
					X.data = z.parse(W.substr(Y))
				} catch (ne) {
					return F()
				}
				return G('decoded %s as %j', W, X),
					X
			}

			function U(W) {
				this.reconPack = W,
					this.buffers = []
			}

			function F() {
				return {
					type: D.ERROR,
					data: 'parser error'
				}
			}
			var G = P('debug')('socket.io-parser'),
				z = P('json3'),
				V = P('isarray'),
				q = P('component-emitter'),
				H = P('./binary'),
				J = P('./is-buffer');
			D.protocol = 4,
				D.types = ['CONNECT', 'DISCONNECT', 'EVENT', 'BINARY_EVENT', 'ACK', 'BINARY_ACK', 'ERROR'],
				D.CONNECT = 0,
				D.DISCONNECT = 1,
				D.EVENT = 2,
				D.ACK = 3,
				D.ERROR = 4,
				D.BINARY_EVENT = 5,
				D.BINARY_ACK = 6,
				D.Encoder = M,
				D.Decoder = B,
				M.prototype.encode = function(W, X) {
					if (G('encoding packet %j', W), D.BINARY_EVENT == W.type || D.BINARY_ACK == W.type) I(W, X);
					else {
						var Y = A(W);
						X([Y])
					}
				},
				q(B.prototype),
				B.prototype.add = function(W) {
					var X;
					if ('string' == typeof W) X = N(W),
						D.BINARY_EVENT == X.type || D.BINARY_ACK == X.type ? (this.reconstructor = new U(X), 0 === this.reconstructor.reconPack.attachments && this.emit('decoded', X)) : this.emit('decoded', X);
					else if (!(J(W) || W.base64)) throw new Error('Unknown type: ' + W);
					else if (!this.reconstructor) throw new Error('got binary data when not reconstructing a packet');
					else X = this.reconstructor.takeBinaryData(W),
						X && (this.reconstructor = null, this.emit('decoded', X))
				},
				B.prototype.destroy = function() {
					this.reconstructor && this.reconstructor.finishedReconstruction()
				},
				U.prototype.takeBinaryData = function(W) {
					if (this.buffers.push(W), this.buffers.length == this.reconPack.attachments) {
						var X = H.reconstructPacket(this.reconPack, this.buffers);
						return this.finishedReconstruction(),
							X
					}
					return null
				},
				U.prototype.finishedReconstruction = function() {
					this.reconPack = null,
						this.buffers = []
				}
		}, {
			'./binary': 66,
			'./is-buffer': 68,
			'component-emitter': 17,
			debug: 19,
			isarray: 42,
			json3: 43
		}],
		68: [function(P, R) {
			(function(M) {
				R.exports = function(I) {
					return M.Buffer && M.Buffer.isBuffer(I) || M.ArrayBuffer && I instanceof ArrayBuffer
				}
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		69: [function(P, R) {
			R.exports = function(A, I) {
				var B = [];
				I = I || 0;
				for (var N = I || 0; N < A.length; N++) B[N - I] = A[N];
				return B
			}
		}, {}],
		70: [function(P, R, D) {
			(function(M) {
				(function(A) {
					function I(ie) {
						for (var se = [], de = 0, ce = ie.length, pe, le; de < ce;) pe = ie.charCodeAt(de++),
							55296 <= pe && 56319 >= pe && de < ce ? (le = ie.charCodeAt(de++), 56320 == (64512 & le) ? se.push(((1023 & pe) << 10) + (1023 & le) + 65536) : (se.push(pe), de--)) : se.push(pe);
						return se
					}

					function B(ie) {
						for (var se = ie.length, de = -1, pe = '', ce; ++de < se;) ce = ie[de],
							65535 < ce && (ce -= 65536, pe += X(55296 | 1023 & ce >>> 10), ce = 56320 | 1023 & ce),
							pe += X(ce);
						return pe
					}

					function N(ie) {
						if (55296 <= ie && 57343 >= ie) throw Error('Lone surrogate U+' + ie.toString(16).toUpperCase() + ' is not a scalar value')
					}

					function U(ie, se) {
						return X(128 | 63 & ie >> se)
					}

					function F(ie) {
						if (0 == (4294967168 & ie)) return X(ie);
						var se = '';
						return 0 == (4294965248 & ie) ? se = X(192 | 31 & ie >> 6) : 0 == (4294901760 & ie) ? (N(ie), se = X(224 | 15 & ie >> 12), se += U(ie, 6)) : 0 == (4292870144 & ie) && (se = X(240 | 7 & ie >> 18), se += U(ie, 12), se += U(ie, 6)),
							se += X(128 | 63 & ie),
							se
					}

					function z() {
						if (Z >= K) throw Error('Invalid byte index');
						var ie = 255 & Y[Z];
						if (Z++, 128 == (192 & ie)) return 63 & ie;
						throw Error('Invalid continuation byte')
					}

					function V() {
						var ie, se, de, ce, pe;
						if (Z > K) throw Error('Invalid byte index');
						if (Z == K) return !1;
						if (ie = 255 & Y[Z], Z++, 0 == (128 & ie)) return ie;
						if (192 == (224 & ie)) {
							var se = z();
							if (pe = (31 & ie) << 6 | se, 128 <= pe) return pe;
							throw Error('Invalid continuation byte')
						}
						if (224 == (240 & ie)) {
							if (se = z(), de = z(), pe = (15 & ie) << 12 | se << 6 | de, 2048 <= pe) return N(pe),
								pe;
							throw Error('Invalid continuation byte')
						}
						if (240 == (248 & ie) && (se = z(), de = z(), ce = z(), pe = (15 & ie) << 18 | se << 12 | de << 6 | ce, 65536 <= pe && 1114111 >= pe)) return pe;
						throw Error('Invalid UTF-8 detected')
					}
					var H = 'object' == typeof D && D,
						J = 'object' == typeof R && R && R.exports == H && R,
						W = 'object' == typeof M && M;
					(W.global === W || W.window === W) && (A = W);
					var X = String.fromCharCode,
						Y, K, Z, Q = {
							version: '2.0.0',
							encode: function(ie) {
								for (var se = I(ie), de = se.length, ce = -1, le = '', pe; ++ce < de;) pe = se[ce],
									le += F(pe);
								return le
							},
							decode: function(ie) {
								Y = I(ie),
									K = Y.length,
									Z = 0;
								for (var se = [], de; !1 !== (de = V());) se.push(de);
								return B(se)
							}
						};
					if ('function' == typeof C && 'object' == typeof C.amd && C.amd) C(function() {
						return Q
					});
					else if (!(H && !H.nodeType)) A.utf8 = Q;
					else if (J) J.exports = Q;
					else {
						var ae = {}.hasOwnProperty;
						for (var oe in Q) ae.call(Q, oe) && (H[oe] = Q[oe])
					}
				})(this)
			}).call(this, 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {}],
		71: [function(P, R) {
			R.exports = 'function' == typeof Object.create ? function(A, I) {
				A.super_ = I,
					A.prototype = Object.create(I.prototype, {
						constructor: {
							value: A,
							enumerable: !1,
							writable: !0,
							configurable: !0
						}
					})
			} : function(A, I) {
				A.super_ = I;
				var B = function() {};
				B.prototype = I.prototype,
					A.prototype = new B,
					A.prototype.constructor = A
			}
		}, {}],
		72: [function(P, R) {
			R.exports = function(A) {
				return A && 'object' == typeof A && 'function' == typeof A.copy && 'function' == typeof A.fill && 'function' == typeof A.readUInt8
			}
		}, {}],
		73: [function(P, R, D) {
			(function(M, A) {
				function I(be, ve) {
					var ke = {
						seen: [],
						stylize: N
					};
					return 3 <= arguments.length && (ke.depth = arguments[2]),
						4 <= arguments.length && (ke.colors = arguments[3]),
						W(ve) ? ke.showHidden = ve : ve && D._extend(ke, ve),
						ne(ke.showHidden) && (ke.showHidden = !1),
						ne(ke.depth) && (ke.depth = 2),
						ne(ke.colors) && (ke.colors = !1),
						ne(ke.customInspect) && (ke.customInspect = !0),
						ke.colors && (ke.stylize = B),
						F(ke, be, ke.depth)
				}

				function B(be, ve) {
					var ke = I.styles[ve];
					return ke ? '\x1B[' + I.colors[ke][0] + 'm' + be + '\x1B[' + I.colors[ke][1] + 'm' : be
				}

				function N(be) {
					return be
				}

				function U(be) {
					var ve = {};
					return be.forEach(function(ke) {
							ve[ke] = !0
						}),
						ve
				}

				function F(be, ve, ke) {
					if (be.customInspect && ve && de(ve.inspect) && ve.inspect !== D.inspect && !(ve.constructor && ve.constructor.prototype === ve)) {
						var Ce = ve.inspect(ke, be);
						return Z(Ce) || (Ce = F(be, Ce, ke)),
							Ce
					}
					var Se = G(be, ve);
					if (Se) return Se;
					var xe = Object.keys(ve),
						Te = U(xe);
					if (be.showHidden && (xe = Object.getOwnPropertyNames(ve)), se(ve) && (0 <= xe.indexOf('message') || 0 <= xe.indexOf('description'))) return z(ve);
					if (0 === xe.length) {
						if (de(ve)) {
							var we = ve.name ? ': ' + ve.name : '';
							return be.stylize('[Function' + we + ']', 'special')
						}
						if (ae(ve)) return be.stylize(RegExp.prototype.toString.call(ve), 'regexp');
						if (ie(ve)) return be.stylize(Date.prototype.toString.call(ve), 'date');
						if (se(ve)) return z(ve)
					}
					var Ee = '',
						Pe = !1,
						Re = ['{', '}'];
					if (J(ve) && (Pe = !0, Re = ['[', ']']), de(ve)) {
						var _e = ve.name ? ': ' + ve.name : '';
						Ee = ' [Function' + _e + ']'
					}
					if (ae(ve) && (Ee = ' ' + RegExp.prototype.toString.call(ve)), ie(ve) && (Ee = ' ' + Date.prototype.toUTCString.call(ve)), se(ve) && (Ee = ' ' + z(ve)), 0 === xe.length && (!Pe || 0 == ve.length)) return Re[0] + Ee + Re[1];
					if (0 > ke) return ae(ve) ? be.stylize(RegExp.prototype.toString.call(ve), 'regexp') : be.stylize('[Object]', 'special');
					be.seen.push(ve);
					var De;
					return De = Pe ? V(be, ve, ke, Te, xe) : xe.map(function(Me) {
							return q(be, ve, ke, Te, Me, Pe)
						}),
						be.seen.pop(),
						H(De, Ee, Re)
				}

				function G(be, ve) {
					if (ne(ve)) return be.stylize('undefined', 'undefined');
					if (Z(ve)) {
						var ke = '\'' + JSON.stringify(ve).replace(/^"|"$/g, '').replace(/'/g, '\\\'').replace(/\\"/g, '"') + '\'';
						return be.stylize(ke, 'string')
					}
					return K(ve) ? be.stylize('' + ve, 'number') : W(ve) ? be.stylize('' + ve, 'boolean') : X(ve) ? be.stylize('null', 'null') : void 0
				}

				function z(be) {
					return '[' + Error.prototype.toString.call(be) + ']'
				}

				function V(be, ve, ke, Ce, Se) {
					for (var xe = [], Te = 0, we = ve.length; Te < we; ++Te) me(ve, Te + '') ? xe.push(q(be, ve, ke, Ce, Te + '', !0)) : xe.push('');
					return Se.forEach(function(Ee) {
							Ee.match(/^\d+$/) || xe.push(q(be, ve, ke, Ce, Ee, !0))
						}),
						xe
				}

				function q(be, ve, ke, Ce, Se, xe) {
					var Te, we, Ee;
					if (Ee = Object.getOwnPropertyDescriptor(ve, Se) || {
							value: ve[Se]
						}, Ee.get ? Ee.set ? we = be.stylize('[Getter/Setter]', 'special') : we = be.stylize('[Getter]', 'special') : Ee.set && (we = be.stylize('[Setter]', 'special')), me(Ce, Se) || (Te = '[' + Se + ']'), we || (0 > be.seen.indexOf(Ee.value) ? (we = X(ke) ? F(be, Ee.value, null) : F(be, Ee.value, ke - 1), -1 < we.indexOf('\n') && (xe ? we = we.split('\n').map(function(Pe) {
							return '  ' + Pe
						}).join('\n').substr(2) : we = '\n' + we.split('\n').map(function(Pe) {
							return '   ' + Pe
						}).join('\n'))) : we = be.stylize('[Circular]', 'special')), ne(Te)) {
						if (xe && Se.match(/^\d+$/)) return we;
						Te = JSON.stringify('' + Se),
							Te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (Te = Te.substr(1, Te.length - 2), Te = be.stylize(Te, 'name')) : (Te = Te.replace(/'/g, '\\\'').replace(/\\"/g, '"').replace(/(^"|"$)/g, '\''), Te = be.stylize(Te, 'string'))
					}
					return Te + ': ' + we
				}

				function H(be, ve, ke) {
					var Ce = 0,
						Se = be.reduce(function(xe, Te) {
							return Ce++,
								0 <= Te.indexOf('\n') && Ce++,
								xe + Te.replace(/\u001b\[\d\d?m/g, '').length + 1
						}, 0);
					return 60 < Se ? ke[0] + ('' === ve ? '' : ve + '\n ') + ' ' + be.join(',\n  ') + ' ' + ke[1] : ke[0] + ve + ' ' + be.join(', ') + ' ' + ke[1]
				}

				function J(be) {
					return Array.isArray(be)
				}

				function W(be) {
					return 'boolean' == typeof be
				}

				function X(be) {
					return null === be
				}

				function K(be) {
					return 'number' == typeof be
				}

				function Z(be) {
					return 'string' == typeof be
				}

				function ne(be) {
					return void 0 === be
				}

				function ae(be) {
					return oe(be) && '[object RegExp]' === pe(be)
				}

				function oe(be) {
					return 'object' == typeof be && null !== be
				}

				function ie(be) {
					return oe(be) && '[object Date]' === pe(be)
				}

				function se(be) {
					return oe(be) && ('[object Error]' === pe(be) || be instanceof Error)
				}

				function de(be) {
					return 'function' == typeof be
				}

				function pe(be) {
					return Object.prototype.toString.call(be)
				}

				function le(be) {
					return 10 > be ? '0' + be.toString(10) : be.toString(10)
				}

				function ue() {
					var be = new Date,
						ve = [le(be.getHours()), le(be.getMinutes()), le(be.getSeconds())].join(':');
					return [be.getDate(), ye[be.getMonth()], ve].join(' ')
				}

				function me(be, ve) {
					return Object.prototype.hasOwnProperty.call(be, ve)
				}
				var fe = /%[sdj%]/g;
				D.format = function(be) {
						if (!Z(be)) {
							for (var ve = [], ke = 0; ke < arguments.length; ke++) ve.push(I(arguments[ke]));
							return ve.join(' ')
						}
						for (var ke = 1, Ce = arguments, Se = Ce.length, xe = (be + '').replace(fe, function(we) {
								if ('%%' === we) return '%';
								if (ke >= Se) return we;
								switch (we) {
									case '%s':
										return Ce[ke++] + '';
									case '%d':
										return +Ce[ke++];
									case '%j':
										try {
											return JSON.stringify(Ce[ke++])
										} catch (Ee) {
											return '[Circular]'
										}
									default:
										return we;
								}
							}), Te = Ce[ke]; ke < Se; Te = Ce[++ke]) xe += X(Te) || !oe(Te) ? ' ' + Te : ' ' + I(Te);
						return xe
					},
					D.deprecate = function(be, ve) {
						if (ne(A.process)) return function() {
							return D.deprecate(be, ve).apply(this, arguments)
						};
						if (!0 === M.noDeprecation) return be;
						var Ce = !1;
						return function() {
							if (!Ce) {
								if (M.throwDeprecation) throw new Error(ve);
								else M.traceDeprecation ? console.trace(ve) : console.error(ve);
								Ce = !0
							}
							return be.apply(this, arguments)
						}
					};
				var ge = {},
					he;
				D.debuglog = function(be) {
						if (ne(he) && (he = M.env.NODE_DEBUG || ''), be = be.toUpperCase(), !ge[be])
							if (new RegExp('\\b' + be + '\\b', 'i').test(he)) {
								var ve = M.pid;
								ge[be] = function() {
									var ke = D.format.apply(D, arguments);
									console.error('%s %d: %s', be, ve, ke)
								}
							} else ge[be] = function() {};
						return ge[be]
					},
					D.inspect = I,
					I.colors = {
						bold: [1, 22],
						italic: [3, 23],
						underline: [4, 24],
						inverse: [7, 27],
						white: [37, 39],
						grey: [90, 39],
						black: [30, 39],
						blue: [34, 39],
						cyan: [36, 39],
						green: [32, 39],
						magenta: [35, 39],
						red: [31, 39],
						yellow: [33, 39]
					},
					I.styles = {
						special: 'cyan',
						number: 'yellow',
						boolean: 'yellow',
						undefined: 'grey',
						'null': 'bold',
						string: 'green',
						date: 'magenta',
						regexp: 'red'
					},
					D.isArray = J,
					D.isBoolean = W,
					D.isNull = X,
					D.isNullOrUndefined = function(be) {
						return null == be
					},
					D.isNumber = K,
					D.isString = Z,
					D.isSymbol = function(be) {
						return 'symbol' == typeof be
					},
					D.isUndefined = ne,
					D.isRegExp = ae,
					D.isObject = oe,
					D.isDate = ie,
					D.isError = se,
					D.isFunction = de,
					D.isPrimitive = function(be) {
						return null === be || 'boolean' == typeof be || 'number' == typeof be || 'string' == typeof be || 'symbol' == typeof be || 'undefined' == typeof be
					},
					D.isBuffer = P('./support/isBuffer');
				var ye = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
				D.log = function() {
						console.log('%s - %s', ue(), D.format.apply(D, arguments))
					},
					D.inherits = P('inherits'),
					D._extend = function(be, ve) {
						if (!ve || !oe(ve)) return be;
						for (var ke = Object.keys(ve), Ce = ke.length; Ce--;) be[ke[Ce]] = ve[ke[Ce]];
						return be
					}
			}).call(this, P('_process'), 'undefined' == typeof global ? 'undefined' == typeof self ? 'undefined' == typeof window ? {} : window : self : global)
		}, {
			'./support/isBuffer': 72,
			_process: 52,
			inherits: 71
		}],
		74: [function(P, R) {
			var M, A;
			window.mozRTCPeerConnection || navigator.mozGetUserMedia ? (M = 'moz', A = parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1], 10)) : (window.webkitRTCPeerConnection || navigator.webkitGetUserMedia) && (M = 'webkit', A = navigator.userAgent.match(/Chrom(e|ium)/) && parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2], 10));
			var I = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection,
				B = window.mozRTCIceCandidate || window.RTCIceCandidate,
				N = window.mozRTCSessionDescription || window.RTCSessionDescription,
				U = window.webkitMediaStream || window.MediaStream,
				F = 'https:' === window.location.protocol && ('webkit' === M && 26 <= A || 'moz' === M && 33 <= A),
				G = window.AudioContext || window.webkitAudioContext,
				z = document.createElement('video'),
				V = z && z.canPlayType && 'probably' === z.canPlayType('video/webm; codecs="vp8", vorbis'),
				q = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia;
			R.exports = {
				prefix: M,
				browserVersion: A,
				support: !!I && !!q,
				supportRTCPeerConnection: !!I,
				supportVp8: V,
				supportGetUserMedia: !!q,
				supportDataChannel: !!(I && I.prototype && I.prototype.createDataChannel),
				supportWebAudio: !!(G && G.prototype.createMediaStreamSource),
				supportMediaStream: !!(U && U.prototype.removeTrack),
				supportScreenSharing: !!F,
				AudioContext: G,
				PeerConnection: I,
				SessionDescription: N,
				IceCandidate: B,
				MediaStream: U,
				getUserMedia: q
			}
		}, {}],
		75: [function(P, R) {
			function M() {}
			R.exports = M,
				M.mixin = function(A) {
					var I = A.prototype || A;
					I.isWildEmitter = !0,
						I.on = function(B) {
							this.callbacks = this.callbacks || {};
							var F = 3 === arguments.length,
								G = F ? arguments[1] : void 0,
								z = F ? arguments[2] : arguments[1];
							return z._groupName = G, (this.callbacks[B] = this.callbacks[B] || []).push(z),
								this
						},
						I.once = function(B) {
							function F() {
								G.off(B, F),
									q.apply(this, arguments)
							}
							var G = this,
								z = 3 === arguments.length,
								V = z ? arguments[1] : void 0,
								q = z ? arguments[2] : arguments[1];
							return this.on(B, V, F),
								this
						},
						I.releaseGroup = function(B) {
							this.callbacks = this.callbacks || {};
							var N, U, F, G;
							for (N in this.callbacks)
								for (G = this.callbacks[N], U = 0, F = G.length; U < F; U++) G[U]._groupName === B && (G.splice(U, 1), U--, F--);
							return this
						},
						I.off = function(B, N) {
							this.callbacks = this.callbacks || {};
							var U = this.callbacks[B],
								F;
							return U ? 1 === arguments.length ? (delete this.callbacks[B], this) : (F = U.indexOf(N), U.splice(F, 1), 0 === U.length && delete this.callbacks[B], this) : this
						},
						I.emit = function(B) {
							this.callbacks = this.callbacks || {};
							var N = [].slice.call(arguments, 1),
								U = this.callbacks[B],
								F = this.getWildcardCallbacks(B),
								G, z, q;
							if (U)
								for (q = U.slice(), G = 0, z = q.length; G < z && !!q[G]; ++G) q[G].apply(this, N);
							if (F)
								for (z = F.length, q = F.slice(), (G = 0, z = q.length); G < z && !!q[G]; ++G) q[G].apply(this, [B].concat(N));
							return this
						},
						I.getWildcardCallbacks = function(B) {
							this.callbacks = this.callbacks || {};
							var F = [],
								N, U;
							for (N in this.callbacks) U = N.split('*'), ('*' === N || 2 === U.length && B.slice(0, U[0].length) === U[0]) && (F = F.concat(this.callbacks[N]));
							return F
						}
				},
				M.mixin(M)
		}, {}],
		76: [function(P, R) {
			function M(B, N) {
				var F;
				return F = N ? new I(B, N) : new I(B),
					F
			}
			var A = function() {
					return this
				}(),
				I = A.WebSocket || A.MozWebSocket;
			R.exports = I ? M : null,
				I && (M.prototype = I.prototype)
		}, {}],
		77: [function(P, R) {
			function M(z) {
				var V = !0;
				return z.getTracks().forEach(function(q) {
						V = 'ended' === q.readyState && V
					}),
					V
			}

			function A(z) {
				var V = this;
				U.call(this),
					this.id = z.id,
					this.parent = z.parent,
					this.type = z.type || 'video',
					this.oneway = z.oneway || !1,
					this.sharemyscreen = z.sharemyscreen || !1,
					this.browserPrefix = z.prefix,
					this.stream = z.stream,
					this.enableDataChannels = z.enableDataChannels === void 0 ? this.parent.config.enableDataChannels : z.enableDataChannels,
					this.receiveMedia = z.receiveMedia || this.parent.config.receiveMedia,
					this.channels = {},
					this.sid = z.sid || Date.now().toString(),
					this.pc = new N(this.parent.config.peerConnectionConfig, this.parent.config.peerConnectionConstraints),
					this.pc.on('ice', this.onIceCandidate.bind(this)),
					this.pc.on('endOfCandidates', function(q) {
						V.send('endOfCandidates', q)
					}),
					this.pc.on('offer', function(q) {
						V.parent.config.nick && (q.nick = V.parent.config.nick),
							V.send('offer', q)
					}),
					this.pc.on('answer', function(q) {
						V.parent.config.nick && (q.nick = V.parent.config.nick),
							V.send('answer', q)
					}),
					this.pc.on('addStream', this.handleRemoteStreamAdded.bind(this)),
					this.pc.on('addChannel', this.handleDataChannelAdded.bind(this)),
					this.pc.on('removeStream', this.handleStreamRemoved.bind(this)),
					this.pc.on('negotiationNeeded', this.emit.bind(this, 'negotiationNeeded')),
					this.pc.on('iceConnectionStateChange', this.emit.bind(this, 'iceConnectionStateChange')),
					this.pc.on('iceConnectionStateChange', function() {
						switch (V.pc.iceConnectionState) {
							case 'failed':
								'offer' === V.pc.pc.localDescription.type && (V.parent.emit('iceFailed', V), V.send('connectivityError'));
						}
					}),
					this.pc.on('signalingStateChange', this.emit.bind(this, 'signalingStateChange')),
					this.logger = this.parent.logger, 'screen' === z.type ? this.parent.localScreens && this.parent.localScreens[0] && this.sharemyscreen && (this.logger.log('adding local screen stream to peer connection'), this.pc.addStream(this.parent.localScreens[0]), this.broadcaster = z.broadcaster) : this.parent.localStreams.forEach(function(q) {
						V.pc.addStream(q)
					}),
					this.on('channelOpen', function(q) {
						q.protocol === G && (q.onmessage = function(H) {
							var J = JSON.parse(H.data),
								W = new F.Receiver;
							W.receive(J, q),
								V.emit('fileTransfer', J, W),
								W.on('receivedFile', function() {
									W.channel.close()
								})
						})
					}),
					this.on('*', function() {
						V.parent.emit.apply(V.parent, arguments)
					})
			}
			var I = P('util'),
				B = P('webrtcsupport'),
				N = P('rtcpeerconnection'),
				U = P('wildemitter'),
				F = P('filetransfer'),
				G = 'https://simplewebrtc.com/protocol/filetransfer#inband-v1';
			I.inherits(A, U),
				A.prototype.handleMessage = function(z) {
					var V = this;
					if (this.logger.log('getting', z.type, z), z.prefix && (this.browserPrefix = z.prefix), 'offer' === z.type) this.nick || (this.nick = z.payload.nick),
						delete z.payload.nick,
						this.pc.handleOffer(z.payload, function(H) {
							H || V.pc.answer(function() {})
						});
					else if ('answer' === z.type) this.nick || (this.nick = z.payload.nick),
						delete z.payload.nick,
						this.pc.handleAnswer(z.payload);
					else if ('candidate' === z.type) this.pc.processIce(z.payload);
					else if ('connectivityError' === z.type) this.parent.emit('connectivityError', V);
					else if ('mute' === z.type) this.parent.emit('mute', {
						id: z.from,
						name: z.payload.name
					});
					else if ('unmute' === z.type) this.parent.emit('unmute', {
						id: z.from,
						name: z.payload.name
					});
					else if ('endOfCandidates' === z.type) {
						var q = this.pc.pc.transceivers || [];
						q.forEach(function(H) {
							H.iceTransport && H.iceTransport.addRemoteCandidate({})
						})
					}
				},
				A.prototype.send = function(z, V) {
					var q = {
						to: this.id,
						sid: this.sid,
						broadcaster: this.broadcaster,
						roomType: this.type,
						type: z,
						payload: V,
						prefix: B.prefix
					};
					this.logger.log('sending', z, q),
						this.parent.emit('message', q)
				},
				A.prototype.sendDirectly = function(z, V, q) {
					var H = {
						type: V,
						payload: q
					};
					this.logger.log('sending via datachannel', z, V, H);
					var J = this.getDataChannel(z);
					return !('open' != J.readyState) && (J.send(JSON.stringify(H)), !0)
				},
				A.prototype._observeDataChannel = function(z) {
					var V = this;
					z.onclose = this.emit.bind(this, 'channelClose', z),
						z.onerror = this.emit.bind(this, 'channelError', z),
						z.onmessage = function(q) {
							V.emit('channelMessage', V, z.label, JSON.parse(q.data), z, q)
						},
						z.onopen = this.emit.bind(this, 'channelOpen', z)
				},
				A.prototype.getDataChannel = function(z, V) {
					if (!B.supportDataChannel) return this.emit('error', new Error('createDataChannel not supported'));
					var q = this.channels[z];
					return (V || (V = {}), q) ? q : (q = this.channels[z] = this.pc.createDataChannel(z, V), this._observeDataChannel(q), q)
				},
				A.prototype.onIceCandidate = function(z) {
					if (!this.closed)
						if (z) {
							var V = this.parent.config.peerConnectionConfig;
							'moz' === B.prefix && V && V.iceTransports && z.candidate && z.candidate.candidate && 0 > z.candidate.candidate.indexOf(V.iceTransports) ? this.logger.log('Ignoring ice candidate not matching pcConfig iceTransports type: ', V.iceTransports) : this.send('candidate', z)
						} else this.logger.log('End of candidates.')
				},
				A.prototype.start = function() {
					this;
					this.enableDataChannels && this.getDataChannel('simplewebrtc'),
						this.pc.offer(this.receiveMedia, function() {})
				},
				A.prototype.icerestart = function() {
					var z = this.receiveMedia;
					z.mandatory.IceRestart = !0,
						this.pc.offer(z, function() {})
				},
				A.prototype.end = function() {
					this.closed || (this.pc.close(), this.handleStreamRemoved())
				},
				A.prototype.handleRemoteStreamAdded = function(z) {
					var V = this;
					this.stream ? this.logger.warn('Already have a remote stream') : (this.stream = z.stream, this.stream.getTracks().forEach(function(q) {
						q.addEventListener('ended', function() {
							M(V.stream) && V.end()
						})
					}), this.parent.emit('peerStreamAdded', this))
				},
				A.prototype.handleStreamRemoved = function() {
					var z = this.parent.peers.indexOf(this); - 1 < z && (this.parent.peers.splice(z, 1), this.closed = !0, this.parent.emit('peerStreamRemoved', this))
				},
				A.prototype.handleDataChannelAdded = function(z) {
					this.channels[z.label] = z,
						this._observeDataChannel(z)
				},
				A.prototype.sendFile = function(z) {
					var V = new F.Sender,
						q = this.getDataChannel('filetransfer' + new Date().getTime(), {
							protocol: G
						});
					return q.onopen = function() {
							q.send(JSON.stringify({
									size: z.size,
									name: z.name
								})),
								V.send(z, q)
						},
						q.onclose = function() {
							console.log('sender received transfer'),
								V.emit('complete')
						},
						V
				},
				R.exports = A
		}, {
			filetransfer: 35,
			rtcpeerconnection: 53,
			util: 73,
			webrtcsupport: 74,
			wildemitter: 75
		}],
		78: [function(P, R) {
			function M(G) {
				var z = this,
					V = G || {},
					q = this.config = {
						url: 'https://sandbox.simplewebrtc.com:443/',
						socketio: {},
						connection: null,
						debug: !1,
						localVideoEl: '',
						remoteVideosEl: '',
						enableDataChannels: !0,
						autoRequestMedia: !1,
						autoRemoveVideos: !0,
						adjustPeerVolume: !1,
						peerVolumeWhenSpeaking: 0.25,
						media: {
							video: !0,
							audio: !0
						},
						receiveMedia: {
							offerToReceiveAudio: 1,
							offerToReceiveVideo: 1
						},
						localVideo: {
							autoplay: !0,
							mirror: !0,
							muted: !0
						}
					},
					H, J;
				for (H in this.logger = function() {
						return G.debug ? G.logger || console : G.logger || U
					}(), V) V.hasOwnProperty(H) && (this.config[H] = V[H]);
				this.capabilities = B,
					I.call(this),
					J = null === this.config.connection ? this.connection = new F(this.config) : this.connection = this.config.connection,
					J.on('connect', function() {
						z.emit('connectionReady', J.getSessionid()),
							z.sessionReady = !0,
							z.testReadiness()
					}),
					J.on('message', function(W) {
						var X = z.webrtc.getPeers(W.from, W.roomType),
							Y;
						'offer' === W.type ? (X.length && X.forEach(function(K) {
							K.sid == W.sid && (Y = K)
						}), !Y && (Y = z.webrtc.createPeer({
							id: W.from,
							sid: W.sid,
							type: W.roomType,
							enableDataChannels: z.config.enableDataChannels && 'screen' !== W.roomType,
							sharemyscreen: 'screen' === W.roomType && !W.broadcaster,
							broadcaster: 'screen' !== W.roomType || W.broadcaster ? null : z.connection.getSessionid()
						}), z.emit('createdPeer', Y)), Y.handleMessage(W)) : X.length && X.forEach(function(K) {
							W.sid ? K.sid === W.sid && K.handleMessage(W) : K.handleMessage(W)
						})
					}),
					J.on('remove', function(W) {
						W.id !== z.connection.getSessionid() && z.webrtc.removePeers(W.id, W.type)
					}),
					G.logger = this.logger,
					G.debug = !1,
					this.webrtc = new A(G), ['mute', 'unmute', 'pauseVideo', 'resumeVideo', 'pause', 'resume', 'sendToAll', 'sendDirectlyToAll', 'getPeers'].forEach(function(W) {
						z[W] = z.webrtc[W].bind(z.webrtc)
					}),
					this.webrtc.on('*', function() {
						z.emit.apply(z, arguments)
					}),
					q.debug && this.on('*', this.logger.log.bind(this.logger, 'SimpleWebRTC event:')),
					this.webrtc.on('localStream', function() {
						z.testReadiness()
					}),
					this.webrtc.on('message', function(W) {
						z.connection.emit('message', W)
					}),
					this.webrtc.on('peerStreamAdded', this.handlePeerStreamAdded.bind(this)),
					this.webrtc.on('peerStreamRemoved', this.handlePeerStreamRemoved.bind(this)),
					this.config.adjustPeerVolume && (this.webrtc.on('speaking', this.setVolumeForAll.bind(this, this.config.peerVolumeWhenSpeaking)), this.webrtc.on('stoppedSpeaking', this.setVolumeForAll.bind(this, 1))),
					J.on('stunservers', function(W) {
						z.webrtc.config.peerConnectionConfig.iceServers = W,
							z.emit('stunservers', W)
					}),
					J.on('turnservers', function(W) {
						z.webrtc.config.peerConnectionConfig.iceServers = z.webrtc.config.peerConnectionConfig.iceServers.concat(W),
							z.emit('turnservers', W)
					}),
					this.webrtc.on('iceFailed', function() {}),
					this.webrtc.on('connectivityError', function() {}),
					this.webrtc.on('audioOn', function() {
						z.webrtc.sendToAll('unmute', {
							name: 'audio'
						})
					}),
					this.webrtc.on('audioOff', function() {
						z.webrtc.sendToAll('mute', {
							name: 'audio'
						})
					}),
					this.webrtc.on('videoOn', function() {
						z.webrtc.sendToAll('unmute', {
							name: 'video'
						})
					}),
					this.webrtc.on('videoOff', function() {
						z.webrtc.sendToAll('mute', {
							name: 'video'
						})
					}),
					this.webrtc.on('localScreen', function(W) {
						var Y = document.createElement('video'),
							K = z.getRemoteVideoContainer();
						Y.oncontextmenu = function() {
								return !1
							},
							Y.id = 'localScreen',
							N(W, Y),
							K && K.appendChild(Y),
							z.emit('localScreenAdded', Y),
							z.connection.emit('shareScreen'),
							z.webrtc.peers.forEach(function(Z) {
								var Q;
								'video' === Z.type && (Q = z.webrtc.createPeer({
									id: Z.id,
									type: 'screen',
									sharemyscreen: !0,
									enableDataChannels: !1,
									receiveMedia: {
										offerToReceiveAudio: 0,
										offerToReceiveVideo: 0
									},
									broadcaster: z.connection.getSessionid()
								}), z.emit('createdPeer', Q), Q.start())
							})
					}),
					this.webrtc.on('localScreenStopped', function() {
						z.getLocalScreen() && z.stopScreenShare()
					}),
					this.webrtc.on('channelMessage', function(W, X, Y) {
						'volume' == Y.type && z.emit('remoteVolumeChange', W, Y.volume)
					}),
					this.config.autoRequestMedia && this.startLocalVideo()
			}
			var A = P('./webrtc'),
				I = P('wildemitter'),
				B = P('webrtcsupport'),
				N = P('attachmediastream'),
				U = P('mockconsole'),
				F = P('./socketioconnection');
			M.prototype = Object.create(I.prototype, {
					constructor: {
						value: M
					}
				}),
				M.prototype.leaveRoom = function() {
					if (this.roomName) {
						for (this.connection.emit('leave'); this.webrtc.peers.length;) this.webrtc.peers[0].end();
						this.getLocalScreen() && this.stopScreenShare(),
							this.emit('leftRoom', this.roomName),
							this.roomName = void 0
					}
				},
				M.prototype.disconnect = function() {
					this.connection.disconnect(),
						delete this.connection
				},
				M.prototype.handlePeerStreamAdded = function(G) {
					var z = this,
						V = this.getRemoteVideoContainer(),
						q = N(G.stream);
					G.videoEl = q,
						q.id = this.getDomId(G),
						V && V.appendChild(q),
						this.emit('videoAdded', q, G),
						window.setTimeout(function() {
							z.webrtc.isAudioEnabled() || G.send('mute', {
									name: 'audio'
								}),
								z.webrtc.isVideoEnabled() || G.send('mute', {
									name: 'video'
								})
						}, 250)
				},
				M.prototype.handlePeerStreamRemoved = function(G) {
					var z = this.getRemoteVideoContainer(),
						V = G.videoEl;
					this.config.autoRemoveVideos && z && V && z.removeChild(V),
						V && this.emit('videoRemoved', V, G)
				},
				M.prototype.getDomId = function(G) {
					return [G.id, G.type, G.broadcaster ? 'broadcasting' : 'incoming'].join('_')
				},
				M.prototype.setVolumeForAll = function(G) {
					this.webrtc.peers.forEach(function(z) {
						z.videoEl && (z.videoEl.volume = G)
					})
				},
				M.prototype.joinRoom = function(G, z) {
					var V = this;
					this.roomName = G,
						this.connection.emit('join', G, function(q, H) {
							if (console.log('join CB', q, H), q) V.emit('error', q);
							else {
								var J, W, X, Y;
								for (J in H.clients)
									for (X in W = H.clients[J], W) W[X] && (Y = V.webrtc.createPeer({
										id: J,
										type: X,
										enableDataChannels: V.config.enableDataChannels && 'screen' !== X,
										receiveMedia: {
											offerToReceiveAudio: 'screen' !== X && V.config.receiveMedia.offerToReceiveAudio ? 1 : 0,
											offerToReceiveVideo: V.config.receiveMedia.offerToReceiveVideo
										}
									}), V.emit('createdPeer', Y), Y.start())
							}
							z && z(q, H),
								V.emit('joinedRoom', G)
						})
				},
				M.prototype.getEl = function(G) {
					return 'string' == typeof G ? document.getElementById(G) : G
				},
				M.prototype.startLocalVideo = function() {
					var G = this;
					this.webrtc.start(this.config.media, function(z, V) {
						z ? G.emit('localMediaError', z) : N(V, G.getLocalVideoContainer(), G.config.localVideo)
					})
				},
				M.prototype.stopLocalVideo = function() {
					this.webrtc.stop()
				},
				M.prototype.getLocalVideoContainer = function() {
					var G = this.getEl(this.config.localVideoEl);
					if (G && 'VIDEO' === G.tagName) return G.oncontextmenu = function() {
							return !1
						},
						G;
					if (G) {
						var z = document.createElement('video');
						return z.oncontextmenu = function() {
								return !1
							},
							G.appendChild(z),
							z
					}
				},
				M.prototype.getRemoteVideoContainer = function() {
					return this.getEl(this.config.remoteVideosEl)
				},
				M.prototype.shareScreen = function(G) {
					this.webrtc.startScreenShare(G)
				},
				M.prototype.getLocalScreen = function() {
					return this.webrtc.localScreens && this.webrtc.localScreens[0]
				},
				M.prototype.stopScreenShare = function() {
					this.connection.emit('unshareScreen');
					var G = document.getElementById('localScreen'),
						z = this.getRemoteVideoContainer();
					this.config.autoRemoveVideos && z && G && z.removeChild(G),
						G && this.emit('videoRemoved', G),
						this.getLocalScreen() && this.webrtc.stopScreenShare(),
						this.webrtc.peers.forEach(function(V) {
							V.broadcaster && V.end()
						})
				},
				M.prototype.testReadiness = function() {
					var G = this;
					this.sessionReady && (this.config.media.video || this.config.media.audio ? 0 < this.webrtc.localStreams.length && G.emit('readyToCall', G.connection.getSessionid()) : G.emit('readyToCall', G.connection.getSessionid()))
				},
				M.prototype.createRoom = function(G, z) {
					this.roomName = G,
						2 === arguments.length ? this.connection.emit('create', G, z) : this.connection.emit('create', G)
				},
				M.prototype.sendFile = function() {
					if (!B.dataChannel) return this.emit('error', new Error('DataChannelNotSupported'))
				},
				R.exports = M
		}, {
			'./socketioconnection': 79,
			'./webrtc': 80,
			attachmediastream: 3,
			mockconsole: 46,
			webrtcsupport: 74,
			wildemitter: 75
		}],
		79: [function(P, R) {
			function M(I) {
				this.connection = A.connect(I.url, I.socketio)
			}
			var A = P('socket.io-client');
			M.prototype.on = function(I, B) {
					this.connection.on(I, B)
				},
				M.prototype.emit = function() {
					this.connection.emit.apply(this.connection, arguments)
				},
				M.prototype.getSessionid = function() {
					return this.connection.id
				},
				M.prototype.disconnect = function() {
					return this.connection.disconnect()
				},
				R.exports = M
		}, {
			'socket.io-client': 60
		}],
		80: [function(P, R) {
			function M(F) {
				var G = this,
					z = F || {},
					V = this.config = {
						debug: !1,
						peerConnectionConfig: {
							iceServers: [{
								urls: 'stun:stun.l.google.com:19302'
							}]
						},
						peerConnectionConstraints: {
							optional: []
						},
						receiveMedia: {
							offerToReceiveAudio: 1,
							offerToReceiveVideo: 1
						},
						enableDataChannels: !0
					},
					q;
				for (q in this.logger = function() {
						return F.debug ? F.logger || console : F.logger || B
					}(), z) z.hasOwnProperty(q) && (this.config[q] = z[q]);
				I.support || this.logger.error('Your browser doesn\'t seem to support WebRTC'),
					this.peers = [],
					N.call(this, this.config),
					this.on('speaking', function() {
						G.hardMuted || G.peers.forEach(function(H) {
							if (H.enableDataChannels) {
								var J = H.getDataChannel('hark');
								if ('open' != J.readyState) return;
								J.send(JSON.stringify({
									type: 'speaking'
								}))
							}
						})
					}),
					this.on('stoppedSpeaking', function() {
						G.hardMuted || G.peers.forEach(function(H) {
							if (H.enableDataChannels) {
								var J = H.getDataChannel('hark');
								if ('open' != J.readyState) return;
								J.send(JSON.stringify({
									type: 'stoppedSpeaking'
								}))
							}
						})
					}),
					this.on('volumeChange', function(H) {
						G.hardMuted || G.peers.forEach(function(W) {
							if (W.enableDataChannels) {
								var X = W.getDataChannel('hark');
								if ('open' != X.readyState) return;
								X.send(JSON.stringify({
									type: 'volume',
									volume: H
								}))
							}
						})
					}),
					this.config.debug && this.on('*', function(H, J, W) {
						var X;
						X = G.config.logger === B ? console : G.logger,
							X.log('event:', H, J, W)
					})
			}
			var A = P('util'),
				I = P('webrtcsupport'),
				B = P('mockconsole'),
				N = P('localmedia'),
				U = P('./peer');
			A.inherits(M, N),
				M.prototype.createPeer = function(F) {
					var G;
					return F.parent = this,
						G = new U(F),
						this.peers.push(G),
						G
				},
				M.prototype.removePeers = function(F, G) {
					this.getPeers(F, G).forEach(function(z) {
						z.end()
					})
				},
				M.prototype.getPeers = function(F, G) {
					return this.peers.filter(function(z) {
						return (!F || z.id === F) && (!G || z.type === G)
					})
				},
				M.prototype.sendToAll = function(F, G) {
					this.peers.forEach(function(z) {
						z.send(F, G)
					})
				},
				M.prototype.sendDirectlyToAll = function(F, G, z) {
					this.peers.forEach(function(V) {
						V.enableDataChannels && V.sendDirectly(F, G, z)
					})
				},
				R.exports = M
		}, {
			'./peer': 77,
			localmedia: 44,
			mockconsole: 46,
			util: 73,
			webrtcsupport: 74
		}]
	}, {}, [78])(78)
});
